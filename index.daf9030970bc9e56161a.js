!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){t(1),t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10);const{Elm:r}=t(11),o="#debug"===location.hash,i=r.Main.init({node:document.getElementById("main"),flags:{selectScene:o}});var a=t(12).keys();a.length||c(),a.map((function(n){var e=new Image;return e.src="img/"+n,e.onload=s,console.log("loading",e.src),e}));var u=0;function s(){++u===a.length&&c()}function c(){i.ports.loaded.send(!0),console.log("loaded")}document.addEventListener("keydown",(function(n){i.ports.keyPress.send(n.key)," "!=n.key&&"Backspace"!==n.key||n.preventDefault()}))},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){!function(n){"use strict";function e(n,e,t){return t.a=n,t.f=e,t}function t(n){return e(2,n,(function(e){return function(t){return n(e,t)}}))}function r(n){return e(3,n,(function(e){return function(t){return function(r){return n(e,t,r)}}}))}function o(n){return e(4,n,(function(e){return function(t){return function(r){return function(o){return n(e,t,r,o)}}}}))}function i(n){return e(5,n,(function(e){return function(t){return function(r){return function(o){return function(i){return n(e,t,r,o,i)}}}}}))}function a(n,e,t){return 2===n.a?n.f(e,t):n(e)(t)}function u(n,e,t,r){return 3===n.a?n.f(e,t,r):n(e)(t)(r)}function s(n,e,t,r,o){return 4===n.a?n.f(e,t,r,o):n(e)(t)(r)(o)}function c(n,e,t,r,o,i){return 5===n.a?n.f(e,t,r,o,i):n(e)(t)(r)(o)(i)}console.warn("Compiled in DEV mode. Follow the advice at https://elm-lang.org/0.19.0/optimize for better performance and smaller assets.");var f=r((function(n,e,t){for(var r=Array(n),o=0;n>o;o++)r[o]=t(e+o);return r})),l=t((function(n,e){for(var t=Array(n),r=0;n>r&&e.b;r++)t[r]=e.a,e=e.b;return t.length=r,P(t,e)})),d=t((function(n,e){return e[n]})),h=r((function(n,e,t){for(var r=t.length-1;r>=0;r--)e=a(n,t[r],e);return e})),g={$:"[]"};function p(n,e){return{$:"::",a:n,b:e}}var b=t(p);function v(n){for(var e=g,t=n.length;t--;)e=p(n[t],e);return e}function m(n){for(var e=[];n.b;n=n.b)e.push(n.a);return e}var y=r((function(n,e,t){for(var r=[];e.b&&t.b;e=e.b,t=t.b)r.push(a(n,e.a,t.a));return v(r)})),_=t((function(n,e){return v(m(e).sort((function(e,t){return C(n(e),n(t))})))})),E=t((function(n,e){return console.log(n+": "+w(e)),e}));function w(n){return function n(e,t){if("function"==typeof t)return S(e,"<function>");if("boolean"==typeof t)return k(e,t?"True":"False");if("number"==typeof t)return function(n,e){return n?"[95m"+e+"[0m":e}(e,t+"");if(t instanceof String)return function(n,e){return n?"[92m"+e+"[0m":e}(e,"'"+R(t,!0)+"'");if("string"==typeof t)return function(n,e){return n?"[93m"+e+"[0m":e}(e,'"'+R(t,!1)+'"');if("object"==typeof t&&"$"in t){var r=t.$;if("number"==typeof r)return S(e,"<internals>");if("#"===r[0]){var o=[];for(var i in t)"$"!==i&&o.push(n(e,t[i]));return"("+o.join(",")+")"}if("Set_elm_builtin"===r)return k(e,"Set")+$(e,".fromList")+" "+n(e,Me(t));if("RBNode_elm_builtin"===r||"RBEmpty_elm_builtin"===r)return k(e,"Dict")+$(e,".fromList")+" "+n(e,Ce(t));if("Array_elm_builtin"===r)return k(e,"Array")+$(e,".fromList")+" "+n(e,xe(t));if("::"===r||"[]"===r){for(o="[",t.b&&(o+=n(e,t.a),t=t.b);t.b;t=t.b)o+=","+n(e,t.a);return o+"]"}for(var a in o="",t)if("$"!==a){var u=n(e,t[a]),s=u[0];o+=" "+("{"===s||"("===s||"["===s||"<"===s||'"'===s||0>u.indexOf(" ")?u:"("+u+")")}return k(e,r)+o}if("object"==typeof t){for(var c in o=[],t){var f="_"===c[0]?c.slice(1):c;o.push($(e,f)+" = "+n(e,t[c]))}return 0===o.length?"{}":"{ "+o.join(", ")+" }"}return S(e,"<internals>")}(!1,n)}function R(n,e){var t=n.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?t.replace(/\'/g,"\\'"):t.replace(/\"/g,'\\"')}function k(n,e){return n?"[96m"+e+"[0m":e}function $(n,e){return n?"[37m"+e+"[0m":e}function S(n,e){return n?"[94m"+e+"[0m":e}function L(n,e,t,r,o){switch(n){case 0:throw Error('What node should I take over? In JavaScript I need something like:\n\n    Elm.Main.init({\n        node: document.getElementById("elm-node")\n    })\n\nYou need to do this with any Browser.sandbox or Browser.element program.');case 1:throw Error("Browser.application programs cannot handle URLs like this:\n\n    "+document.location.href+"\n\nWhat is the root? The root of your file system? Try looking at this program with `elm reactor` or some other server.");case 2:throw Error("Problem with the flags given to your Elm program on initialization.\n\n"+e);case 3:throw Error("There can only be one port named `"+e+"`, but your program has multiple.");case 4:throw Error("Trying to send an unexpected type of value through port `"+e+"`:\n"+t);case 5:throw Error('Trying to use `(==)` on functions.\nThere is no way to know if functions are "the same" in the Elm sense.\nRead more about this at https://package.elm-lang.org/packages/elm/core/latest/Basics#== which describes why it is this way and what the better version will look like.');case 6:throw Error("Your page is loading multiple Elm scripts with a module named "+e+". Maybe a duplicate script is getting loaded accidentally? If not, rename one of them so I know which is which!");case 8:var i=r;throw Error("TODO in module `"+e+"` "+T(t)+"\n\n"+i);case 9:var a=r;throw i=o,Error("TODO in module `"+e+"` from the `case` expression "+T(t)+"\n\nIt received the following value:\n\n    "+w(a).replace("\n","\n    ")+"\n\nBut the branch that handles it says:\n\n    "+i.replace("\n","\n    "));case 10:throw Error("Bug in https://github.com/elm/virtual-dom/issues");case 11:throw Error("Cannot perform mod 0. Division by zero error.")}}function T(n){return n.start.line===n.end.line?"on line "+n.start.line:"on lines "+n.start.line+" through "+n.end.line}function A(n,e){for(var t,r=[],o=x(n,e,0,r);o&&(t=r.pop());o=x(t.a,t.b,0,r));return o}function x(n,e,t,r){if(t>100)return r.push(P(n,e)),!0;if(n===e)return!0;if("object"!=typeof n||null===n||null===e)return"function"==typeof n&&L(5),!1;for(var o in"Set_elm_builtin"===n.$&&(n=Me(n),e=Me(e)),"RBNode_elm_builtin"!==n.$&&"RBEmpty_elm_builtin"!==n.$||(n=Ce(n),e=Ce(e)),n)if(!x(n[o],e[o],t+1,r))return!1;return!0}var I=t(A),O=t((function(n,e){return!A(n,e)}));function C(n,e,t){if("object"!=typeof n)return n===e?0:e>n?-1:1;if(n instanceof String){var r=n.valueOf(),o=e.valueOf();return r===o?0:o>r?-1:1}if("#"===n.$[0])return(t=C(n.a,e.a))?t:(t=C(n.b,e.b))?t:C(n.c,e.c);for(;n.b&&e.b&&!(t=C(n.a,e.a));n=n.b,e=e.b);return t||(n.b?1:e.b?-1:0)}var M=t((function(n,e){var t=C(n,e);return 0>t?Te:t?Ie:Le})),N={$:"#0"};function P(n,e){return{$:"#2",a:n,b:e}}function B(n,e,t){return{$:"#3",a:n,b:e,c:t}}function Y(n){return new String(n)}function F(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function j(n,e){if("string"==typeof n)return n+e;if(!n.b)return e;var t=p(n.a,e);n=n.b;for(var r=t;n.b;n=n.b)r=r.b=p(n.a,e);return t}var D=t((function(n,e){return n+e})),H=Math.ceil,G=Math.floor,U=Math.log,W=i((function(n,e,t,r,o){for(var i=n.length,a=o.length>=e+i,u=0;a&&i>u;){var s=o.charCodeAt(e);a=n[u++]===o[e++]&&(10===s?(t++,r=1):(r++,55296==(63488&s)?n[u++]===o[e++]:1))}return B(a?e:-1,t,r)})),K=r((function(n,e,t){return t.length>e?55296==(63488&t.charCodeAt(e))?n(Y(t.substr(e,2)))?e+2:-1:n(Y(t[e]))?"\n"===t[e]?-2:e+1:-1:-1})),J=i((function(n,e,t,r,o){for(var i=o.indexOf(n,e),a=0>i?o.length:i+n.length;a>e;){var u=o.charCodeAt(e++);10===u?(r=1,t++):(r++,55296==(63488&u)&&e++)}return B(i,t,r)})),q=t((function(n,e){return e.split(n)})),z=t((function(n,e){return e.join(n)})),Q=r((function(n,e,t){return t.slice(n,e)})),V=t((function(n,e){for(var t=e.length;t--;){var r=e[t],o=e.charCodeAt(t);if(56320>o||o>57343||(r=e[--t]+r),!n(Y(r)))return!1}return!0}));function X(n){return{$:2,b:n}}X((function(n){return"number"!=typeof n?cn("an INT",n):n>-2147483647&&2147483647>n&&(0|n)===n?br(n):!isFinite(n)||n%1?cn("an INT",n):br(n)}));var Z=X((function(n){return"boolean"==typeof n?br(n):cn("a BOOL",n)})),nn=(X((function(n){return"number"==typeof n?br(n):cn("a FLOAT",n)})),X((function(n){return br(hn(n))})),X((function(n){return"string"==typeof n?br(n):n instanceof String?br(n+""):cn("a STRING",n)}))),en=t((function(n,e){return{$:6,d:n,b:e}})),tn=t((function(n,e){return{$:10,b:e,h:n}})),rn=t((function(n,e){return on(n,gn(e))}));function on(n,e){switch(n.$){case 2:return n.b(e);case 5:return null===e?br(n.c):cn("null",e);case 3:return un(e)?an(n.b,e,v):cn("a LIST",e);case 4:return un(e)?an(n.b,e,sn):cn("an ARRAY",e);case 6:var t=n.d;if("object"!=typeof e||null===e||!(t in e))return cn("an OBJECT with a field named `"+t+"`",e);var r=on(n.b,e[t]);return Ti(r)?r:pr(a(Ci,t,r.a));case 7:var o=n.e;return un(e)?e.length>o?(r=on(n.b,e[o]),Ti(r)?r:pr(a(Mi,o,r.a))):cn("a LONGER array. Need index "+o+" but only see "+e.length+" entries",e):cn("an ARRAY",e);case 8:if("object"!=typeof e||null===e||un(e))return cn("an OBJECT",e);var i=g;for(var u in e)if(e.hasOwnProperty(u)){if(r=on(n.b,e[u]),!Ti(r))return pr(a(Ci,u,r.a));i=p(P(u,r.a),i)}return br(lr(i));case 9:for(var s=n.f,c=n.g,f=0;c.length>f;f++){if(r=on(c[f],e),!Ti(r))return r;s=s(r.a)}return br(s);case 10:return r=on(n.b,e),Ti(r)?on(n.h(r.a),e):r;case 11:for(var l=g,d=n.g;d.b;d=d.b){if(r=on(d.a,e),Ti(r))return r;l=p(r.a,l)}return pr(Ni(lr(l)));case 1:return pr(a(Oi,n.a,hn(e)));case 0:return br(n.a)}}function an(n,e,t){for(var r=e.length,o=Array(r),i=0;r>i;i++){var u=on(n,e[i]);if(!Ti(u))return pr(a(Mi,i,u.a));o[i]=u.a}return br(t(o))}function un(n){return Array.isArray(n)||"function"==typeof FileList&&n instanceof FileList}function sn(n){return a(Ii,n.length,(function(e){return n[e]}))}function cn(n,e){return pr(a(Oi,"Expecting "+n,hn(e)))}function fn(n,e){if(n===e)return!0;if(n.$!==e.$)return!1;switch(n.$){case 0:case 1:return n.a===e.a;case 2:return n.b===e.b;case 5:return n.c===e.c;case 3:case 4:case 8:return fn(n.b,e.b);case 6:return n.d===e.d&&fn(n.b,e.b);case 7:return n.e===e.e&&fn(n.b,e.b);case 9:return n.f===e.f&&ln(n.g,e.g);case 10:return n.h===e.h&&fn(n.b,e.b);case 11:return ln(n.g,e.g)}}function ln(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;t>r;r++)if(!fn(n[r],e[r]))return!1;return!0}var dn=t((function(n,e){return JSON.stringify(gn(e),null,n)+""}));function hn(n){return{$:0,a:n}}function gn(n){return n.a}function pn(n){return{$:0,a:n}}function bn(n){return{$:2,b:n,c:null}}hn(null);var vn=t((function(n,e){return{$:3,b:n,d:e}})),mn=0;function yn(n){var e={$:0,e:mn++,f:n,g:null,h:[]};return wn(e),e}var _n=!1,En=[];function wn(n){if(En.push(n),!_n){for(_n=!0;n=En.shift();)Rn(n);_n=!1}}function Rn(n){for(;n.f;){var e=n.f.$;if(0===e||1===e){for(;n.g&&n.g.$!==e;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===e)return void(n.f.c=n.f.b((function(e){n.f=e,wn(n)})));if(5===e){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===e?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}var kn={};function $n(n,e){var t={g:e,h:void 0},r=n.c,o=n.d,i=n.e,c=n.f;return t.h=yn(a(vn,(function n(e){return a(vn,n,{$:5,b:function(n){var a=n.a;return 0===n.$?u(o,t,a,e):i&&c?s(r,t,a.i,a.j,e):u(r,t,i?a.i:a.j,e)}})}),n.b))}var Sn=t((function(n,e){return bn((function(t){n.g(e),t(pn(N))}))}));function Ln(n){return function(e){return{$:1,k:n,l:e}}}function Tn(n){return{$:2,m:n}}function An(n,e,t){var r,o={};for(var i in xn(!0,e,o,null),xn(!1,t,o,null),n)(r=n[i]).h.push({$:"fx",a:o[i]||{i:g,j:g}}),wn(r)}function xn(n,e,t,r){switch(e.$){case 1:var o=e.k,i=function(n,t,r){return a(n?kn[t].e:kn[t].f,(function(n){for(var e=r;e;e=e.q)n=e.p(n);return n}),e.l)}(n,o,r);return void(t[o]=function(n,e,t){return t=t||{i:g,j:g},n?t.i=p(e,t.i):t.j=p(e,t.j),t}(n,i,t[o]));case 2:for(var u=e.m;u.b;u=u.b)xn(n,u.a,t,r);return;case 3:return void xn(n,e.o,t,{p:e.n,q:r})}}function In(n,e){return function(n){kn[n]&&L(3,n)}(n),kn[n]={f:Cn,r:e,a:Mn},Ln(n)}var On,Cn=t((function(n,e){return function(t){return n(e(t))}}));function Mn(n,e){var t=g,o=kn[n].r,i=pn(null);return kn[n].b=i,kn[n].c=r((function(n,e){return t=e,i})),{send:function(r){var i=a(rn,o,hn(r));Ti(i)||L(4,n,i.a);for(var u=i.a,s=t;s.b;s=s.b)e(s.a(u))}}}var Nn="undefined"!=typeof document?document:{};function Pn(n,e){n.appendChild(e)}function Bn(n){return{$:0,a:n}}var Yn,Fn=t((function(n,e){return t((function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b||0,o.push(a)}return i+=o.length,{$:1,c:e,d:Un(t),e:o,f:n,b:i}}))}))(void 0),jn=t((function(n,e){return t((function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b.b||0,o.push(a)}return i+=o.length,{$:2,c:e,d:Un(t),e:o,f:n,b:i}}))}))(void 0),Dn=t((function(n,e){return{$:"a0",n:n,o:e}})),Hn=t((function(n,e){return{$:"a2",n:n,o:e}})),Gn=t((function(n,e){return{$:"a3",n:n,o:e}}));function Un(n){for(var e={};n.b;n=n.b){var t=n.a,r=t.$,o=t.n,i=t.o;if("a2"!==r){var a=e[r]||(e[r]={});"a3"===r&&"class"===o?Wn(a,o,i):a[o]=i}else"className"===o?Wn(e,o,gn(i)):e[o]=gn(i)}return e}function Wn(n,e,t){var r=n[e];n[e]=r?r+" "+t:t}function Kn(n,e){var t=n.$;if(5===t)return Kn(n.k||(n.k=n.m()),e);if(0===t)return Nn.createTextNode(n.a);if(4===t){for(var r=n.k,o=n.j;4===r.$;)"object"!=typeof o?o=[o,r.j]:o.push(r.j),r=r.k;var i={j:o,p:e};return(a=Kn(r,i)).elm_event_node_ref=i,a}if(3===t)return Jn(a=n.h(n.g),e,n.d),a;var a=n.f?Nn.createElementNS(n.f,n.c):Nn.createElement(n.c);On&&"a"==n.c&&a.addEventListener("click",On(a)),Jn(a,e,n.d);for(var u=n.e,s=0;u.length>s;s++)Pn(a,Kn(1===t?u[s]:u[s].b,e));return a}function Jn(n,e,t){for(var r in t){var o=t[r];"a1"===r?qn(n,o):"a0"===r?Vn(n,e,o):"a3"===r?zn(n,o):"a4"===r?Qn(n,o):("value"!==r||"checked"!==r||n[r]!==o)&&(n[r]=o)}}function qn(n,e){var t=n.style;for(var r in e)t[r]=e[r]}function zn(n,e){for(var t in e){var r=e[t];r?n.setAttribute(t,r):n.removeAttribute(t)}}function Qn(n,e){for(var t in e){var r=e[t],o=r.f,i=r.o;i?n.setAttributeNS(o,t,i):n.removeAttributeNS(o,t)}}function Vn(n,e,t){var r=n.elmFs||(n.elmFs={});for(var o in t){var i=t[o],a=r[o];if(i){if(a){if(a.q.$===i.$){a.q=i;continue}n.removeEventListener(o,a)}a=Xn(e,i),n.addEventListener(o,a,Yn&&{passive:2>uu(i)}),r[o]=a}else n.removeEventListener(o,a),r[o]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Yn=!0}}))}catch(n){}function Xn(n,e){function t(e){var r=t.q,o=on(r.a,e);if(Ti(o)){for(var i,a=uu(r),u=o.a,s=a?3>a?u.a:u.message:u,c=1==a?u.b:3==a&&u.stopPropagation,f=(c&&e.stopPropagation(),(2==a?u.b:3==a&&u.preventDefault)&&e.preventDefault(),n);i=f.j;){if("function"==typeof i)s=i(s);else for(var l=i.length;l--;)s=i[l](s);f=f.p}f(s,c)}}return t.q=e,t}function Zn(n,e){return n.$==e.$&&fn(n.a,e.a)}function ne(n,e,t,r){var o={$:e,r:t,s:r,t:void 0,u:void 0};return n.push(o),o}function ee(n,e,t,r){if(n!==e){var o=n.$,i=e.$;if(o!==i){if(1!==o||2!==i)return void ne(t,0,r,e);e=function(n){for(var e=n.e,t=e.length,r=Array(t),o=0;t>o;o++)r[o]=e[o].b;return{$:1,c:n.c,d:n.d,e:r,f:n.f,b:n.b}}(e),i=1}switch(i){case 5:for(var a=n.l,u=e.l,s=a.length,c=s===u.length;c&&s--;)c=a[s]===u[s];if(c)return void(e.k=n.k);e.k=e.m();var f=[];return ee(n.k,e.k,f,0),void(f.length>0&&ne(t,1,r,f));case 4:for(var l=n.j,d=e.j,h=!1,g=n.k;4===g.$;)h=!0,"object"!=typeof l?l=[l,g.j]:l.push(g.j),g=g.k;for(var p=e.k;4===p.$;)h=!0,"object"!=typeof d?d=[d,p.j]:d.push(p.j),p=p.k;return h&&l.length!==d.length?void ne(t,0,r,e):((h?function(n,e){for(var t=0;n.length>t;t++)if(n[t]!==e[t])return!1;return!0}(l,d):l===d)||ne(t,2,r,d),void ee(g,p,t,r+1));case 0:return void(n.a!==e.a&&ne(t,3,r,e.a));case 1:return void te(n,e,t,r,oe);case 2:return void te(n,e,t,r,ie);case 3:if(n.h!==e.h)return void ne(t,0,r,e);var b=re(n.d,e.d);b&&ne(t,4,r,b);var v=e.i(n.g,e.g);return void(v&&ne(t,5,r,v))}}}function te(n,e,t,r,o){if(n.c===e.c&&n.f===e.f){var i=re(n.d,e.d);i&&ne(t,4,r,i),o(n,e,t,r)}else ne(t,0,r,e)}function re(n,e,t){var r;for(var o in n)if("a1"!==o&&"a0"!==o&&"a3"!==o&&"a4"!==o)if(o in e){var i=n[o],a=e[o];i===a&&"value"!==o&&"checked"!==o||"a0"===t&&Zn(i,a)||((r=r||{})[o]=a)}else(r=r||{})[o]=t?"a1"===t?"":"a0"===t||"a3"===t?void 0:{f:n[o].f,o:void 0}:"string"==typeof n[o]?"":null;else{var u=re(n[o],e[o]||{},o);u&&((r=r||{})[o]=u)}for(var s in e)s in n||((r=r||{})[s]=e[s]);return r}function oe(n,e,t,r){var o=n.e,i=e.e,a=o.length,u=i.length;a>u?ne(t,6,r,{v:u,i:a-u}):u>a&&ne(t,7,r,{v:a,e:i});for(var s=u>a?a:u,c=0;s>c;c++){var f=o[c];ee(f,i[c],t,++r),r+=f.b||0}}function ie(n,e,t,r){for(var o=[],i={},a=[],u=n.e,s=e.e,c=u.length,f=s.length,l=0,d=0,h=r;c>l&&f>d;){var g=(S=u[l]).a,p=(L=s[d]).a,b=S.b,v=L.b;if(g!==p){var m=u[l+1],y=s[d+1];if(m)var _=m.a,E=m.b,w=p===_;if(y)var R=y.a,k=y.b,$=g===R;if($&&w)ee(b,k,o,++h),ue(i,o,g,v,d,a),h+=b.b||0,se(i,o,g,E,++h),h+=E.b||0,l+=2,d+=2;else if($)h++,ue(i,o,p,v,d,a),ee(b,k,o,h),h+=b.b||0,l+=1,d+=2;else if(w)se(i,o,g,b,++h),h+=b.b||0,ee(E,v,o,++h),h+=E.b||0,l+=2,d+=1;else{if(!m||_!==R)break;se(i,o,g,b,++h),ue(i,o,p,v,d,a),h+=b.b||0,ee(E,k,o,++h),h+=E.b||0,l+=2,d+=2}}else ee(b,v,o,++h),h+=b.b||0,l++,d++}for(;c>l;){var S;se(i,o,(S=u[l]).a,b=S.b,++h),h+=b.b||0,l++}for(;f>d;){var L,T=T||[];ue(i,o,(L=s[d]).a,L.b,void 0,T),d++}(o.length>0||a.length>0||T)&&ne(t,8,r,{w:o,x:a,y:T})}var ae="_elmW6BL";function ue(n,e,t,r,o,i){var a=n[t];if(!a)return i.push({r:o,A:a={c:0,z:r,r:o,s:void 0}}),void(n[t]=a);if(1===a.c){i.push({r:o,A:a}),a.c=2;var u=[];return ee(a.z,r,u,a.r),a.r=o,void(a.s.s={w:u,A:a})}ue(n,e,t+ae,r,o,i)}function se(n,e,t,r,o){var i=n[t];if(i){if(0===i.c){i.c=2;var a=[];return ee(r,i.z,a,o),void ne(e,9,o,{w:a,A:i})}se(n,e,t+ae,r,o)}else{var u=ne(e,9,o,void 0);n[t]={c:1,z:r,r:o,s:u}}}function ce(n,e){for(var t=0;e.length>t;t++){var r=e[t],o=r.t,i=fe(o,r);o===n&&(n=i)}return n}function fe(n,e){switch(e.$){case 0:return function(n){var t=n.parentNode,r=Kn(e.s,e.u);return r.elm_event_node_ref||(r.elm_event_node_ref=n.elm_event_node_ref),t&&r!==n&&t.replaceChild(r,n),r}(n);case 4:return Jn(n,e.u,e.s),n;case 3:return n.replaceData(0,n.length,e.s),n;case 1:return ce(n,e.s);case 2:return n.elm_event_node_ref?n.elm_event_node_ref.j=e.s:n.elm_event_node_ref={j:e.s,p:e.u},n;case 6:for(var t=e.s,r=0;t.i>r;r++)n.removeChild(n.childNodes[t.v]);return n;case 7:for(var o=(t=e.s).e,i=n.childNodes[r=t.v];o.length>r;r++)n.insertBefore(Kn(o[r],e.u),i);return n;case 9:if(!(t=e.s))return n.parentNode.removeChild(n),n;var a=t.A;return void 0!==a.r&&n.parentNode.removeChild(n),a.s=ce(n,t.w),n;case 8:return function(n,e){var t=e.s,r=function(n,e){if(n){for(var t=Nn.createDocumentFragment(),r=0;n.length>r;r++){var o=n[r].A;Pn(t,2===o.c?o.s:Kn(o.z,e.u))}return t}}(t.y,e);n=ce(n,t.w);for(var o=t.x,i=0;o.length>i;i++){var a=o[i],u=a.A,s=2===u.c?u.s:Kn(u.z,e.u);n.insertBefore(s,n.childNodes[a.r])}return r&&Pn(n,r),n}(n,e);case 5:return e.s(n);default:L(10)}}var le=r((function(n,e,t){return function(n,e,t,r){return{$:3,d:Un(n),g:e,h:t,i:r}}(e,{a:n,b:t},de,he)}));function de(n){return a(be,n,Nn.createElement("div"))}function he(n,e){return(n.b!==e.b||n.a!==e.a)&&be(e)}var ge,pe,be=t((function(n,e){return e.innerHTML=ve(n.b,{highlight:function(n,e){return!e&&Lu(t.defaultHighlighting)&&(e=t.defaultHighlighting.a),"undefined"!=typeof hljs&&e&&hljs.listLanguages().indexOf(e)>=0?hljs.highlight(e,n,!0).value:n},gfm:r=(t=n.a).githubFlavored.a,tables:r&&r.tables,breaks:r&&r.breaks,sanitize:t.sanitize,smartypants:t.smartypants}),e;var t,r})),ve=(pe=(ge={}).exports={},function(){var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function e(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=n.normal,this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=u(n.item,"gm")(/bull/g,n.bullet)(),n.list=u(n.list)(/bull/g,n.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+n.def.source+")")(),n.blockquote=u(n.blockquote)("def",n.def)(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",n.html=u(n.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,n._tag)(),n.paragraph=u(n.paragraph)("hr",n.hr)("heading",n.heading)("lheading",n.lheading)("blockquote",n.blockquote)("tag","<"+n._tag)("def",n.def)(),n.normal=c({},n),n.gfm=c({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=u(n.paragraph)("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|")(),n.tables=c({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=n,e.lex=function(n,t){return new e(t).lex(n)},e.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)},e.prototype.token=function(e,t,r){var o,i,a,u,s,c,f,l,d;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},l=0;c.align.length>l;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;c.cells.length>l;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t,!0),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),this.tokens.push({type:"list_start",ordered:(u=a[2]).length>1}),o=!1,d=(a=a[0].match(this.rules.item)).length,l=0;d>l;l++)f=(c=a[l]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(f-=c.length,c=c.replace(this.options.pedantic?/^ {1,4}/gm:RegExp("^ {1,"+f+"}","gm"),"")),this.options.smartLists&&l!==d-1&&(u===(s=n.bullet.exec(a[l+1])[0])||u.length>1&&s.length>1||(e=a.slice(l+1).join("\n")+e,l=d-1)),i=o||/\n\n(?!\s*$)/.test(c),l!==d-1&&(o="\n"===c.charAt(c.length-1),i||(i=o)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(c,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(!r&&t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),this.tokens.links[a[1].toLowerCase()]={href:a[2],title:a[3]};else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;c.align.length>l;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;c.cells.length>l;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^_\_([\s\S]+?)_\_(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|_\_)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function r(n,e){if(this.options=e||f.defaults,this.links=n,this.rules=t.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?t.breaks:t.gfm:this.options.pedantic&&(this.rules=t.pedantic)}function o(n){this.options=n||{}}function i(n){this.tokens=[],this.token=null,this.options=n||f.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(n,e){return n.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(n,e){return n=n.source,e=e||"",function t(r,o){return r?(o=(o=o.source||o).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,o),t):RegExp(n,e)}}function s(){}function c(n){for(var e,t,r=1;arguments.length>r;r++)for(t in e=arguments[r])Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function f(n,t,r){if(r||"function"==typeof t){r||(r=t,t=null);var o,u,s=(t=c({},f.defaults,t||{})).highlight,l=0;try{o=e.lex(n,t)}catch(n){return r(n)}u=o.length;var d=function(n){if(n)return t.highlight=s,r(n);var e;try{e=i.parse(o,t)}catch(e){n=e}return t.highlight=s,n?r(n):r(null,e)};if(!s||3>s.length)return d();if(delete t.highlight,!u)return d();for(;o.length>l;l++)!function(n){"code"!==n.type?--u||d():s(n.text,n.lang,(function(e,t){return e?d(e):null==t||t===n.text?--u||d():(n.text=t,n.escaped=!0,void(--u||d()))}))}(o[l])}else try{return t&&(t=c({},f.defaults,t)),i.parse(e.lex(n,t),t)}catch(n){if(n.message+="\nPlease report this to https://github.com/chjj/marked.",(t||f.defaults).silent)return"<p>An error occured:</p><pre>"+a(n.message+"",!0)+"</pre>";throw n}}t._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,t._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,t.link=u(t.link)("inside",t._inside)("href",t._href)(),t.reflink=u(t.reflink)("inside",t._inside)(),t.normal=c({},t),t.pedantic=c({},t.normal,{strong:/^_\_(?=\S)([\s\S]*?\S)_\_(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),t.gfm=c({},t.normal,{escape:u(t.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(t.text)("]|","~]|")("|","|https?://|")()}),t.breaks=c({},t.gfm,{br:u(t.br)("{2,}","*")(),text:u(t.gfm.text)("{2,}","*")()}),r.rules=t,r.output=function(n,e,t){return new r(e,t).output(n)},r.prototype.output=function(n){for(var e,t,r,o,i="";n;)if(o=this.rules.escape.exec(n))n=n.substring(o[0].length),i+=o[1];else if(o=this.rules.autolink.exec(n))n=n.substring(o[0].length),"@"===o[2]?(t=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),r=this.mangle("mailto:")+t):r=t=a(o[1]),i+=this.renderer.link(r,null,t);else if(this.inLink||!(o=this.rules.url.exec(n))){if(o=this.rules.tag.exec(n))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),n=n.substring(o[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):a(o[0]):o[0];else if(o=this.rules.link.exec(n))n=n.substring(o[0].length),this.inLink=!0,i+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(n))||(o=this.rules.nolink.exec(n))){if(n=n.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){i+=o[0].charAt(0),n=o[0].substring(1)+n;continue}this.inLink=!0,i+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(n))n=n.substring(o[0].length),i+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(n))n=n.substring(o[0].length),i+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(n))n=n.substring(o[0].length),i+=this.renderer.codespan(a(o[2],!0));else if(o=this.rules.br.exec(n))n=n.substring(o[0].length),i+=this.renderer.br();else if(o=this.rules.del.exec(n))n=n.substring(o[0].length),i+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(n))n=n.substring(o[0].length),i+=this.renderer.text(a(this.smartypants(o[0])));else if(n)throw Error("Infinite loop on byte: "+n.charCodeAt(0))}else n=n.substring(o[0].length),t=a(o[1]),i+=this.renderer.link(r=t,null,t);return i},r.prototype.outputLink=function(n,e){var t=a(e.href),r=e.title?a(e.title):null;return"!"!==n[0].charAt(0)?this.renderer.link(t,r,this.output(n[1])):this.renderer.image(t,r,a(n[1]))},r.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"â€”").replace(/--/g,"â€“").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1â€˜").replace(/'/g,"â€™").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1â€œ").replace(/"/g,"â€").replace(/\.{3}/g,"â€¦"):n},r.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var e,t="",r=n.length,o=0;r>o;o++)e=n.charCodeAt(o),Math.random()>.5&&(e="x"+e.toString(16)),t+="&#"+e+";";return t},o.prototype.code=function(n,e,t){if(this.options.highlight){var r=this.options.highlight(n,e);null!=r&&r!==n&&(t=!0,n=r)}return e?'<pre><code class="'+this.options.langPrefix+a(e,!0)+'">'+(t?n:a(n,!0))+"\n</code></pre>\n":"<pre><code>"+(t?n:a(n,!0))+"\n</code></pre>"},o.prototype.blockquote=function(n){return"<blockquote>\n"+n+"</blockquote>\n"},o.prototype.html=function(n){return n},o.prototype.heading=function(n,e,t){return"<h"+e+' id="'+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(n,e){var t=e?"ol":"ul";return"<"+t+">\n"+n+"</"+t+">\n"},o.prototype.listitem=function(n){return"<li>"+n+"</li>\n"},o.prototype.paragraph=function(n){return"<p>"+n+"</p>\n"},o.prototype.table=function(n,e){return"<table>\n<thead>\n"+n+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(n){return"<tr>\n"+n+"</tr>\n"},o.prototype.tablecell=function(n,e){var t=e.header?"th":"td";return(e.align?"<"+t+' style="text-align:'+e.align+'">':"<"+t+">")+n+"</"+t+">\n"},o.prototype.strong=function(n){return"<strong>"+n+"</strong>"},o.prototype.em=function(n){return"<em>"+n+"</em>"},o.prototype.codespan=function(n){return"<code>"+n+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(n){return"<del>"+n+"</del>"},o.prototype.link=function(n,e,t){if(this.options.sanitize){try{var r=decodeURIComponent((o=n,o.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,(function(n,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})))).replace(/[^\w:]/g,"").toLowerCase()}catch(n){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return""}var o,i='<a href="'+n+'"';return e&&(i+=' title="'+e+'"'),i+">"+t+"</a>"},o.prototype.image=function(n,e,t){var r='<img src="'+n+'" alt="'+t+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},o.prototype.text=function(n){return n},i.parse=function(n,e,t){return new i(e,t).parse(n)},i.prototype.parse=function(n){this.inline=new r(n.links,this.options,this.renderer),this.tokens=n.reverse();for(var e="";this.next();)e+=this.tok();return e},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var n=this.token.text;"text"===this.peek().type;)n+="\n"+this.next().text;return this.inline.output(n)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var n,e,t,r,o="",i="";for(t="",n=0;this.token.header.length>n;n++)t+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(o+=this.renderer.tablerow(t),n=0;this.token.cells.length>n;n++){for(e=this.token.cells[n],t="",r=0;e.length>r;r++)t+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(t)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a);case"list_item_start":for(i="";"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,f.options=f.setOptions=function(n){return c(f.defaults,n),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},f.Parser=i,f.parser=i.parse,f.Renderer=o,f.Lexer=e,f.lexer=e.lex,f.InlineLexer=r,f.inlineLexer=r.output,f.parse=f,void 0!==ge&&"object"==typeof pe?ge.exports=f:"function"==typeof define&&define.amd?define((function(){return f})):this.marked=f}.call(function(){return this||("undefined"!=typeof window?window:global)}()),ge.exports),me=o((function(n,e,t,r){return function(e,t,r,o,i){var s=a(rn,e,hn(t?t.flags:void 0));Ti(s)||L(2,Ui(s.a));var c={},f=(s=r(s.a)).a,l=function(e,t){var r=n.setup&&n.setup(e),o=n.view,i=Nn.title,s=Nn.body,c=function n(e){if(3===e.nodeType)return Bn(e.textContent);if(1!==e.nodeType)return Bn("");for(var t=g,r=e.attributes,o=r.length;o--;){var i=r[o];t=p(a(Gn,i.name,i.value),t)}var s=e.tagName.toLowerCase(),c=g,f=e.childNodes;for(o=f.length;o--;)c=p(n(f[o]),c);return u(Fn,s,t,c)}(s);return function(n,e){e(n);var t=0;function r(){t=1===t?0:(ye(r),e(n),1)}return function(o,i){n=o,i?(e(n),2===t&&(t=1)):(0===t&&ye(r),t=2)}}(t,(function(n){On=r;var t=o(n),a=Fn("body")(g)(t.body),u=function(n,e){var t=[];return ee(n,e,t,0),t}(c,a);s=function(n,e,t,r){return 0===t.length?n:(function n(e,t,r,o){!function e(t,r,o,i,a,u,s){for(var c=o[i],f=c.r;f===a;){var l=c.$;if(1===l)n(t,r.k,c.s,s);else if(8===l)c.t=t,c.u=s,(d=c.s.w).length>0&&e(t,r,d,0,a,u,s);else if(9===l){c.t=t,c.u=s;var d,h=c.s;h&&(h.A.s=t,(d=h.w).length>0&&e(t,r,d,0,a,u,s))}else c.t=t,c.u=s;if(!(c=o[++i])||(f=c.r)>u)return i}var g=r.$;if(4===g){for(var p=r.k;4===p.$;)p=p.k;return e(t,p,o,i,a+1,u,t.elm_event_node_ref)}for(var b=r.e,v=t.childNodes,m=0;b.length>m;m++){a++;var y=1===g?b[m]:b[m].b,_=a+(y.b||0);if(!(a>f||f>_||(c=o[i=e(v[m],y,o,i,a,_,s)])&&(f=c.r)<=u))return i;a=_}return i}(e,t,r,0,0,t.b,o)}(n,e,t,r),ce(n,t))}(s,c,u,e),c=a,On=0,i!==t.title&&(Nn.title=i=t.title)}))}(h,f),d=function(n,e){var t;for(var r in kn){var o=kn[r];o.a&&((t=t||{})[r]=o.a(r,e)),n[r]=$n(o,e)}return t}(c,h);function h(n,e){l(f=(s=a(o,n,f)).a,e),An(c,s.b,i(f))}return An(c,s.b,i(f)),d?{ports:d}:{}}(e,r,n.init,n.update,n.subscriptions)})),ye="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(n){setTimeout(n,1e3/60)};"undefined"!=typeof document&&document,"undefined"!=typeof window&&window;var _e,Ee,we,Re=function(n){return{$:"Title",a:n}},ke=r((function(n,e,t){return e(n(t))})),$e=h,Se=r((function(n,e,r){var o=r.c,i=r.d,a=t((function(e,t){return u($e,"SubTree"===e.$?a:n,t,e.a)}));return u($e,a,u($e,n,e,i),o)})),Le={$:"EQ"},Te={$:"LT"},Ae=b,xe=function(n){return u(Se,Ae,g,n)},Ie={$:"GT"},Oe=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.d,o=n,i=u(n,t.b,t.c,u(Oe,n,e,t.e));n=o,e=i,t=r}})),Ce=function(n){return u(Oe,r((function(n,e,t){return a(Ae,P(n,e),t)})),g,n)},Me=function(n){return function(n){return u(Oe,r((function(n,e,t){return a(Ae,n,t)})),g,n)}(n.a)},Ne=M,Pe=function(n){return{$:"Just",a:n}},Be={$:"Nothing"},Ye=t((function(n,e){n:for(;;){if("RBEmpty_elm_builtin"===e.$)return Be;var t=e.c,r=e.d,o=e.e;switch(a(Ne,n,e.b).$){case"LT":n=n,e=r;continue n;case"EQ":return Pe(t);default:n=n,e=o;continue n}}})),Fe=t((function(n,e){return"Just"===e.$?n(e.a):Be})),je=r((function(n,e,t){return a(Fe,a(ke,(function(n){return n.stats}),Ye(e)),a(Ye,n,t))})),De=function(n){var e=u(je,"PLAYER","day",n);n:for(;"Just"===e.$;)switch(e.a){case 1:return"Monday morning";case 2:return"Tuesday morning";case 3:return"Wednesday morning";case 4:return"Thursday morning";case 5:return"Friday morning";default:break n}return"ERROR can't get PLAYER.day"},He=r((function(n,e,t){return P(t.a,{description:e,links:t.b.links,name:n,stats:t.b.stats,tags:t.b.tags})})),Ge=I,Ue=function(n){return""===n},We=t((function(n,e){return n(e)})),Ke=function(n){return n},Je=t((function(n,e){return{$:"Bad",a:n,b:e}})),qe=function(n){return{$:"Parser",a:n}},ze=t((function(n,e){return{$:"AddRight",a:n,b:e}})),Qe=o((function(n,e,t,r){return{col:e,contextStack:r,problem:t,row:n}})),Ve={$:"Empty"},Xe=t((function(n,e){return a(ze,Ve,s(Qe,n.row,n.col,e,n.context))})),Ze=function(n){return e={$:"Problem",a:n},qe((function(n){return a(Je,!1,a(Xe,n,e))}));var e},nt=r((function(n,e,t){return{$:"Good",a:n,b:e,c:t}})),et=function(n){return qe((function(e){return u(nt,!1,n,e)}))},tt=function(n){return Ue(n)?Ze("cannot be empty"):et(n)},rt=function(n){var e=n.charCodeAt(0);return 55296>e||e>56319?e:1024*(e-55296)+n.charCodeAt(1)-56320+65536},ot=function(n){var e=rt(n);return e>=97&&122>=e},it=function(n){var e=rt(n);return 90>=e&&e>=65},at=function(n){return ot(n)||it(n)},ut=function(n){var e=rt(n);return 57>=e&&e>=48},st=function(n){return ot(n)||it(n)||ut(n)},ct=t((function(n,e){for(;;){if(!e.b)return!1;var t=e.b;if(n(e.a))return!0;n=n,e=t}})),ft=t((function(n,e){return a(ct,(function(e){return A(e,n)}),e)})),lt=t((function(n,e){var t=e.a;return qe((function(e){var r=t(e);if("Bad"===r.$)return a(Je,r.a,f=r.b);var o=r.a,i=r.c,s=(0,n(r.b).a)(i);if("Bad"===s.$){var c=s.a,f=s.b;return a(Je,o||c,f)}return c=s.a,u(nt,o||c,s.b,s.c)}))})),dt=D,ht=K,gt=t((function(n,e){return qe((function(t){var r=u(ht,n,t.offset,t.src);return A(r,-1)?a(Je,!1,a(Xe,t,e)):A(r,-2)?u(nt,!0,N,{col:1,context:t.context,indent:t.indent,offset:t.offset+1,row:t.row+1,src:t.src}):u(nt,!0,N,{col:t.col+1,context:t.context,indent:t.indent,offset:r,row:t.row,src:t.src})}))})),pt=i((function(n,e,t,r,o){for(;;){var i=u(ht,n,e,o.src);if(A(i,-1))return u(nt,0>C(o.offset,e),N,{col:r,context:o.context,indent:o.indent,offset:e,row:t,src:o.src});A(i,-2)?(n=n,e+=1,t+=1,r=1,o=o):(n=n,e=i,t=t,r+=1,o=o)}})),bt=function(n){return qe((function(e){return c(pt,n,e.offset,e.row,e.col,e)}))},vt=bt,mt=t((function(n){return n})),yt=Q,_t=t((function(n,e){var t=e.a;return qe((function(e){var r=t(e);if("Bad"===r.$)return a(Je,r.a,r.b);var o=r.b,i=r.c;return u(nt,r.a,a(n,u(yt,e.offset,i.offset,e.src),o),i)}))})),Et=function(n){return a(_t,mt,n)},wt=r((function(n,e,t){var r=e.a,o=t.a;return qe((function(e){var t=r(e);if("Bad"===t.$)return a(Je,t.a,l=t.b);var i=t.a,s=t.b,c=o(t.c);if("Bad"===c.$){var f=c.a,l=c.b;return a(Je,i||f,l)}f=c.a;var d=c.c;return u(nt,i||f,a(n,s,c.b),d)}))})),Rt=t((function(n,e){return u(wt,mt,n,e)})),kt=a(lt,tt,Et(a(Rt,a(Rt,et(N),a(gt,at,{$:"UnexpectedChar"})),vt((function(n){return st(n)||a(ft,n,v([Y("_"),Y("-"),Y(":"),Y("#"),Y("+")]))}))))),$t={$:"Black"},St=i((function(n,e,t,r,o){return{$:"RBNode_elm_builtin",a:n,b:e,c:t,d:r,e:o}})),Lt={$:"RBEmpty_elm_builtin"},Tt={$:"Red"},At=i((function(n,e,t,r,o){if("RBNode_elm_builtin"===o.$&&"Red"===o.a.$){var i=o.b,a=o.c,u=o.d,s=o.e;return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(St,Tt,e,t,c(St,$t,r.b,r.c,r.d,l=r.e),c(St,$t,i,a,u,s)):c(St,n,i,a,c(St,Tt,e,t,r,u),s)}if("RBNode_elm_builtin"===r.$&&"Red"===r.a.$&&"RBNode_elm_builtin"===r.d.$&&"Red"===r.d.a.$){var f=r.d,l=r.e;return c(St,Tt,r.b,r.c,c(St,$t,f.b,f.c,f.d,f.e),c(St,$t,e,t,l,o))}return c(St,n,e,t,r,o)})),xt=r((function(n,e,t){if("RBEmpty_elm_builtin"===t.$)return c(St,Tt,n,e,Lt,Lt);var r=t.a,o=t.b,i=t.c,s=t.d,f=t.e;switch(a(Ne,n,o).$){case"LT":return c(At,r,o,i,u(xt,n,e,s),f);case"EQ":return c(St,r,o,e,s,f);default:return c(At,r,o,i,s,u(xt,n,e,f))}})),It=r((function(n,e,t){var r=u(xt,n,e,t);return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(St,$t,r.b,r.c,r.d,r.e):r})),Ot=function(n){return{$:"Set_elm_builtin",a:n}},Ct=t((function(n,e){return Ot(u(It,n,N,e.a))})),Mt=t((function(n,e){return F(e,{tags:a(Ct,n,e.tags)})})),Nt=Lt,Pt=Nt,Bt=Nt,Yt=Ot(Nt),Ft=r((function(n,e,t){return F(t,{links:u(It,n,e,t.links)})})),jt=r((function(n,e,t){return F(t,{stats:u(It,n,e,t.stats)})})),Dt=t((function(n,e){return"Just"===e.$?Pe(n(e.a)):Be})),Ht=t((function(n,e){return"Just"===e.$?e.a:n})),Gt=t((function(n,e){return u(wt,We,n,e)})),Ut=t((function(n,e){return{$:"Append",a:n,b:e}})),Wt=r((function(n,e,t){for(;;){if(!t.b)return a(Je,!1,e);var r=t.b,o=(0,t.a.a)(n);if("Good"===o.$)return o;var i,u=(i=o).b;if(i.a)return i;n=n,e=a(Ut,e,u),t=r}})),Kt=function(n){return qe((function(e){return u(Wt,e,Ve,n)}))},Jt=t((function(n,e){return{$:"Token",a:n,b:e}})),qt=function(n){return!n},zt=W,Qt=function(n){return function(n){var e=n.a,t=n.b,r=!Ue(e);return qe((function(n){var o=c(zt,e,n.offset,n.row,n.col,n.src),i=o.a,s=o.b,f=o.c;return A(i,-1)?a(Je,!1,a(Xe,n,t)):u(nt,r,N,{col:f,context:n.context,indent:n.indent,offset:i,row:s,src:n.src})}))}(a(Jt,n,{$:"ExpectingSymbol",a:n}))},Vt=(_e=a(lt,a(ke,(function(n){for(var e=0,t=n.charCodeAt(0),r=43==t||45==t?1:0,o=r;n.length>o;++o){var i=n.charCodeAt(o);if(48>i||i>57)return Be;e=10*e+i-48}return o==r?Be:Pe(45==t?-e:e)}),a(ke,Dt(et),Ht(Ze("not an int")))),Et(vt(ut))),Kt(v([a(Gt,a(Rt,et((function(n){return-n})),Qt("-")),_e),_e]))),Xt=a(lt,tt,Et(a(Rt,et(N),vt((function(n){return st(n)||a(ft,n,v([Y("_"),Y(":"),Y("#")]))}))))),Zt=function(n){return{$:"Done",a:n}},nr=function(n){return{$:"Loop",a:n}},er=t((function(n,e){var t=e.a;return qe((function(e){var r=t(e);if("Good"===r.$){var o=r.c;return u(nt,r.a,n(r.b),o)}return a(Je,r.a,r.b)}))})),tr=function(n){return"Loop"===n.$?{$:"Loop",a:n.a}:{$:"Done",a:n.a}},rr=o((function(n,e,t,r){n:for(;;){var o=(0,t(e).a)(r);if("Good"===o.$){var i=o.a,s=o.b,c=o.c;if("Loop"===s.$){n=n||i,e=s.a,t=t,r=c;continue n}return u(nt,n||i,s.a,c)}return i=o.a,a(Je,n||i,o.b)}})),or=t((function(n,e){return qe((function(t){return s(rr,!1,n,e,t)}))})),ir=t((function(n,e){return a(or,n,(function(n){return a(er,tr,e(n))}))})),ar=bt((function(n){return A(n,Y(" "))||A(n,Y("\n"))||A(n,Y("\r"))})),ur=(Ee=t((function(n,e){return e(n)})),a(ir,{links:Pt,stats:Bt,tags:Yt},(function(n){return Kt(v([a(Gt,a(Gt,a(Rt,a(Rt,et(Ee),ar),Qt(".")),Xt),Kt(v([a(Gt,a(Rt,et(Ke),Qt("=")),Kt(v([a(er,(function(e){return function(t){return nr(u(Ft,t,e,n))}}),kt),a(er,(function(e){return function(t){return nr(u(jt,t,e,n))}}),Vt)]))),et((function(e){return nr(a(Mt,e,n))}))]))),et(Zt(n))]))}))),sr=(we={$:"ExpectingEnd"},qe((function(n){return A(n.src.length,n.offset)?u(nt,!1,N,n):a(Je,!1,a(Xe,n,we))}))),cr=a(Gt,a(Gt,et(t((function(n,e){return P(n,e)}))),kt),a(Rt,ur,sr)),fr=r((function(n,e,t){for(;;){if(!t.b)return e;var r=t.b,o=n,i=a(n,t.a,e);n=o,e=i,t=r}})),lr=function(n){return u(fr,Ae,g,n)},dr=o((function(n,e,t,r){if(r.b){var o=r.a,i=r.b;if(i.b){var c=i.a,f=i.b;if(f.b){var l=f.a,d=f.b;if(d.b){var h=d.b;return a(n,o,a(n,c,a(n,l,a(n,d.a,t>500?u(fr,n,e,lr(h)):s(dr,n,e,t+1,h)))))}return a(n,o,a(n,c,a(n,l,e)))}return a(n,o,a(n,c,e))}return a(n,o,e)}return e})),hr=r((function(n,e,t){return s(dr,n,e,0,t)})),gr=t((function(n,e){return u(hr,t((function(e,t){return a(Ae,n(e),t)})),g,e)})),pr=function(n){return{$:"Err",a:n}},br=function(n){return{$:"Ok",a:n}},vr=r((function(n,e,t){return{col:e,problem:t,row:n}})),mr=function(n){return u(vr,n.row,n.col,n.problem)},yr=t((function(n,e){n:for(;;)switch(n.$){case"Empty":return e;case"AddRight":var t=n.b;n=n.a,e=a(Ae,t,e);continue n;default:var r=n.b;n=n.a,e=a(yr,r,e);continue n}})),_r=t((function(n,e){var t=(0,n.a)({col:1,context:g,indent:1,offset:0,row:1,src:e});return"Good"===t.$?br(t.b):pr(a(yr,t.b,g))})),Er=t((function(n,e){var t=a(_r,n,e);return"Ok"===t.$?br(t.a):pr(a(gr,mr,t.a))})),wr=t((function(n,e){return"Ok"===e.$?br(n(e.a)):pr(e.a)})),Rr=t((function(n,e){return"Ok"===e.$?br(e.a):pr(n(e.a))})),kr=r((function(n,e,t){return a(Rr,(function(e){return P("Entity def: "+n,e)}),a(wr,a(He,e,t),a(Er,cr,n)))})),$r={$:"Green"},Sr={$:"Red"},Lr={$:"Yellow"},Tr=o((function(n,e,t,r){return{alpha:r,blue:t,green:e,red:n}})),Ar=s(Tr,115,210,22,1),xr=s(Tr,204,0,0,1),Ir=s(Tr,237,212,0,1),Or=function(n){switch(n.$){case"Red":return{color:xr,id:"RED_LINE",name:"Red Line",number:1,stations:v(["WEST_MULBERRY","EAST_MULBERRY","CHURCH_STREET","METRO_CENTER","FEDERAL_TRIANGLE","SPRING_HILL","TWIN_BROOKS"])};case"Yellow":return{color:Ir,id:"YELLOW_LINE",name:"Yellow Line",number:2,stations:v(["RIVERSIDE","METRO_CENTER","FEDERAL_TRIANGLE","CAPITOL_HEIGHTS","MACARTHURS_PARK"])};default:return{color:Ar,id:"GREEN_LINE",name:"Green Line",number:3,stations:v(["BURLINGTON","SAMUAL_STREET","CAPITOL_HEIGHTS","FEDERAL_TRIANGLE"])}}},Cr=a(gr,(function(n){return P(n,Or(n).stations)}),v([Sr,$r,Lr])),Mr=function(n){return n.a},Nr=a(gr,a(ke,Or,(function(n){return u(kr,n.id+".line",n.name,n.name)})),a(gr,Mr,Cr)),Pr=function(n){return u(fr,t((function(n,e){return u(It,n.a,n.b,e)})),Nt,n)},Br=Pr(v([P("METRO_CENTER",{name:"Metro Center"}),P("FEDERAL_TRIANGLE",{name:"Federal Triangle"}),P("MACARTHURS_PARK",{name:"MacArthur's Park"}),P("CHURCH_STREET",{name:"Church Street"}),P("SPRING_HILL",{name:"Spring Hill"}),P("TWIN_BROOKS",{name:"Twin Brooks"}),P("CAPITOL_HEIGHTS",{name:"Capitol Heights"}),P("EAST_MULBERRY",{name:"East Mulberry"}),P("WEST_MULBERRY",{name:"West Mulberry"}),P("BURLINGTON",{name:"Burlington"}),P("SAMUAL_STREET",{name:"Samual Street"})])),Yr=a(gr,(function(n){var e=n.b.name;return u(kr,function(n){return n+".loation.station"+("METRO_CENTER"===n?".steves_work":"")}(n.a),e,e)}),Ce(Br)),Fr=u(It,"firstMeetSkaterDude","\nI've seen this young punk before, riding his skateboard up and down the platform.  He almost ran into me once.  The signs clearly say \"No skateboarding allowed.\"\n---\nOh great, now he's jumping the turnstile.  He probably doesn't even have a ticket.  You know, we've got rules for a reason.  When people like him disrespect them, it's the rest of us who have to pay.\n",u(It,"TRASH_DIGGER","\n{\"Spare some change?\"\n---\nI've seen that guy almost every day for years.  He always asks for money.  I used to give him some, but eventually stopped.  I work very hard to make a living.\n|\nHe's still at it.  Wonder what he thinks he'll find.\n}\n",u(It,"LOUD_PAYPHONE_LADY",'\n{\n"I\'ve been here for 30 damn minutes!  When the hell are you going to help me out?!"\n---\nShe sure seems upset.\n---\n"HOW THE FUCK ARE YOU GOING TO CALL ME BACK?! I\'M ON A FUCKING PAYPHONE, YOU IDIOT!"\n---\nWow, you\'d think people would try to take care of these matters at home. Yeesh.\n|\nI want to stay very far away from her.\n}\n',u(It,"COFFEE","\n{PLAYER.day=1?  Carl's Coffee has been fueling me for years. Can't imagine surviving a Monday without it.}\n{PLAYER.day=2?  Mmm, that's good coffee.}\n{PLAYER.day=3?  I'm going to need a barrel of this if I'm going to get this proposal done by Friday. What is Mr. Ferbs thinking?  }\n{PLAYER.day=4?  It tastes bitter.}\n",u(It,"coffeeCartFriday","\n{Huh, that's strange. |}It's closed.{  I really need my coffee.  Today of all days!|  I wonder where Carl is?|  I hope Carl comes back.|}\n",u(It,"coffeeCartThursday",'\n{Instead of Carl, there\'s some young lady behind the stand, looking at her phone.\n---\n"You\'re not Carl."\n\n"Nope. Was called in last minute. Guess his wife just went into labor or somethin\'. Can I get you anything?"\n\n"Carl\'s married?"\n\n"Guess so,  I don\'t know the guy. You getting something or not?"\n\n"Sure. Coffee. Black."\n\n"Here you go. See ya."\n|I miss Carl.}\n',u(It,"coffeeCartWednesday",'\n{"Morning Steve.  You alright?"\n\n"Fill it up to the top, Carl. I\'m going to need every last drop today."\n\n"You got it.  Take it easy Steve. Don\'t want to work too hard."\n\n"Easy for you to say, Carl. But I\'ll try. Thanks!"\n|I\'ve got plenty already, and plenty of work to do too.}\n',u(It,"coffeeCartTuesday",'\n{"The usual for you today, Steve?"\n\n"Yes please."\n\n"Enjoy."\n|"Need anything else?"\n\n"No, I\'m fine."}\n',u(It,"coffeeCartMonday",'\n{Carl runs the little coffee stand at my local station.  The coffee is decent, and it\'s nice to see his smiling face each morning.\n\n"Morning, Carl! Can I just get the usual?"\n\n"Sure thing, Steve. That\'ll be a buck twenty five."\n\n"Here you go, Carl, exact change. Thanks. Have a good one."\n|"See you tomorrow."|"See you tomorrow."|"Don\'t miss your train."}\n',u(It,"CELL_PHONE","\n{There's no service, but I can view my emails.\n---\n|}\n{PLAYER.day=1?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Sunday, 4:00 pm\n    Subject: I've Got a Job for You\n\n    Steve,\n    Just got word that some very important clients are coming in in the next few weeks.\n    The boys up stairs want me to put together a new proposal to bring to them. \n    Steve, you're one of our senior agents and you've been in the department for, what, 6 years?\n    I need you to work on this and really make it shine.\n    Be at my office at 6:30 am Monday and we can talk over the details.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply -\n\n    From: Steve Kerry\n    To: Dennis Ferbs\n    Sent: Sunday, 4:01 pm\n    Subject: RE: I've Got a Job for You\n    \n    Dear Mr. Ferbs,\n    I've actually been with the company for eight years, but no need to worry, sir. I'm happy for the \n    opportunity. I've got a few big ideas that I've been wanting to try out.\n    I'll be there bright and early, sir.\n    \n    Steve Kerry\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Janice Franz\n    To: Steve Kerry\n    Sent: Monday, 6:05am\n    Subject: Job Opportunity\n    \n    Hi Mr. Steve Kerry\n\n    My name is Janis and I'm reaching out on behalf of Embrace Insurance. I came across your resume\n    in our system and I believe you would make a perfect fit for our team here at Embrace Insurance.\n    If you're looking for a job change or would just simply like to see what your options are we would\n    love to set up a meeting with you and see what your future could hold.\n\n    We look forward to your response!\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n{PLAYER.day=2?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Monday, 6:26pm\n    Subject: Good Things!\n\n    Steve,\n\n    I like a few of the ideas that you brought to me this morning.  But I just got word that our clients are\n    pushing up the meeting and will be here on Friday! You're going to have to put this thing in high gear, Steve.\n    I can't hand them half assed work.\n\n    Don't let me down.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply-\n\n    From: Steve Kerry\n    To: Dennis Ferbs\n    Sent: Monday, 6:32pm\n    Subject: RE: Good Things!\n\n    Dear Mr. Ferbs,\n\n    Thank you for the update.  I'll do my best, but Friday is a little soon isn't it? I just want to be able to\n    put together something that will really help our customers.  I'll have to cut a lot of the ideas we spoke about.\n    But I'll do my best, sir.\n\n    See you tomorrow, Mr. Ferbs\n\n    Steve Kerry\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Henry Thorne\n    To: Steve Kerry\n    Sent: Monday, 8:25pm\n    Subject: Stevey!\n\n    Hey Steve!\n\n    How's it going? Long time no talk! Just checking in with you and letting you know I'm going to be\n    in the city in a few days. It's supposed to be a business trip and it's just for a day, but I\n    thought it's be nice to drop by and see how things were and maybe grab a few drinks somewhere.\n    I know things have been difficult since we last talked. Just let me know when you're free and I'll\n    make something work.\n\n    See you soon!\n\n    Henry\n\n}\n{PLAYER.day=3?\n\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Tuesday, 4:48pm\n    Subject: No good\n\n    Steve,\n\n    What you handed me today WON'T work. The Premiums we offer will NOT cover these plans. Half of these\n    seem like life quality expenses. We need to think about the bottom dollar here, Steve. \"Pet Insurance\n    Plan\", \"Kidnap/Ransom Insurance\", \"Divorce Insurance\"? These benefits not only expose us to\n    unwarranted risk of loss, but also far out weigh our customers premiums. You've got to do better than\n    this, Steve. We're two two days from the proposal meeting. Do NOT fuck this up.\n\n    Put something better together tonight and get it to me in the morning. You're running out of time.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply- (unsent)\n\n    From: Steve Kerry\n    To: Dennis Ferbs\n    Sent: Tuesday, 5:00pm\n    Subject: RE: No good\n\n    Dear Mr. Ferbs,\n\n    Sir, I have to disagree. I feel that these plans are essential for our customers. If you'd just\n    look over the papers I sent you about the\n}\n{PLAYER.day=4?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Wednesday, 4:27pm\n    Subject: (Subject)\n\n    Steve, our clients are going to be here tomorrow whether you're ready or not. You're going to need\n    to push harder. I don't care what you have to do to put this thing together, just get it done.\n\n    Bring me what you have in the morning.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Henry Thorne\n    To: Steve Kerry\n    Sent: Thursday, 5:45am\n    Subject: Today?\n\n    Hey Steve,\n    I'm in the city today and I haven't heard back from you. I'm sure you're busy, but it would \n    really be nice to see you while I'm down. My plane leaves tomorrow, so today is probably it. You \n    can call me at my old number if you get this in time and we can plan something out. It hasn't \n    changed.\n\n    Hope to talk to you soon.\n}\n{PLAYER.day=5?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Friday, 6:00am\n    Subject: where the hell are you?\n\n    I want to run through the presentation once before the clients are here.\n    Get your ass down here right away.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Janice Franz\n    To: Steve Kerry\n    Sent: Friday, 6:09am\n    Subject: RE: Job Opportunity\n\n    Hi Steve!\n\n    Hope you're having a great day!  I just wanted to reach out to you one more time to set up a \n    quick chat.  How's Tuesday morning next week?  Let me know either way.  I'm excited to talk\n    to you!\n\n    Have a wonderful weekend.\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n",Nt)))))))))),jr=function(n){return a(Ht,"ERROR: can't find content for key "+n,a(Ye,n,Fr))},Dr=j(v([u(kr,"PLAYER.chapter=1.day=1.location=WEST_MULBERRY.destination=METRO_CENTER","Steve","Here I am."),u(kr,"BRIEFCASE.item.location=PLAYER","Briefcase","My portable office, all my work is in it."),u(kr,"RED_LINE_PASS.item.location=PLAYER.valid_on=RED_LINE","Red Line metro pass","This gets me anywhere on the Red Line, but I really only use it to get to work and back home."),u(kr,"CELL_PHONE.item.location=PLAYER.unread","Cell phone","I'm never more than a call or email way."),u(kr,"MAP.item.map.silent","Subway map","The full subway map."),u(kr,"CENTRAL_GUARD_OFFICE.location","Central Guard Office",""),u(kr,"LOBBY.location","Station Lobby",""),u(kr,"COFFEE_CART.character.location=WEST_MULBERRY","Coffee cart","I've been getting Carl's Coffee for years."),u(kr,"COFFEE.item.location=offscreen","Coffee","My morning Joe."),u(kr,"COMMUTER_1.character.location=WEST_MULBERRY","Plainly dressed commuter","{Another commuter waiting on the train.  I say hello and she says hello back.|I think one hello is enough when talking to complete strangers.}"),u(kr,"LOUD_PAYPHONE_LADY.character.location=WEST_MULBERRY","Loud Woman on Pay Phone",jr("LOUD_PAYPHONE_LADY")),u(kr,"TRASH_DIGGER.character.location=offscreen","Man Digging in the Trash",jr("TRASH_DIGGER")),u(kr,"SKATER_DUDE.character.location=offscreen","Skater dude",jr("SKATER_DUDE")),u(kr,"GRAFFITI.item.location=WEST_MULBERRY","Graffiti on the wall","That's just vulgar.  Why do people have to mess things up?"),u(kr,"SAFETY_WARNING_POSTER.item.location=TWIN_BROOKS","Safety Message Poster","It says to watch out for pickpockets and report any suspicious activity."),u(kr,"MAP_POSTER.item.map.location=TWIN_BROOKS","Map on the wall","This shows the full map of the subway system.")]),j(Nr,Yr)),Hr=t((function(n,e){var t=e.b;return P(n(e.a),t)})),Gr=t((function(n,e){return P(e.a,n(e.b))})),Ur=u(fr,t((function(n,e){if("Ok"===n.$){var t=n.a;return a(Hr,a(It,t.a,t.b),e)}return a(Gr,Ae(n.a),e)})),P(Nt,g),Dr),Wr=Qt("|"),Kr=Qt("}"),Jr=function(n){return Ue(n)?Ze("string is empty"):et(n)},qr=Qt("{"),zr=function(n){return"Ok"===n.$?et(n.a):Ze(n.a)},Qr=t((function(n,e){return a(z,n,m(e))})),Vr=t((function(n,e){return v(a(q,n,e))})),Xr=r((function(n,e,t){return a(Qr,e,a(Vr,n,t))})),Zr=a(lt,Jr,Et(a(Rt,et(N),vt((function(n){return!a(ft,n,v([Y("{"),Y("}"),Y("|")]))}))))),no=o((function(n,e,t,r){return A(a(Ne,a(Ht,0,a(Ye,n,r.stats)),t),e)})),eo=t((function(n,e){return"Just"===a(Ye,n,e).$})),to=t((function(n,e){return a(eo,n,e.a)})),ro=t((function(n,e){return a(to,n,e.tags)})),oo=r((function(n,e,t){return n(e(t))})),io=t((function(n,e){return!a(ct,a(oo,qt,n),e)})),ao=function(n){return!n.b},uo=r((function(n,e,t){return a(Ht,g,a(Dt,(function(r){return a(io,(function(n){return u(co,n,t,r)}),e)?v([P(n,r)]):g}),a(Ye,n,t)))})),so=o((function(n,e,t,r){return a(Ht,!1,a(Dt,(function(n){if("Match"===e.$){var r=e.b;return A(e.a,n)&&!ao(u(uo,n,r,t))}return!ao(u(uo,n,r=e.a,t))}),a(Ye,n,r.links)))})),co=t((function(n,e){switch(n.$){case"HasTag":return ro(n.a);case"HasStat":return u(no,n.a,n.b,n.c);case"HasLink":return u(so,n.a,n.b,e);default:return a(oo,qt,a(co,n.a,e))}})),fo=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.e,o=n,i=u(n,t.b,t.c,u(fo,n,e,t.d));n=o,e=i,t=r}})),lo=t((function(n,e){return u(fo,r((function(e,t,r){return a(n,e,t)?u(It,e,t,r):r})),Nt,e)})),ho=t((function(n,e){return Ce(a(lo,t((function(t,r){return a(io,(function(n){return u(co,n,e,r)}),n)})),e))})),go=t((function(n,e){return"Match"===n.$?u(uo,n.a,n.b,e):a(ho,n.a,e)})),po=t((function(n,e){return{$:"HasLink",a:n,b:e}})),bo=t((function(n,e){return{$:"Match",a:n,b:e}})),vo=function(n){return{$:"MatchAny",a:n}},mo=t((function(n,e){var t=function(e){return"HasLink"===e.$&&"Match"===e.b.$&&"$"===e.b.a?a(po,e.a,a(bo,n,e.b.b)):e};if("MatchAny"===e.$)return vo(a(gr,t,r=e.a));var r=e.b;return a(bo,function(e){return"$"===e?n:e}(e.a),a(gr,t,r))})),yo=t((function(n,e){if(e.b){var r=e.b;return a(Ae,e.a,u(hr,t((function(e,t){return a(Ae,n,a(Ae,e,t))})),g,r))}return g})),_o=function(n){return n+""},Eo=function(n){return a(Qr,"",a(yo,"; ",a(gr,(function(n){return function(n){switch(n.$){case"Expecting":return"expecting '"+n.a+"'";case"ExpectingInt":return"expecting int";case"ExpectingHex":return"expecting hex";case"ExpectingOctal":return"expecting octal";case"ExpectingBinary":return"expecting binary";case"ExpectingFloat":return"expecting float";case"ExpectingNumber":return"expecting number";case"ExpectingVariable":return"expecting variable";case"ExpectingSymbol":return"expecting symbol '"+n.a+"'";case"ExpectingKeyword":return"expecting keyword '"+n.a+"'";case"ExpectingEnd":return"expecting end";case"UnexpectedChar":return"unexpected char";case"Problem":return"problem "+n.a;default:return"bad repeat"}}(n.problem)+" at row "+_o(n.row)+", col "+_o(n.col)}),n)))},wo=r((function(n,e,t){return{$:"HasStat",a:n,b:e,c:t}})),Ro=function(n){return{$:"HasTag",a:n}},ko=function(n){return{$:"Not",a:n}},$o=Kt(v([a(er,mt(vo),Qt("*")),a(er,mt(bo("$")),Qt("$")),a(er,bo,kt)]));function So(){return a(Gt,a(Gt,et(t((function(n,e){return n(e)}))),$o),Lo())}function Lo(){var n=o((function(n,e,t,r){return nr(a(Ae,e?ko(r(t)):r(t),n))}));return a(ir,g,(function(e){return Kt(v([a(Gt,a(Gt,a(Gt,a(Rt,a(Rt,et(n(e)),vt(Ge(Y(" ")))),Qt(".")),Kt(v([a(er,mt(!0),Qt("!")),et(!1)]))),Xt),Kt(v([a(Gt,a(Rt,et(Ke),Qt(">")),a(er,(function(n){return function(e){return u(wo,e,Ie,n)}}),Vt)),a(Gt,a(Rt,et(Ke),Qt("<")),a(er,(function(n){return function(e){return u(wo,e,Te,n)}}),Vt)),a(Gt,a(Rt,et(Ke),Qt("=")),Kt(v([a(er,(function(n){return function(e){return u(wo,e,Le,n)}}),Vt),a(er,(function(){return function(n){return a(po,n,a(bo,"$",g))}}),Qt("$")),a(er,(function(n){return function(e){return a(po,e,a(bo,n,g))}}),kt),a(Gt,a(Rt,et(Ke),Qt("(")),a(Rt,a(er,(function(n){return function(e){return a(po,e,n)}}),So()),Qt(")")))]))),et((function(n){return Ro(n)}))]))),et(Zt(e))]))}))}try{var To=So();So=function(){return To};var Ao=Lo();Lo=function(){return Ao}}catch(n){throw"Some top-level definitions from `Rules.Parser` are causing infinite recursion:\n\n  â”Œâ”€â”€â”€â”€â”€â”\n  â”‚    matcherParser\n  â”‚     â†“\n  â”‚    queriesParser\n  â””â”€â”€â”€â”€â”€â”˜\n\nThese errors are very tricky, so read https://elm-lang.org/0.19.0/halting-problem to learn how to fix it!"}var xo,Io,Oo=function(n){return a(Er,a(Rt,To,sr),n)},Co=t((function(n,e){return r=a(gr,n,e),u(fr,t((function(n,e){return"Ok"===n.$?a(wr,Ae(n.a),e):pr(n.a)})),br(g),r);var r})),Mo=o((function(n,e,t,r){return{$:"Array_elm_builtin",a:n,b:e,c:t,d:r}})),No=H,Po=t((function(n,e){return U(e)/U(n)})),Bo=No(a(Po,2,32)),Yo=[],Fo=s(Mo,0,Bo,Yo,Yo),jo=function(n){return{$:"Leaf",a:n}},Do=l,Ho=t((function(n,e){for(;;){var t=a(Do,32,n),r=t.b,o=a(Ae,{$:"SubTree",a:t.a},e);if(!r.b)return lr(o);n=r,e=o}})),Go=t((function(n,e){for(;;){var t=No(e/32);if(1===t)return a(Do,32,n).a;n=a(Ho,n,g),e=t}})),Uo=G,Wo=t((function(n,e){return C(n,e)>0?n:e})),Ko=function(n){return n.length},Jo=t((function(n,e){if(e.nodeListSize){var t=32*e.nodeListSize,r=Uo(a(Po,32,t-1)),o=n?lr(e.nodeList):e.nodeList,i=a(Go,o,e.nodeListSize);return s(Mo,Ko(e.tail)+t,a(Wo,5,r*Bo),i,e.tail)}return s(Mo,Ko(e.tail),Bo,Yo,e.tail)})),qo=r((function(n,e,t){for(;;){var r=a(Do,32,n),o=r.a,i=r.b;if(0>C(Ko(o),32))return a(Jo,!0,{nodeList:e,nodeListSize:t,tail:o});n=i,e=a(Ae,jo(o),e),t+=1}})),zo=function(n){return n.b?u(qo,n,g,0):Fo},Qo=4294967295>>>32-Bo,Vo=d,Xo=r((function(n,e,t){for(;;){var r=a(Vo,Qo&e>>>n,t);if("SubTree"!==r.$)return a(Vo,Qo&e,r.a);n-=Bo,e=e,t=r.a}})),Zo=t((function(n,e){var t=e.a,r=e.b,o=e.c,i=e.d;return 0>n||C(n,t)>-1?Be:C(n,function(n){return n>>>5<<5}(t))>-1?Pe(a(Vo,Qo&n,i)):Pe(u(Xo,r,n,o))})),ni=t((function(n,e){return 0>C(n,e)?n:e})),ei=function(n){return u(fr,t((function(n,e){return e+1})),0,n)},ti=function(n){return n.trim()},ri=function(n){var e=n.a;return qe((function(n){var t=e(n);return"Bad"===t.$?a(Je,!1,t.b):u(nt,!1,t.b,t.c)}))},oi=J,ii=o((function(n,e,t,r){return a(ze,Ve,s(Qe,n,e,t,r))})),ai=function(n){return qe((function(e){return(0,n(N).a)(e)}))},ui=function(n){var e=Kt(v([a(Gt,a(Rt,et(Ke),qr),Kt(v([ri(function(n){var e=function(e){return!ao(a(go,e,n.worldModel))};return a(lt,(function(t){var r,o,i=t.a,s=t.b,c=t.c;return"Ok"===(r=a(wr,io(a(ke,mo(n.trigger),e)),a(Co,Oo,a(gr,ti,a(Vr,"&",i))))).$?(o=r.a?s:c,qe((function(n){return u(nt,!0,o,n)}))):Ze(Eo(r.a))}),a(Gt,a(Gt,a(Gt,et(r((function(n,e,t){return B(n,e,t)}))),a(Rt,a(lt,Jr,Et(function(n){var e=n.a,t=n.b;return qe((function(n){var r=c(oi,e,n.offset,n.row,n.col,n.src),o=r.a,i=r.b,f=r.c;return A(o,-1)?a(Je,!1,s(ii,i,f,t,n.context)):u(nt,0>C(n.offset,o),N,{col:f,context:n.context,indent:n.indent,offset:o,row:i,src:n.src})}))}(a(Jt,"?",{$:"Expecting",a:"?"})))),Qt("?"))),ai((function(){return ui(n)}))),Kt(v([a(Gt,a(Rt,et(Ke),Wr),a(Rt,ai((function(){return ui(n)})),Kr)),a(er,mt(""),Kr)]))))}(n)),ri(function(n){var e=a(gr,(function(n){var e,t=n.a;return a(Rt,et(n.b),function(n){var e=n.a,t=n.b,r=!Ue(e);return qe((function(n){var o=c(zt,e,n.offset,n.row,n.col,n.src),i=o.a,s=o.b,f=o.c;return A(i,-1)||u(ht,(function(n){return st(n)||A(n,Y("_"))}),i,n.src)>=0?a(Je,!1,a(Xe,n,t)):u(nt,r,N,{col:f,context:n.context,indent:n.indent,offset:i,row:s,src:n.src})}))}(a(Jt,e=t,{$:"ExpectingKeyword",a:e})))}),Ce(n.propKeywords));return a(lt,zr,a(Gt,a(Gt,et(t((function(e,t){return t(u(Xr,"$",n.trigger,e))}))),a(Rt,a(lt,Jr,Et(vt((function(n){return!a(ft,n,v([Y("{"),Y("."),Y("|"),Y("}")]))})))),Qt("."))),a(Rt,Kt(e),Kr)))}(n)),ri(function(n){return a(er,(function(e){return a(Ht,"ERROR finding correct cycling text",a(Zo,a(ni,ei(e)-1,n.cycleIndex),zo(e)))}),a(ir,g,(function(e){return Kt(v([a(er,mt(nr(a(Ae,"",e))),Wr),a(er,mt(Zt(lr(a(Ae,"",e)))),Kr),a(Gt,a(Gt,et(t((function(n,e){return e(n)}))),ai((function(){return ui(n)}))),Kt(v([a(er,mt((function(n){return nr(a(Ae,n,e))})),Wr),a(er,mt((function(n){return Zt(lr(a(Ae,n,e)))})),Kr)])))]))})))}(n))]))),Zr])),o=t((function(n,e){return nr(j(n,e))}));return a(Gt,et(Ke),a(ir,"",(function(n){return Kt(v([a(er,o(n),e),et(Zt(n))]))})))},si=t((function(n,e){var t=a(Rt,ui(n),sr);return a(wr,mt(N),a(Er,t,e))})),ci={cycleIndex:0,propKeywords:Nt,trigger:"",worldModel:Nt},fi=u(fo,r((function(n,e,t){var r=a(si,ci,e);return"Err"===r.$?a(Ae,P("Narrative content: "+n+" "+e+" ",r.a),t):t})),g,Fr),li=t((function(n,e){return{$:"DecStat",a:n,b:e}})),di=t((function(n,e){return{$:"IncStat",a:n,b:e}})),hi=t((function(n,e){return{$:"SetLink",a:n,b:e}})),gi=t((function(n,e){return{$:"SetStat",a:n,b:e}})),pi=(xo=r((function(n,e,t){return nr(a(Ae,t(e),n))})),a(ir,g,(function(n){return Kt(v([a(Gt,a(Rt,a(Rt,et(Ke),vt(Ge(Y(" ")))),Qt(".")),Kt(v([a(Gt,a(Rt,et((function(e){return nr(a(Ae,{$:"RemoveTag",a:e},n))})),Qt("-")),Xt),a(Gt,a(Gt,et(xo(n)),Xt),Kt(v([a(Gt,a(Rt,et(Ke),Qt("+")),a(er,(function(n){return function(e){return a(di,e,n)}}),Vt)),a(Gt,a(Rt,et(Ke),Qt("-")),a(er,(function(n){return function(e){return a(li,e,n)}}),Vt)),a(Gt,a(Rt,et(Ke),Qt("=")),Kt(v([a(er,(function(n){return function(e){return a(gi,e,n)}}),Vt),a(er,(function(){return function(n){return a(hi,n,"$")}}),Qt("$")),a(er,(function(n){return function(e){return a(hi,e,n)}}),kt)]))),et((function(n){return{$:"AddTag",a:n}}))])))]))),et(Zt(n))]))}))),bi=t((function(n,e){return{$:"Update",a:n,b:e}})),vi=t((function(n,e){return{$:"UpdateAll",a:n,b:e}})),mi=Kt(v([a(er,mt(bi("$")),Qt("$")),a(er,bi,kt),a(Gt,a(Rt,a(Rt,et(Ke),Qt("(")),Qt("*")),a(Rt,a(er,(function(n){return vi(n)}),Ao),Qt(")")))])),yi=a(Gt,a(Gt,et(t((function(n,e){return n(e)}))),mi),pi),_i=function(n){return a(Er,a(Rt,yi,sr),n)},Ei=i((function(n,e,t,r,o){if("Err"===e.$)return pr(e.a);var i=e.a;if("Err"===t.$)return pr(t.a);var a=t.a;if("Err"===r.$)return pr(r.a);var u=r.a;return"Err"===o.$?pr(o.a):br(s(n,i,a,u,o.a))})),wi=t((function(n,e){return P(n,e)})),Ri=j(g,v([a(wi,"ridingTheTrain",{changes:v(["PLAYER.location=$"]),conditions:g,narrative:"The train hurtles through the dark tunnel towards the next stop.",trigger:"*.station"}),a(wi,"goToLobby",{changes:v(["PLAYER.-at_turnstile"]),conditions:g,narrative:"",trigger:"LOBBY"}),a(wi,"goToLineTurnstile",{changes:v(["PLAYER.line=$","PLAYER.at_turnstile"]),conditions:v(["PLAYER.!at_turnstile"]),narrative:"",trigger:"*.line"}),a(wi,"goToLinePlatform",{changes:v(["PLAYER.-at_turnstile"]),conditions:v(["PLAYER.at_turnstile","*.valid_on=$.location=PLAYER"]),narrative:"",trigger:"*.line"}),a(wi,"jumpTurnstileFail",{changes:v(["PLAYER.-at_turnstile"]),conditions:g,narrative:"{I've never jumped a turnstile in my life, and I'm not about to start now.|I don't want to get caught.|Better to stick to the lines I have passes for.}",trigger:"*.line"}),a(wi,"getMap",{changes:v(["MAP.location=PLAYER"]),conditions:v(["MAP.!location=PLAYER"]),narrative:'\n{I might need the full subway map.  They have a printed one I can take.\n\n(Press "M" to view the map)|}\n',trigger:"MAP_POSTER"}),a(wi,"checkMap",{changes:g,conditions:g,narrative:"",trigger:"*.map"})])),ki=j(g,v([a(wi,"notGoingToWork",{changes:g,conditions:v(["PLAYER.destination=METRO_CENTER.chapter=1"]),narrative:"{That's not my station. |}I have to go to {the office|work}{ at Metro Center Station|}.",trigger:"*.station"}),a(wi,"checkMorningEmails",{changes:v(["CELL_PHONE.-unread"]),conditions:g,narrative:jr("CELL_PHONE"),trigger:"CELL_PHONE"}),a(wi,"forcePlayerToReadEmails",{changes:g,conditions:v(["CELL_PHONE.unread","PLAYER.chapter=1"]),narrative:"{I have a few minutes before my train arrives.  I could check my emails while I wait.|It's kind of my routine to reread my emails before heading in.}",trigger:"*.line"}),a(wi,"coffeeCartMonday",{changes:v(["COFFEE.location=PLAYER"]),conditions:v(["PLAYER.day=1"]),narrative:jr("coffeeCartMonday"),trigger:"COFFEE_CART"}),a(wi,"coffeeCartTuesday",{changes:v(["COFFEE.location=PLAYER"]),conditions:v(["PLAYER.day=2"]),narrative:jr("coffeeCartTuesday"),trigger:"COFFEE_CART"}),a(wi,"coffeeCartWednesday",{changes:v(["COFFEE.location=PLAYER"]),conditions:v(["PLAYER.day=3"]),narrative:jr("coffeeCartWednesday"),trigger:"COFFEE_CART"}),a(wi,"coffeeCartThursday",{changes:v(["COFFEE.location=PLAYER"]),conditions:v(["PLAYER.day=4"]),narrative:jr("coffeeCartThursday"),trigger:"COFFEE_CART"}),a(wi,"coffeeCartFriday",{changes:g,conditions:v(["PLAYER.day=5"]),narrative:jr("coffeeCartFriday"),trigger:"COFFEE_CART"}),a(wi,"sipCoffee",{changes:g,conditions:g,narrative:jr("COFFEE"),trigger:"COFFEE"}),a(wi,"firstMeetSkaterDude",{changes:v(["SKATER_DUDE.location=offscreen"]),conditions:v(["PLAYER.chapter=1"]),narrative:jr("firstMeetSkaterDude"),trigger:"SKATER_DUDE"}),a(wi,"endMonday",{changes:v(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","COMMUTER_1.location=offscreen","LOUD_PAYPHONE_LADY.location=offscreen","TRASH_DIGGER.location=WEST_MULBERRY"]),conditions:v(["PLAYER.day=1"]),narrative:"Another day at the office...",trigger:"METRO_CENTER"}),a(wi,"endTuesday",{changes:v(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","TRASH_DIGGER.location=offscreen","SKATER_DUDE.location=WEST_MULBERRY"]),conditions:v(["PLAYER.day=2"]),narrative:"Another day at the office...",trigger:"METRO_CENTER"}),a(wi,"endWednesday",{changes:v(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen"]),conditions:v(["PLAYER.day=3"]),narrative:"Another day at the office...",trigger:"METRO_CENTER"}),a(wi,"endThursday",{changes:v(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen"]),conditions:v(["PLAYER.day=4"]),narrative:"Another day at the office...",trigger:"METRO_CENTER"}),a(wi,"fallAsleep",{changes:v(["PLAYER.location=TWIN_BROOKS.chapter+1.destination=xxx","COFFEE.location=offscreen"]),conditions:v(["PLAYER.day=5.chapter=1"]),narrative:"So tired... fall alseep!",trigger:"METRO_CENTER"})])),$i=u(fr,t((function(n,e){var t=n.a,r=n.b,i=function(){var n=r.trigger,e=r.conditions,t=r.changes,i=r.narrative;return c(Ei,o((function(n,e,t,r){return{changes:t,conditions:e,narrative:r,trigger:n}})),Oo(n),a(Co,Oo,e),a(Co,_i,t),br(i))}();if("Ok"===i.$)return a(Hr,a(It,t,i.a),e);var u,s,f=i.a;return a(Gr,Ae(P("Rule: "+t+" "+(s=(u=r).changes,u.trigger+" | "+a(Qr,", ",u.conditions)+" | "+a(Qr,", ",s)+" "),f)),e)})),P(Nt,g),j(ki,Ri)),Si=function(n){return n.b},Li=$i.b,Ti=function(n){return"Ok"===n.$},Ai=f,xi=i((function(n,e,t,r,o){for(;;){if(0>e)return a(Jo,!1,{nodeList:r,nodeListSize:t/32|0,tail:o});var i=jo(u(Ai,32,e,n));n=n,e-=32,t=t,r=a(Ae,i,r),o=o}})),Ii=t((function(n,e){if(n>0){var t=n%32;return c(xi,e,n-t-32,n,g,u(Ai,t,n-t,e))}return Fo})),Oi=t((function(n,e){return{$:"Failure",a:n,b:e}})),Ci=t((function(n,e){return{$:"Field",a:n,b:e}})),Mi=t((function(n,e){return{$:"Index",a:n,b:e}})),Ni=function(n){return{$:"OneOf",a:n}},Pi=y,Bi=r((function(n,e,t){for(;;){if(C(n,e)>=1)return t;var r=n,o=e-1,i=a(Ae,e,t);n=r,e=o,t=i}})),Yi=t((function(n,e){return u(Bi,n,e,g)})),Fi=t((function(n,e){return u(Pi,n,a(Yi,0,ei(e)-1),e)})),ji=V,Di=function(n){return a(Qr,"\n    ",a(Vr,"\n",n))},Hi=dn,Gi=t((function(n,e){return"\n\n("+_o(n+1)+") "+Di(Ui(e))})),Ui=function(n){return a(Wi,n,g)},Wi=t((function(n,e){n:for(;;)switch(n.$){case"Field":var t=n.a,r=n.b,o=function(){var n,e,r=(e=(n=t).charCodeAt(0))?Pe(55296>e||e>56319?P(Y(n[0]),n.slice(1)):P(Y(n[0]+n[1]),n.slice(2))):Be;if("Nothing"===r.$)return!1;var o=r.a,i=o.b;return at(o.a)&&a(ji,st,i)}();n=r,e=a(Ae,o?"."+t:"['"+t+"']",e);continue n;case"Index":r=n.b;var i="["+_o(n.a)+"]";n=r,e=a(Ae,i,e);continue n;case"OneOf":var u=n.a;if(u.b){if(u.b.b){var s=(e.b?"The Json.Decode.oneOf at json"+a(Qr,"",lr(e)):"Json.Decode.oneOf")+" failed in the following "+_o(ei(u))+" ways:";return a(Qr,"\n\n",a(Ae,s,a(Fi,Gi,u)))}n=r=u.a,e=e;continue n}return"Ran into a Json.Decode.oneOf with no possibilities"+(e.b?" at json"+a(Qr,"",lr(e)):"!");default:var c=n.a,f=n.b;return(s=e.b?"Problem with the value at json"+a(Qr,"",lr(e))+":\n\n    ":"Problem with the given value:\n\n")+Di(a(Hi,4,f))+"\n\n"+c}})),Ki=Tn,Ji=Ki(g),qi={$:"Loaded"},zi={$:"Continue"},Qi=function(n){return{$:"Interact",a:n}},Vi={$:"NoOp"},Xi={$:"ToggleMap"},Zi=t((function(n,e){var t="Title"===n.scene.$;if(!n.loaded||n.selectScene)return Vi;switch(e){case" ":return t?Qi("LOBBY"):n.showMap?Xi:ao(n.story)?Vi:zi;case"m":return Xi;default:return Vi}})),na=In("keyPress",nn),ea=Z,ta=In("loaded",ea),ra=Tn,oa={$:"Arriving"},ia={$:"Disembark"},aa={$:"InTransit"},ua={$:"Lobby"},sa=function(n){return{$:"Train",a:n}},ca=r((function(n,e,t){return a(Fe,(function(n){return a(eo,n,t)?Pe(n):Be}),a(Fe,a(ke,(function(n){return n.links}),Ye(e)),a(Ye,n,t)))})),fa=function(n){switch(n){case"RED_LINE":return Pe(Sr);case"YELLOW_LINE":return Pe(Lr);case"GREEN_LINE":return Pe($r);default:return Be}},la=function(n){return a(Fe,fa,u(ca,"PLAYER","line",n))},da=t((function(n,e){switch(n){case"checkMap":return P(F(e,{showMap:!e.showMap}),Ji);case"goToLineTurnstile":return P(F(e,{scene:(r=a(Ht,Sr,la(e.worldModel)),{$:"Turnstile",a:r})}),Ji);case"goToLobby":return P(F(e,{scene:ua}),Ji);default:var t=n;return a(ft,t,v(["goToLinePlatform"]))?P(F(e,{scene:{$:"Platform",a:a(Ht,Sr,la(e.worldModel))}}),Ji):a(ft,t,v(["endMonday","endTuesday","endWednesday","endThursday"]))?P(F(e,{scene:Re(De(e.worldModel))}),Ji):P(e,Ji)}var r})),ha=t((function(n,e){var t=e.b;return a(Gr,(function(n){return Ki(v([n,t]))}),n(e.a))})),ga=r((function(n,e,t){return F(t,{stats:u(It,n,a(Ht,0,a(Ye,n,t.stats))-e,t.stats)})})),pa=r((function(n,e,t){return F(t,{stats:u(It,n,a(Ht,0,a(Ye,n,t.stats))+e,t.stats)})})),ba=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.e.d.$&&"Red"===n.e.d.a.$){var e=n.d,t=n.e,r=t.b,o=t.c,i=(l=t.d).d,a=l.e,u=t.e;return c(St,Tt,l.b,l.c,c(St,$t,n.b,n.c,c(St,Tt,e.b,e.c,e.d,e.e),i),c(St,$t,r,o,a,u))}var s=n.d,f=n.e,l=(r=f.b,o=f.c,f.d);return u=f.e,c(St,$t,n.b,n.c,c(St,Tt,s.b,s.c,s.d,s.e),c(St,Tt,r,o,l,u))}return n},va=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.d.d.$&&"Red"===n.d.d.a.$){var e=n.b,t=n.c,r=n.d,o=r.d,i=r.e,a=n.e,u=a.b,s=a.c,f=a.d,l=a.e;return c(St,Tt,r.b,r.c,c(St,$t,o.b,o.c,o.d,o.e),c(St,$t,e,t,i,c(St,Tt,u,s,f,l)))}var d=n.d,h=n.e;return u=h.b,s=h.c,f=h.d,l=h.e,c(St,$t,e=n.b,t=n.c,c(St,Tt,d.b,d.c,d.d,i=d.e),c(St,Tt,u,s,f,l))}return n},ma=e(7,Io=function(n,e,t,r,o,i,a){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return c(St,t,i.b,i.c,i.d,c(St,Tt,r,o,i.e,a));n:for(;;){if("RBNode_elm_builtin"===a.$&&"Black"===a.a.$){if("RBNode_elm_builtin"===a.d.$){if("Black"===a.d.a.$)return va(e);break n}return va(e)}break n}return e},(function(){return function(n){return function(e){return function(t){return function(r){return function(o){return function(i){return Io(0,n,e,t,r,o,i)}}}}}}})),ya=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$){var e=n.a,t=n.b,r=n.c,o=n.d,i=o.d,a=n.e;if("Black"===o.a.$){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return c(St,e,t,r,ya(o),a);var u=ba(n);if("RBNode_elm_builtin"===u.$){var s=u.e;return c(At,u.a,u.b,u.c,ya(u.d),s)}return Lt}return c(St,e,t,r,ya(o),a)}return Lt},_a=t((function(n,e){if("RBEmpty_elm_builtin"===e.$)return Lt;var t,r,o,i,u,s,f,l,d=e.a,h=e.b,g=e.c,p=e.d,b=e.e;if(0>C(n,h)){if("RBNode_elm_builtin"===p.$&&"Black"===p.a.$){var v=p.d;if("RBNode_elm_builtin"===v.$&&"Red"===v.a.$)return c(St,d,h,g,a(_a,n,p),b);var m=ba(e);if("RBNode_elm_builtin"===m.$){var y=m.e;return c(At,m.a,m.b,m.c,a(_a,n,m.d),y)}return Lt}return c(St,d,h,g,a(_a,n,p),b)}return a(Ea,n,(r=n,o=e,i=d,u=h,s=g,f=p,l=b,7===(t=ma).a?t.f(r,o,i,u,s,f,l):t(r)(o)(i)(u)(s)(f)(l)))})),Ea=t((function(n,e){if("RBNode_elm_builtin"===e.$){var t=e.a,r=e.b,o=e.c,i=e.d,u=e.e;if(A(n,r)){var s=function(n){for(;;){if("RBNode_elm_builtin"!==n.$||"RBNode_elm_builtin"!==n.d.$)return n;n=n.d}}(u);return"RBNode_elm_builtin"===s.$?c(At,t,s.b,s.c,i,ya(u)):Lt}return c(At,t,r,o,i,a(_a,n,u))}return Lt})),wa=t((function(n,e){var t=a(_a,n,e);return"RBNode_elm_builtin"===t.$&&"Red"===t.a.$?c(St,$t,t.b,t.c,t.d,t.e):t})),Ra=t((function(n,e){return Ot(a(wa,n,e.a))})),ka=t((function(n,e){return F(e,{tags:a(Ra,n,e.tags)})})),$a=r((function(n,e,t){var r=e(a(Ye,n,t));return"Just"===r.$?u(It,n,r.a,t):a(wa,n,t)})),Sa=r((function(n,e,t){return u($a,n,Dt(e),t)})),La=r((function(n,e,o){var i=function(n){return"$"===n?e:n},s=r((function(n,e,t){switch(e.$){case"AddTag":return u(Sa,n,Mt(e.a),t);case"RemoveTag":return u(Sa,n,ka(e.a),t);case"SetStat":return u(Sa,n,a(jt,e.a,e.b),t);case"IncStat":return u(Sa,n,a(pa,e.a,e.b),t);case"DecStat":return u(Sa,n,a(ga,e.a,e.b),t);default:return u(Sa,n,a(Ft,e.a,i(e.b)),t)}})),c=function(n){return fr(s(n))};return u(fr,t((function(n,e){if("Update"===n.$){var r=n.b;return u(c,i(n.a),e,r)}var o=n.a;return r=n.b,u(fr,t((function(n,e){return u(c,n.a,e,r)})),e,a(go,vo(o),e))})),o,n)})),Ta=function(n){var e=n.pendingChanges;if("Just"===e.$){var t=e.a,r=t.a,o=t.b;return a(ha,da(t.c),P(F(n,{pendingChanges:Be,worldModel:u(La,o,r,n.worldModel)}),Ji))}return P(n,Ji)},Aa=t((function(n,e){return F(e,{status:n})})),xa=function(n){return bn((function(e){var t=setTimeout((function(){e(pn(N))}),n);return function(){clearTimeout(t)}}))},Ia=function(n){return{$:"Perform",a:n}},Oa=pn,Ca=Oa(N),Ma=vn,Na=t((function(n,e){return a(Ma,(function(e){return Oa(n(e))}),e)})),Pa=r((function(n,e,t){return a(Ma,(function(e){return a(Ma,(function(t){return Oa(a(n,e,t))}),t)}),e)})),Ba=Sn,Ya=t((function(n,e){var t=e.a;return function(n){return bn((function(e){e(pn(yn(n)))}))}(a(Ma,Ba(n),t))}));kn.Task={b:Ca,c:r((function(n,e){return a(Na,(function(){return N}),(t=a(gr,Ya(n),e),u(hr,Pa(Ae),Oa(g),t)));var t})),d:r((function(){return Oa(N)})),e:t((function(n,e){return Ia(a(Na,n,e.a))})),f:void 0};var Fa=Ln("Task"),ja=t((function(n,e){return Fa(Ia(a(Na,n,e)))})),Da=t((function(n,e){return a(ja,mt(e),xa(n))})),Ha=function(n){return P(n,Ji)},Ga=E,Ua=t((function(n,e){return u(hr,t((function(e,t){return n(e)?a(Ae,e,t):t})),g,e)})),Wa=t((function(n,e){var t=a(Rt,ui(n),sr),r=a(Er,t,e);if("Ok"===r.$){var o=r.a;return a(Ua,a(oo,qt,Ue),a(Vr,"---",o))}return v(["ERROR could not parse: "+e+"\n(see console for specific error)"])})),Ka=o((function(n,e,r,o){var i=function(n){return"$"===n?r:n},s=t((function(e,t){return P(e,a(ke,i,(function(e){return a(Ht,pr("Unable to find entity for id: "+e),a(Dt,a(ke,t,br),a(Ye,e,n.worldModel)))})))})),c=Pr(v([a(s,"name",(function(n){return n.name})),a(s,"description",(function(n){return n.description}))])),f=u($a,e,(function(n){return Pe(a(Ht,1,a(Dt,dt(1),n)))}),n.ruleMatchCounts);return P(a(Wa,{cycleIndex:a(Ht,0,a(Ye,e,n.ruleMatchCounts)),propKeywords:c,trigger:r,worldModel:n.worldModel},o),f)})),Ja=r((function(n,e,t){return!ao(a(go,a(mo,n,t),e))})),qa=r((function(n,e,t){return"Match"===(r=a(mo,e,t)).$?A(r.a,e)&&!ao(a(go,r,n)):!ao(a(go,a(bo,e,r.a),n));var r})),za=function(n){var e=n.trigger,r=n.conditions,o=function(n){return ei("Match"===n.$?n.b:n.a)},i="Match"===e.$?100+o(e):0+o(e);return u(fr,t((function(n,e){return"Match"===n.$?10+o(n)+e:0+o(n)+e})),0,r)+i},Qa=function(n){return n.b?Pe(n.a):Be},Va=_,Xa=r((function(n,e,r){return Qa(lr(a(Va,a(ke,Si,za),Ce(a(lo,t((function(e,t){return u(qa,r,n,t.trigger)&&a(io,a(Ja,n,r),t.conditions)})),e)))))})),Za=$i.a,nu=t((function(n,e){return t="Ok"===(o=Oo(r=n)).$?o.a:a(Ga,"ERROR parsing matcher:"+r+"\n"+Eo(o.a),a(bo,"PARSING_ERROR",g)),a(go,t,e);var t,r,o})),eu=t((function(n,e){return!ao(a(nu,n,e))})),tu=t((function(n,e){var t=u(Xa,n,Za,e.worldModel);if("Nothing"===t.$){var r=a(eu,n+".silent",e.worldModel)?P(g,e.ruleMatchCounts):a(Ht,P(v(["ERROR: unablle to find entity for "+n]),e.ruleMatchCounts),a(Dt,a(ke,(function(n){return n.description}),u(Ka,e,n,n)),a(Ye,n,e.worldModel)));return P(F(e,{ruleMatchCounts:d=r.b,story:o=r.a}),Ji)}var o,i=t.a,c=i.a,f=i.b,l=s(Ka,e,c,n,f.narrative),d=l.b;return a(ha,ao(o=l.a)?Ta:Ha,P(F(e,{pendingChanges:Pe(B(n,f.changes,c)),ruleMatchCounts:d,story:o}),Ji))})),ru=t((function(n,e){n:for(;;){if(n>0){if(e.b){n-=1,e=e.b;continue n}return e}return e}})),ou=t((function(n,e){if(e.gameOver)return Ha(e);switch(n.$){case"NoOp":return Ha(e);case"Loaded":return P(F(e,{loaded:!0}),Ji);case"LoadScene":var r=n.a,o=r.a,i=r.b;return u(fr,t((function(n,e){return a(ha,Ta,a(ha,ou(Qi(n)),e))})),P(F(o,{selectScene:!1}),Ji),i);case"Interact":var s=n.a;return a(ha,tu(s),P(F(e,{history:a(Ga,"history\n",j(e.history,v([s])))}),Ji));case"Delay":var c=n.a;return P(e,a(ja,mt(n.b),xa(c)));case"ToggleMap":return P(a(eu,"MAP.location=PLAYER",e.worldModel)?F(e,{showMap:!e.showMap}):e,Ji);case"Go":return P(F(e,{scene:n.a}),Ji);case"BoardTrain":var f=n.b;return P(F(e,{scene:sa({line:n.a,status:aa})}),a(Da,800,Qi(f)));case"Continue":return ei(e.story)>1?P(F(e,{story:a(ru,1,e.story)}),Ji):a(ha,(function(n){var e=n.scene;return"Train"===e.$?P(F(n,{scene:sa(a(Aa,oa,e.a))}),a(Da,900,ia)):P(n,Ji)}),a(ha,Ta,P(F(e,{story:g}),Ji)));default:return P(F(e,{scene:ua}),Ji)}})),iu={$:"CentralGuardOffice"},au=function(n){return{$:0,a:n}},uu=function(n){switch(n.$){case"Normal":return 0;case"MayStopPropagation":return 1;case"MayPreventDefault":return 2;default:return 3}},su=Fn("div"),cu=Fn("img"),fu=hn,lu=t((function(n,e){return a(Hn,n,fu(e))})),du=lu("className"),hu=Dn,gu=t((function(n,e){return a(hu,n,{$:"Normal",a:e})})),pu=function(n){return a(gu,"click",au(n))},bu=a(su,v([pu(Xi),du("map")]),v([a(cu,v([du("map__image"),("img/map-red-yellow-green.jpg",a(lu,"src",/^\s*(javascript:|data:text\/html)/i.test("img/map-red-yellow-green.jpg")?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':"img/map-red-yellow-green.jpg"))]),g)])),vu=r((function(n,e,t){n:for(;;){if(n>0){if(e.b){var r=e.a;n-=1,e=e.b,t=a(Ae,r,t);continue n}return t}return t}})),mu=t((function(n,e){return lr(u(vu,n,e,g))})),yu=r((function(n,e,t){if(e>0){var r=P(e,t);n:for(;;){e:for(;;){if(!r.b.b)return t;if(!r.b.b.b){if(1===r.a)break n;break e}switch(r.a){case 1:break n;case 2:var o=r.b;return v([o.a,o.b.a]);case 3:if(r.b.b.b.b){var i=r.b,s=i.b;return v([i.a,s.a,s.b.a])}break e;default:if(r.b.b.b.b&&r.b.b.b.b.b){var c=r.b,f=c.b,l=f.b,d=l.b,h=d.b;return a(Ae,c.a,a(Ae,f.a,a(Ae,l.a,a(Ae,d.a,n>1e3?a(mu,e-4,h):u(yu,n+1,e-4,h)))))}break e}}return t}return v([r.b.a])}return g})),_u=t((function(n,e){return u(yu,0,n,e)})),Eu=Fn("h1"),wu=Fn("li"),Ru=Bn,ku=Fn("ul"),$u=Fn("span"),Su=function(n){return jn(function(n){return"script"==n?"p":n}(n))},Lu=function(n){return"Just"===n.$},Tu=le({defaultHighlighting:Be,githubFlavored:Pe({breaks:!1,tables:!1}),sanitize:!0,smartypants:!1}),Au=Fn("a"),xu=Fn("h2"),Iu=Fn("p"),Ou=function(n){return a(lu,"href",/^javascript:/i.test((e=n).replace(/\s/g,""))?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':e);var e},Cu=zo(v([P("The daily grind",v(["Go to work"])),P("Deadline",v(["Get back to the office in time","Give your presentation"]))])),Mu=v([{chapters:zo(v(["Who was that girl in the yellow dress?"])),id:"down_the_rabbit_hole",name:"Down the rabbit hole"}]),Nu=function(n){return a(Ht,{name:"ERRORR getting station: "+n},a(Ye,n,Br))},Pu=t((function(n,e){return u(fr,t((function(n,t){var r=n.a;return a(ft,e,n.b)?a(Ae,r,t):t})),g,n)})),Bu=function(n){var e=Or(n);return a(su,v([du("Connection "+e.id),pu(Qi(e.id))]),v([Ru(_o(e.number))]))},Yu=t((function(n,e){return a(su,v([du("Connections")]),a(gr,Bu,a(Va,a(ke,Or,(function(n){return n.number})),a(Pu,n,e))))})),Fu=r((function(n,e,t){var r=n(e);return"Just"===r.$?a(Ae,r.a,t):t})),ju=t((function(n,e){return u(hr,Fu(n),g,e)})),Du=r((function(n,e,r){var o=Nu(r).name+" Station",i=t((function(n,e){return ao(e)?Ru(""):a(su,v([du("Sign__section")]),v([a(su,v([du("Sign__header3")]),v([Ru(n)])),a(ku,v([du("Sign__list")]),e)]))})),s=function(n){return a(wu,v([du("Sign__item Sign__item--list")]),v([Ru(n)]))},c=a(nu,"*.item.location="+r,e),f=a(nu,"*.item.location=PLAYER",e),l=a(su,v([du("Sign Sign--inventory")]),v([a(su,v([du("Sign__header2")]),v([Ru("Inventory")])),a(su,v([du("Inventory")]),a(gr,(function(n){var e=n.a;return a(su,v([du("Inventory__item icon--"+e),pu(Qi(e))]),g)}),f))])),d=a(ju,(function(n){return a(Dt,mt(n.name),u(je,"PLAYER",n.id,e))}),Mu),h=a(nu,"*.character.location="+r,e),p=a(su,v([du("Sign Sign--station")]),v([a(su,v([du("Sign__header1")]),v([Ru(o)])),a(su,v([du("Sign__split")]),v([a(su,v([du("Sign__left")]),v([a(Yu,n,r)])),a(su,v([du("Sign__right")]),a(gr,a(ke,Gr((function(n){return n.name})),(function(n){var e=n.a,t=n.b;return a(su,v([du("Sign__item Sign__item--interactable"),pu(Qi(e))]),v([Ru(t)]))})),j(h,c)))]))])),b=a(Ht,B(0,"Error, can't find current chapter",g),a(Fe,(function(n){return a(Dt,(function(e){return B(n,e.a,e.b)}),a(Zo,n-1,Cu))}),u(je,"PLAYER","chapter",e))),m=b.b,y=b.c,_="Chapter "+_o(b.a)+": "+m,E=a(su,v([du("Sign Sign--chapter")]),v([a(su,v([du("Sign__header2")]),v([Ru(_)])),a(i,"Goals:",a(gr,s,y)),a(i,"Distractions:",a(gr,s,d))]));return a(su,v([du("Scene Lobby")]),v([a(su,v([du("Lobby__scene")]),v([p,E,l]))]))})),Hu=t((function(n,e){return{$:"BoardTrain",a:n,b:e}})),Gu=O,Uu=function(n){return du(a(Qr," ",a(gr,Mr,a(Ua,Si,n))))},Wu=o((function(n,e,r,o){var i,u=Or(r),s=a(su,v([du("Line_map__info")]),v([Bu(r),Ru(u.name)])),c=t((function(t,i){return a(su,v([du("Stop"),pu(A(i,e)?Vi:A(o,Be)?a(Hu,r,i):A(o,Pe(i))?a(Hu,r,i):Qi(i))]),v([a(su,v([du("Stop__connections")]),a(gr,Bu,a(Ua,Gu(t),function(e){return a(Va,a(ke,Or,(function(n){return n.number})),a(Pu,n,e))}(i)))),a(su,v([Uu(v([P("Stop__dot",!0),P(Or(r).id,!0),P("Stop__dot--current",A(i,e))]))]),g),a(su,v([Uu(v([P("Stop__name",!0),P("Stop__name--current",A(i,e))]))]),v([Ru(Nu(i).name)]))]))}));return a(su,v([du("Scene Platform")]),v([(i=Qi("LOBBY"),a(su,v([du("Exit"),pu(i)]),v([a(su,v([du("Arrow")]),v([Ru(" ")])),a(su,v([du("Exit__text")]),v([Ru("Exit")]))]))),a(su,v([du("Line_map")]),v([s,a(su,v([du("Line_map__stops")]),j(v([a(su,v([du("Line_map__line "+u.id)]),g)]),a(gr,c(r),u.stations)))]))]))})),Ku=t((function(n,e){var t=Or(e),r=!ao(a(nu,"*.valid_on="+t.id+".location=PLAYER",n));return a(su,v([du("Scene Turnstile")]),v([a(su,v([du("Turnstile__dialog")]),v(r?[a(su,v([du("Turnstile__status")]),v([a(su,v([du("Turnstile__icon icon--enter")]),g),a(su,v([du("Turnstile__status_text")]),v([Ru("Please proceed")]))])),a(su,v([du("Turnstile__buttons")]),v([a(su,v([du("Turnstile__button"),pu(Qi(t.id))]),v([Ru("Continue")]))]))]:[a(su,v([du("Turnstile__status")]),v([a(su,v([du("Turnstile__icon icon--no-enter")]),g),a(su,v([du("Turnstile__status_text")]),v([Ru("Invalid ticket")]))])),a(su,v([du("Turnstile__buttons")]),v([a(su,v([du("Turnstile__button"),pu(Qi("LOBBY"))]),v([Ru("Go back")])),a(su,v([du("Turnstile__button"),pu(Qi(t.id))]),v([Ru("Jump turnstile")]))]))]))]))})),Ju=Fn("code"),qu=Fn("pre"),zu=tn,Qu=en;!function(e){n.Elm?function n(e,t,r){for(var o in r)o in t?"init"==o?L(6,e):n(e+"."+o,t[o],r[o]):t[o]=r[o]}("Elm",n.Elm,e):n.Elm=e}({Main:{init:me({init:function(n){var e=Ur.a;return P({gameOver:!1,history:g,loaded:!1,parseErrors:j(Ur.b,j(Li,fi)),pendingChanges:Be,ruleMatchCounts:Nt,scene:Re(De(e)),selectScene:n.selectScene,showMap:!1,story:g,worldModel:e},Ji)},subscriptions:function(n){return ra(v([ta(mt(qi)),na(Zi(n))]))},update:ou,view:function(n){return{body:v([function(n){var e,t,r=a(eu,"PLAYER.caught",n.worldModel)?iu:n.scene,o=Cr,i=a(Ht,"ERROR getting the current location of player from worldmodel",u(ca,"PLAYER","location",n.worldModel));return n.loaded?ao(n.parseErrors)?n.selectScene?function(n){var e=v(["LOBBY","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER"]),t=function(t){return P(n,a(_u,t,e))},r=v([P("Beginning",P(n,g)),P("Tuesday",t(6)),P("Wednesday",t(11)),P("Thursday",t(16)),P("Friday",t(21)),P("Arrive at Twin Brooks",P(n,e))]);return a(su,v([du("SelectScene")]),v([a(Eu,g,v([Ru("Select a scene to jump to:")])),a(ku,g,a(gr,(function(n){var e,t=n.a;return a(wu,v([pu((e=n.b,{$:"LoadScene",a:e}))]),v([Ru(t)]))}),r))]))}(n):u(Su,"div",v([du("game")]),v([function(){switch(r.$){case"Title":return P("title",(t=r.a,a(su,v([du("Scene TitleScene")]),v([a(su,v([du("TitleContent")]),v([a(Eu,v([du("Title")]),v([Ru(t)])),a($u,v([du("StoryLine__continue"),pu(Qi("LOBBY"))]),v([Ru("Continue...")]))]))]))));case"CentralGuardOffice":return P("centralGuardOffice",a(su,v([du("Scene CentralGuardOffice")]),v([a(xu,v([du("CentralGuardOffice--top")]),v([Ru("Central Guard Office")])),a(Iu,v([du("CentralGuardOffice--content")]),v([a(Iu,g,v([Ru("You are caught! ")])),a(Iu,g,v([Ru("End of demo, thanks for playing!")])),a(Iu,g,v([Ru("Made on the "),a(Au,v([Ou("http://elmnarrativeengine.com")]),v([Ru("Elm Narrative Engine")]))])),a(Iu,g,v([Ru("Contact "),a(Au,v([Ou("mailto:jeff@elmnarrativeengine.com")]),v([Ru("jeff@elmnarrativeengine.com")]))]))]))])));case"Lobby":return P("lobby",u(Du,o,n.worldModel,i));case"Platform":return P("platform",s(Wu,o,i,e=r.a,u(ca,"PLAYER","destination",n.worldModel)));case"Turnstile":return P("turnstile",a(Ku,n.worldModel,e=r.a));default:var e=r.a.line;return P("train",(f=(c={arrivingAtStation:A(r.a.status,oa)?Pe(i):Be,line:e}).arrivingAtStation,l=a(Ht,Or(c.line).name,a(Dt,(function(n){return"Arriving at: "+Nu(n).name}),f)),d=a(su,v([du("train__ticker")]),v([a(su,v([du("train__info")]),v([Ru(l)]))])),v([du("train__foreground")]),v([a(su,v([du("train__top")]),v([a(su,v([du("train__ticker")]),v([a(su,v([du("train__info")]),v([Ru(l)]))]))])),a(su,v([du("train__doors")]),v([a(su,v([du("train__door train__door--left")]),g),a(su,v([du("train__door train__door--right")]),g)]))]),v([du("train__background")]),a(su,v([du("Scene train")]),v([d]))))}var t,c,f,l,d}(),P("story",(e=a(Ht,"",Qa(n.story)),Ue(e)?Ru(""):(t=e,u(Su,"div",v([du("StoryLine")]),v([P(t,a(su,v([du("StoryLine__content")]),v([a(Tu,g,t),a($u,v([du("StoryLine__continue"),pu(zi)]),v([Ru("Continue...")]))])))]))))),P("map",n.showMap?bu:Ru(""))])):a(su,v([du("SelectScene Errors")]),v([a(Eu,g,v([Ru("Errors when parsing!  Please fix:")])),a(ku,g,a(gr,(function(n){var e=n.b;return a(wu,g,v([a(qu,g,v([a(Ju,g,v([Ru(n.a)]))])),Ru(Eo(e))]))}),n.parseErrors))])):a(su,v([du("Loading")]),v([Ru("Loading...")]))}(n)]),title:"Subway!"}}})(a(zu,(function(n){return au({selectScene:n})}),a(Qu,"selectScene",ea)))(0)}})}(this)},function(n,e,t){var r={"./gurad-office.jpg":13,"./map-red-yellow-green.jpg":14,"./riding-train.jpg":15,"./subway-lobby.jpg":16,"./subway-turnstile.jpg":17,"./train.jpg":18};function o(n){var e=i(n);return t(e)}function i(n){if(!t.o(r,n)){var e=Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}o.keys=function(){return Object.keys(r)},o.resolve=i,n.exports=o,o.id=12},function(n){n.exports="../../img/gurad-office.jpg"},function(n){n.exports="../../img/map-red-yellow-green.jpg"},function(n){n.exports="../../img/riding-train.jpg"},function(n){n.exports="../../img/subway-lobby.jpg"},function(n){n.exports="../../img/subway-turnstile.jpg"},function(n){n.exports="../../img/train.jpg"}]);