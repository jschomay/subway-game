!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){if("c3Vid2F5"!==btoa(localStorage.getItem("password"))){var r=prompt("Please enter the password to play the demo.");if("c3Vid2F5"!==btoa(r))throw alert("Sorry, incorrect password"),"Wrong password";localStorage.setItem("password",r)}t(1),t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10);const{Elm:o}=t(11),i="#debug"===location.hash,a=o.Main.init({node:document.getElementById("main"),flags:{debug:i}});var u=t(12).keys();u.length||l(),u.map((function(n){var e=new Image;return e.src="img/"+n,e.onload=c,console.log("loading",e.src),e}));var s=0;function c(){++s===u.length&&l()}function l(){a.ports.loaded.send(!0),console.log("loaded")}document.addEventListener("keydown",(function(n){a.ports.keyPress.send(n.key)," "!=n.key&&"Backspace"!==n.key||"INPUT"!=n.target.tagName&&n.preventDefault()}))},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){!function(n){"use strict";function e(n,e,t){return t.a=n,t.f=e,t}function t(n){return e(2,n,(function(e){return function(t){return n(e,t)}}))}function r(n){return e(3,n,(function(e){return function(t){return function(r){return n(e,t,r)}}}))}function o(n){return e(4,n,(function(e){return function(t){return function(r){return function(o){return n(e,t,r,o)}}}}))}function i(n){return e(5,n,(function(e){return function(t){return function(r){return function(o){return function(i){return n(e,t,r,o,i)}}}}}))}function a(n,e,t){return 2===n.a?n.f(e,t):n(e)(t)}function u(n,e,t,r){return 3===n.a?n.f(e,t,r):n(e)(t)(r)}function s(n,e,t,r,o){return 4===n.a?n.f(e,t,r,o):n(e)(t)(r)(o)}function c(n,e,t,r,o,i){return 5===n.a?n.f(e,t,r,o,i):n(e)(t)(r)(o)(i)}console.warn("Compiled in DEV mode. Follow the advice at https://elm-lang.org/0.19.0/optimize for better performance and smaller assets.");var l=r((function(n,e,t){for(var r=Array(n),o=0;n>o;o++)r[o]=t(e+o);return r})),f=t((function(n,e){for(var t=Array(n),r=0;n>r&&e.b;r++)t[r]=e.a,e=e.b;return t.length=r,M(t,e)})),h=t((function(n,e){return e[n]})),d=r((function(n,e,t){for(var r=t.length-1;r>=0;r--)e=a(n,t[r],e);return e})),g={$:"[]"};function p(n,e){return{$:"::",a:n,b:e}}var b=t(p);function m(n){for(var e=g,t=n.length;t--;)e=p(n[t],e);return e}function E(n){for(var e=[];n.b;n=n.b)e.push(n.a);return e}var _=r((function(n,e,t){for(var r=[];e.b&&t.b;e=e.b,t=t.b)r.push(a(n,e.a,t.a));return m(r)})),y=t((function(n,e){return m(E(e).sort((function(e,t){return C(n(e),n(t))})))})),v=t((function(n,e){return console.log(n+": "+R(e)),e}));function R(n){return function n(e,t){if("function"==typeof t)return k(e,"<function>");if("boolean"==typeof t)return w(e,t?"True":"False");if("number"==typeof t)return function(n,e){return n?"[95m"+e+"[0m":e}(e,t+"");if(t instanceof String)return function(n,e){return n?"[92m"+e+"[0m":e}(e,"'"+T(t,!0)+"'");if("string"==typeof t)return function(n,e){return n?"[93m"+e+"[0m":e}(e,'"'+T(t,!1)+'"');if("object"==typeof t&&"$"in t){var r=t.$;if("number"==typeof r)return k(e,"<internals>");if("#"===r[0]){var o=[];for(var i in t)"$"!==i&&o.push(n(e,t[i]));return"("+o.join(",")+")"}if("Set_elm_builtin"===r)return w(e,"Set")+S(e,".fromList")+" "+n(e,Be(t));if("RBNode_elm_builtin"===r||"RBEmpty_elm_builtin"===r)return w(e,"Dict")+S(e,".fromList")+" "+n(e,Ye(t));if("Array_elm_builtin"===r)return w(e,"Array")+S(e,".fromList")+" "+n(e,Ne(t));if("::"===r||"[]"===r){for(o="[",t.b&&(o+=n(e,t.a),t=t.b);t.b;t=t.b)o+=","+n(e,t.a);return o+"]"}for(var a in o="",t)if("$"!==a){var u=n(e,t[a]),s=u[0];o+=" "+("{"===s||"("===s||"["===s||"<"===s||'"'===s||0>u.indexOf(" ")?u:"("+u+")")}return w(e,r)+o}if("object"==typeof t){for(var c in o=[],t){var l="_"===c[0]?c.slice(1):c;o.push(S(e,l)+" = "+n(e,t[c]))}return 0===o.length?"{}":"{ "+o.join(", ")+" }"}return k(e,"<internals>")}(!1,n)}function T(n,e){var t=n.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?t.replace(/\'/g,"\\'"):t.replace(/\"/g,'\\"')}function w(n,e){return n?"[96m"+e+"[0m":e}function S(n,e){return n?"[37m"+e+"[0m":e}function k(n,e){return n?"[94m"+e+"[0m":e}function I(n,e,t,r,o){switch(n){case 0:throw Error('What node should I take over? In JavaScript I need something like:\n\n    Elm.Main.init({\n        node: document.getElementById("elm-node")\n    })\n\nYou need to do this with any Browser.sandbox or Browser.element program.');case 1:throw Error("Browser.application programs cannot handle URLs like this:\n\n    "+document.location.href+"\n\nWhat is the root? The root of your file system? Try looking at this program with `elm reactor` or some other server.");case 2:throw Error("Problem with the flags given to your Elm program on initialization.\n\n"+e);case 3:throw Error("There can only be one port named `"+e+"`, but your program has multiple.");case 4:throw Error("Trying to send an unexpected type of value through port `"+e+"`:\n"+t);case 5:throw Error('Trying to use `(==)` on functions.\nThere is no way to know if functions are "the same" in the Elm sense.\nRead more about this at https://package.elm-lang.org/packages/elm/core/latest/Basics#== which describes why it is this way and what the better version will look like.');case 6:throw Error("Your page is loading multiple Elm scripts with a module named "+e+". Maybe a duplicate script is getting loaded accidentally? If not, rename one of them so I know which is which!");case 8:var i=r;throw Error("TODO in module `"+e+"` "+A(t)+"\n\n"+i);case 9:var a=r;throw i=o,Error("TODO in module `"+e+"` from the `case` expression "+A(t)+"\n\nIt received the following value:\n\n    "+R(a).replace("\n","\n    ")+"\n\nBut the branch that handles it says:\n\n    "+i.replace("\n","\n    "));case 10:throw Error("Bug in https://github.com/elm/virtual-dom/issues");case 11:throw Error("Cannot perform mod 0. Division by zero error.")}}function A(n){return n.start.line===n.end.line?"on line "+n.start.line:"on lines "+n.start.line+" through "+n.end.line}function L(n,e){for(var t,r=[],o=O(n,e,0,r);o&&(t=r.pop());o=O(t.a,t.b,0,r));return o}function O(n,e,t,r){if(t>100)return r.push(M(n,e)),!0;if(n===e)return!0;if("object"!=typeof n||null===n||null===e)return"function"==typeof n&&I(5),!1;for(var o in"Set_elm_builtin"===n.$&&(n=Be(n),e=Be(e)),"RBNode_elm_builtin"!==n.$&&"RBEmpty_elm_builtin"!==n.$||(n=Ye(n),e=Ye(e)),n)if(!O(n[o],e[o],t+1,r))return!1;return!0}var N=t(L),$=t((function(n,e){return!L(n,e)}));function C(n,e,t){if("object"!=typeof n)return n===e?0:e>n?-1:1;if(n instanceof String){var r=n.valueOf(),o=e.valueOf();return r===o?0:o>r?-1:1}if("#"===n.$[0])return(t=C(n.a,e.a))?t:(t=C(n.b,e.b))?t:C(n.c,e.c);for(;n.b&&e.b&&!(t=C(n.a,e.a));n=n.b,e=e.b);return t||(n.b?1:e.b?-1:0)}var Y=t((function(n,e){var t=C(n,e);return 0>t?Le:t?$e:Ae})),B={$:"#0"};function M(n,e){return{$:"#2",a:n,b:e}}function P(n,e,t){return{$:"#3",a:n,b:e,c:t}}function x(n){return new String(n)}function D(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function H(n,e){if("string"==typeof n)return n+e;if(!n.b)return e;var t=p(n.a,e);n=n.b;for(var r=t;n.b;n=n.b)r=r.b=p(n.a,e);return t}var F=t((function(n,e){return n+e})),W=Math.ceil,j=Math.floor,G=Math.log,U=t((function(n,e){return e.split(n)})),J=t((function(n,e){return e.join(n)})),K=r((function(n,e,t){return t.slice(n,e)})),z=t((function(n,e){for(var t=e.length;t--;){var r=e[t],o=e.charCodeAt(t);if(56320>o||o>57343||(r=e[--t]+r),!n(x(r)))return!1}return!0})),q=t((function(n,e){return e.indexOf(n)>-1})),V=t((function(n,e){return 0===e.indexOf(n)}));function X(n){return{$:2,b:n}}X((function(n){return"number"!=typeof n?cn("an INT",n):n>-2147483647&&2147483647>n&&(0|n)===n?bt(n):!isFinite(n)||n%1?cn("an INT",n):bt(n)}));var Q=X((function(n){return"boolean"==typeof n?bt(n):cn("a BOOL",n)})),Z=(X((function(n){return"number"==typeof n?bt(n):cn("a FLOAT",n)})),X((function(n){return bt(dn(n))})),X((function(n){return"string"==typeof n?bt(n):n instanceof String?bt(n+""):cn("a STRING",n)}))),nn=t((function(n,e){return{$:6,d:n,b:e}})),en=t((function(n,e){return{$:10,b:e,h:n}})),tn=t((function(n,e){return function(n){return{$:9,f:n,g:[e]}}(n)})),rn=t((function(n,e){return on(n,gn(e))}));function on(n,e){switch(n.$){case 2:return n.b(e);case 5:return null===e?bt(n.c):cn("null",e);case 3:return un(e)?an(n.b,e,m):cn("a LIST",e);case 4:return un(e)?an(n.b,e,sn):cn("an ARRAY",e);case 6:var t=n.d;if("object"!=typeof e||null===e||!(t in e))return cn("an OBJECT with a field named `"+t+"`",e);var r=on(n.b,e[t]);return Ue(r)?r:pt(a(Et,t,r.a));case 7:var o=n.e;return un(e)?e.length>o?(r=on(n.b,e[o]),Ue(r)?r:pt(a(_t,o,r.a))):cn("a LONGER array. Need index "+o+" but only see "+e.length+" entries",e):cn("an ARRAY",e);case 8:if("object"!=typeof e||null===e||un(e))return cn("an OBJECT",e);var i=g;for(var u in e)if(e.hasOwnProperty(u)){if(r=on(n.b,e[u]),!Ue(r))return pt(a(Et,u,r.a));i=p(M(u,r.a),i)}return bt(et(i));case 9:for(var s=n.f,c=n.g,l=0;c.length>l;l++){if(r=on(c[l],e),!Ue(r))return r;s=s(r.a)}return bt(s);case 10:return r=on(n.b,e),Ue(r)?on(n.h(r.a),e):r;case 11:for(var f=g,h=n.g;h.b;h=h.b){if(r=on(h.a,e),Ue(r))return r;f=p(r.a,f)}return pt(yt(et(f)));case 1:return pt(a(mt,n.a,dn(e)));case 0:return bt(n.a)}}function an(n,e,t){for(var r=e.length,o=Array(r),i=0;r>i;i++){var u=on(n,e[i]);if(!Ue(u))return pt(a(_t,i,u.a));o[i]=u.a}return bt(t(o))}function un(n){return Array.isArray(n)||"function"==typeof FileList&&n instanceof FileList}function sn(n){return a(gt,n.length,(function(e){return n[e]}))}function cn(n,e){return pt(a(mt,"Expecting "+n,dn(e)))}function ln(n,e){if(n===e)return!0;if(n.$!==e.$)return!1;switch(n.$){case 0:case 1:return n.a===e.a;case 2:return n.b===e.b;case 5:return n.c===e.c;case 3:case 4:case 8:return ln(n.b,e.b);case 6:return n.d===e.d&&ln(n.b,e.b);case 7:return n.e===e.e&&ln(n.b,e.b);case 9:return n.f===e.f&&fn(n.g,e.g);case 10:return n.h===e.h&&ln(n.b,e.b);case 11:return fn(n.g,e.g)}}function fn(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;t>r;r++)if(!ln(n[r],e[r]))return!1;return!0}var hn=t((function(n,e){return JSON.stringify(gn(e),null,n)+""}));function dn(n){return{$:0,a:n}}function gn(n){return n.a}function pn(n){return{$:0,a:n}}function bn(n){return{$:2,b:n,c:null}}dn(null);var mn=t((function(n,e){return{$:3,b:n,d:e}})),En=0;function _n(n){var e={$:0,e:En++,f:n,g:null,h:[]};return Rn(e),e}var yn=!1,vn=[];function Rn(n){if(vn.push(n),!yn){for(yn=!0;n=vn.shift();)Tn(n);yn=!1}}function Tn(n){for(;n.f;){var e=n.f.$;if(0===e||1===e){for(;n.g&&n.g.$!==e;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===e)return void(n.f.c=n.f.b((function(e){n.f=e,Rn(n)})));if(5===e){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===e?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}var wn={};function Sn(n,e){var t={g:e,h:void 0},r=n.c,o=n.d,i=n.e,c=n.f;return t.h=_n(a(mn,(function n(e){return a(mn,n,{$:5,b:function(n){var a=n.a;return 0===n.$?u(o,t,a,e):i&&c?s(r,t,a.i,a.j,e):u(r,t,i?a.i:a.j,e)}})}),n.b))}var kn=t((function(n,e){return bn((function(t){n.g(e),t(pn(B))}))}));function In(n){return function(e){return{$:1,k:n,l:e}}}function An(n){return{$:2,m:n}}function Ln(n,e,t){var r,o={};for(var i in On(!0,e,o,null),On(!1,t,o,null),n)(r=n[i]).h.push({$:"fx",a:o[i]||{i:g,j:g}}),Rn(r)}function On(n,e,t,r){switch(e.$){case 1:var o=e.k,i=function(n,t,r){return a(n?wn[t].e:wn[t].f,(function(n){for(var e=r;e;e=e.q)n=e.p(n);return n}),e.l)}(n,o,r);return void(t[o]=function(n,e,t){return t=t||{i:g,j:g},n?t.i=p(e,t.i):t.j=p(e,t.j),t}(n,i,t[o]));case 2:for(var u=e.m;u.b;u=u.b)On(n,u.a,t,r);return;case 3:return void On(n,e.o,t,{p:e.n,q:r})}}function Nn(n,e){return function(n){wn[n]&&I(3,n)}(n),wn[n]={f:$n,r:e,a:Cn},In(n)}var $n=t((function(n,e){return function(t){return n(e(t))}}));function Cn(n,e){var t=g,o=wn[n].r,i=pn(null);return wn[n].b=i,wn[n].c=r((function(n,e){return t=e,i})),{send:function(r){var i=a(rn,o,dn(r));Ue(i)||I(4,n,i.a);for(var u=i.a,s=t;s.b;s=s.b)e(s.a(u))}}}var Yn,Bn=i((function(n,e,t,r,o){for(var i=n.length,a=o.length>=e+i,u=0;a&&i>u;){var s=o.charCodeAt(e);a=n[u++]===o[e++]&&(10===s?(t++,r=1):(r++,55296==(63488&s)?n[u++]===o[e++]:1))}return P(a?e:-1,t,r)})),Mn=r((function(n,e,t){return t.length>e?55296==(63488&t.charCodeAt(e))?n(x(t.substr(e,2)))?e+2:-1:n(x(t[e]))?"\n"===t[e]?-2:e+1:-1:-1})),Pn=i((function(n,e,t,r,o){for(var i=o.indexOf(n,e),a=0>i?o.length:i+n.length;a>e;){var u=o.charCodeAt(e++);10===u?(r=1,t++):(r++,55296==(63488&u)&&e++)}return P(i,t,r)})),xn="undefined"!=typeof document?document:{};function Dn(n,e){n.appendChild(e)}function Hn(n){return{$:0,a:n}}var Fn,Wn=t((function(n,e){return t((function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b||0,o.push(a)}return i+=o.length,{$:1,c:e,d:zn(t),e:o,f:n,b:i}}))}))(void 0),jn=t((function(n,e){return t((function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b.b||0,o.push(a)}return i+=o.length,{$:2,c:e,d:zn(t),e:o,f:n,b:i}}))}))(void 0),Gn=t((function(n,e){return{$:"a0",n:n,o:e}})),Un=t((function(n,e){return{$:"a1",n:n,o:e}})),Jn=t((function(n,e){return{$:"a2",n:n,o:e}})),Kn=t((function(n,e){return{$:"a3",n:n,o:e}}));function zn(n){for(var e={};n.b;n=n.b){var t=n.a,r=t.$,o=t.n,i=t.o;if("a2"!==r){var a=e[r]||(e[r]={});"a3"===r&&"class"===o?qn(a,o,i):a[o]=i}else"className"===o?qn(e,o,gn(i)):e[o]=gn(i)}return e}function qn(n,e,t){var r=n[e];n[e]=r?r+" "+t:t}function Vn(n,e){var t=n.$;if(5===t)return Vn(n.k||(n.k=n.m()),e);if(0===t)return xn.createTextNode(n.a);if(4===t){for(var r=n.k,o=n.j;4===r.$;)"object"!=typeof o?o=[o,r.j]:o.push(r.j),r=r.k;var i={j:o,p:e};return(a=Vn(r,i)).elm_event_node_ref=i,a}if(3===t)return Xn(a=n.h(n.g),e,n.d),a;var a=n.f?xn.createElementNS(n.f,n.c):xn.createElement(n.c);Yn&&"a"==n.c&&a.addEventListener("click",Yn(a)),Xn(a,e,n.d);for(var u=n.e,s=0;u.length>s;s++)Dn(a,Vn(1===t?u[s]:u[s].b,e));return a}function Xn(n,e,t){for(var r in t){var o=t[r];"a1"===r?Qn(n,o):"a0"===r?ee(n,e,o):"a3"===r?Zn(n,o):"a4"===r?ne(n,o):("value"!==r||"checked"!==r||n[r]!==o)&&(n[r]=o)}}function Qn(n,e){var t=n.style;for(var r in e)t[r]=e[r]}function Zn(n,e){for(var t in e){var r=e[t];r?n.setAttribute(t,r):n.removeAttribute(t)}}function ne(n,e){for(var t in e){var r=e[t],o=r.f,i=r.o;i?n.setAttributeNS(o,t,i):n.removeAttributeNS(o,t)}}function ee(n,e,t){var r=n.elmFs||(n.elmFs={});for(var o in t){var i=t[o],a=r[o];if(i){if(a){if(a.q.$===i.$){a.q=i;continue}n.removeEventListener(o,a)}a=te(e,i),n.addEventListener(o,a,Fn&&{passive:2>au(i)}),r[o]=a}else n.removeEventListener(o,a),r[o]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Fn=!0}}))}catch(n){}function te(n,e){function t(e){var r=t.q,o=on(r.a,e);if(Ue(o)){for(var i,a=au(r),u=o.a,s=a?3>a?u.a:u.message:u,c=1==a?u.b:3==a&&u.stopPropagation,l=(c&&e.stopPropagation(),(2==a?u.b:3==a&&u.preventDefault)&&e.preventDefault(),n);i=l.j;){if("function"==typeof i)s=i(s);else for(var f=i.length;f--;)s=i[f](s);l=l.p}l(s,c)}}return t.q=e,t}function re(n,e){return n.$==e.$&&ln(n.a,e.a)}function oe(n,e,t,r){var o={$:e,r:t,s:r,t:void 0,u:void 0};return n.push(o),o}function ie(n,e,t,r){if(n!==e){var o=n.$,i=e.$;if(o!==i){if(1!==o||2!==i)return void oe(t,0,r,e);e=function(n){for(var e=n.e,t=e.length,r=Array(t),o=0;t>o;o++)r[o]=e[o].b;return{$:1,c:n.c,d:n.d,e:r,f:n.f,b:n.b}}(e),i=1}switch(i){case 5:for(var a=n.l,u=e.l,s=a.length,c=s===u.length;c&&s--;)c=a[s]===u[s];if(c)return void(e.k=n.k);e.k=e.m();var l=[];return ie(n.k,e.k,l,0),void(l.length>0&&oe(t,1,r,l));case 4:for(var f=n.j,h=e.j,d=!1,g=n.k;4===g.$;)d=!0,"object"!=typeof f?f=[f,g.j]:f.push(g.j),g=g.k;for(var p=e.k;4===p.$;)d=!0,"object"!=typeof h?h=[h,p.j]:h.push(p.j),p=p.k;return d&&f.length!==h.length?void oe(t,0,r,e):((d?function(n,e){for(var t=0;n.length>t;t++)if(n[t]!==e[t])return!1;return!0}(f,h):f===h)||oe(t,2,r,h),void ie(g,p,t,r+1));case 0:return void(n.a!==e.a&&oe(t,3,r,e.a));case 1:return void ae(n,e,t,r,se);case 2:return void ae(n,e,t,r,ce);case 3:if(n.h!==e.h)return void oe(t,0,r,e);var b=ue(n.d,e.d);b&&oe(t,4,r,b);var m=e.i(n.g,e.g);return void(m&&oe(t,5,r,m))}}}function ae(n,e,t,r,o){if(n.c===e.c&&n.f===e.f){var i=ue(n.d,e.d);i&&oe(t,4,r,i),o(n,e,t,r)}else oe(t,0,r,e)}function ue(n,e,t){var r;for(var o in n)if("a1"!==o&&"a0"!==o&&"a3"!==o&&"a4"!==o)if(o in e){var i=n[o],a=e[o];i===a&&"value"!==o&&"checked"!==o||"a0"===t&&re(i,a)||((r=r||{})[o]=a)}else(r=r||{})[o]=t?"a1"===t?"":"a0"===t||"a3"===t?void 0:{f:n[o].f,o:void 0}:"string"==typeof n[o]?"":null;else{var u=ue(n[o],e[o]||{},o);u&&((r=r||{})[o]=u)}for(var s in e)s in n||((r=r||{})[s]=e[s]);return r}function se(n,e,t,r){var o=n.e,i=e.e,a=o.length,u=i.length;a>u?oe(t,6,r,{v:u,i:a-u}):u>a&&oe(t,7,r,{v:a,e:i});for(var s=u>a?a:u,c=0;s>c;c++){var l=o[c];ie(l,i[c],t,++r),r+=l.b||0}}function ce(n,e,t,r){for(var o=[],i={},a=[],u=n.e,s=e.e,c=u.length,l=s.length,f=0,h=0,d=r;c>f&&l>h;){var g=(k=u[f]).a,p=(I=s[h]).a,b=k.b,m=I.b;if(g!==p){var E=u[f+1],_=s[h+1];if(E)var y=E.a,v=E.b,R=p===y;if(_)var T=_.a,w=_.b,S=g===T;if(S&&R)ie(b,w,o,++d),fe(i,o,g,m,h,a),d+=b.b||0,he(i,o,g,v,++d),d+=v.b||0,f+=2,h+=2;else if(S)d++,fe(i,o,p,m,h,a),ie(b,w,o,d),d+=b.b||0,f+=1,h+=2;else if(R)he(i,o,g,b,++d),d+=b.b||0,ie(v,m,o,++d),d+=v.b||0,f+=2,h+=1;else{if(!E||y!==T)break;he(i,o,g,b,++d),fe(i,o,p,m,h,a),d+=b.b||0,ie(v,w,o,++d),d+=v.b||0,f+=2,h+=2}}else ie(b,m,o,++d),d+=b.b||0,f++,h++}for(;c>f;){var k;he(i,o,(k=u[f]).a,b=k.b,++d),d+=b.b||0,f++}for(;l>h;){var I,A=A||[];fe(i,o,(I=s[h]).a,I.b,void 0,A),h++}(o.length>0||a.length>0||A)&&oe(t,8,r,{w:o,x:a,y:A})}var le="_elmW6BL";function fe(n,e,t,r,o,i){var a=n[t];if(!a)return i.push({r:o,A:a={c:0,z:r,r:o,s:void 0}}),void(n[t]=a);if(1===a.c){i.push({r:o,A:a}),a.c=2;var u=[];return ie(a.z,r,u,a.r),a.r=o,void(a.s.s={w:u,A:a})}fe(n,e,t+le,r,o,i)}function he(n,e,t,r,o){var i=n[t];if(i){if(0===i.c){i.c=2;var a=[];return ie(r,i.z,a,o),void oe(e,9,o,{w:a,A:i})}he(n,e,t+le,r,o)}else{var u=oe(e,9,o,void 0);n[t]={c:1,z:r,r:o,s:u}}}function de(n,e){for(var t=0;e.length>t;t++){var r=e[t],o=r.t,i=ge(o,r);o===n&&(n=i)}return n}function ge(n,e){switch(e.$){case 0:return function(n){var t=n.parentNode,r=Vn(e.s,e.u);return r.elm_event_node_ref||(r.elm_event_node_ref=n.elm_event_node_ref),t&&r!==n&&t.replaceChild(r,n),r}(n);case 4:return Xn(n,e.u,e.s),n;case 3:return n.replaceData(0,n.length,e.s),n;case 1:return de(n,e.s);case 2:return n.elm_event_node_ref?n.elm_event_node_ref.j=e.s:n.elm_event_node_ref={j:e.s,p:e.u},n;case 6:for(var t=e.s,r=0;t.i>r;r++)n.removeChild(n.childNodes[t.v]);return n;case 7:for(var o=(t=e.s).e,i=n.childNodes[r=t.v];o.length>r;r++)n.insertBefore(Vn(o[r],e.u),i);return n;case 9:if(!(t=e.s))return n.parentNode.removeChild(n),n;var a=t.A;return void 0!==a.r&&n.parentNode.removeChild(n),a.s=de(n,t.w),n;case 8:return function(n,e){var t=e.s,r=function(n,e){if(n){for(var t=xn.createDocumentFragment(),r=0;n.length>r;r++){var o=n[r].A;Dn(t,2===o.c?o.s:Vn(o.z,e.u))}return t}}(t.y,e);n=de(n,t.w);for(var o=t.x,i=0;o.length>i;i++){var a=o[i],u=a.A,s=2===u.c?u.s:Vn(u.z,e.u);n.insertBefore(s,n.childNodes[a.r])}return r&&Dn(n,r),n}(n,e);case 5:return e.s(n);default:I(10)}}var pe=r((function(n,e,t){return function(n,e,t,r){return{$:3,d:zn(n),g:e,h:t,i:r}}(e,{a:n,b:t},be,me)}));function be(n){return a(ye,n,xn.createElement("div"))}function me(n,e){return(n.b!==e.b||n.a!==e.a)&&ye(e)}var Ee,_e,ye=t((function(n,e){return e.innerHTML=ve(n.b,{highlight:function(n,e){return!e&&Du(t.defaultHighlighting)&&(e=t.defaultHighlighting.a),"undefined"!=typeof hljs&&e&&hljs.listLanguages().indexOf(e)>=0?hljs.highlight(e,n,!0).value:n},gfm:r=(t=n.a).githubFlavored.a,tables:r&&r.tables,breaks:r&&r.breaks,sanitize:t.sanitize,smartypants:t.smartypants}),e;var t,r})),ve=(_e=(Ee={}).exports={},function(){var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function e(e){this.tokens=[],this.tokens.links={},this.options=e||l.defaults,this.rules=n.normal,this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=u(n.item,"gm")(/bull/g,n.bullet)(),n.list=u(n.list)(/bull/g,n.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+n.def.source+")")(),n.blockquote=u(n.blockquote)("def",n.def)(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",n.html=u(n.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,n._tag)(),n.paragraph=u(n.paragraph)("hr",n.hr)("heading",n.heading)("lheading",n.lheading)("blockquote",n.blockquote)("tag","<"+n._tag)("def",n.def)(),n.normal=c({},n),n.gfm=c({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=u(n.paragraph)("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|")(),n.tables=c({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=n,e.lex=function(n,t){return new e(t).lex(n)},e.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)},e.prototype.token=function(e,t,r){var o,i,a,u,s,c,l,f,h;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},f=0;c.align.length>f;f++)c.align[f]=/^ *-+: *$/.test(c.align[f])?"right":/^ *:-+: *$/.test(c.align[f])?"center":/^ *:-+ *$/.test(c.align[f])?"left":null;for(f=0;c.cells.length>f;f++)c.cells[f]=c.cells[f].split(/ *\| */);this.tokens.push(c)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t,!0),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),this.tokens.push({type:"list_start",ordered:(u=a[2]).length>1}),o=!1,h=(a=a[0].match(this.rules.item)).length,f=0;h>f;f++)l=(c=a[f]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=c.length,c=c.replace(this.options.pedantic?/^ {1,4}/gm:RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&f!==h-1&&(u===(s=n.bullet.exec(a[f+1])[0])||u.length>1&&s.length>1||(e=a.slice(f+1).join("\n")+e,f=h-1)),i=o||/\n\n(?!\s*$)/.test(c),f!==h-1&&(o="\n"===c.charAt(c.length-1),i||(i=o)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(c,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(!r&&t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),this.tokens.links[a[1].toLowerCase()]={href:a[2],title:a[3]};else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},f=0;c.align.length>f;f++)c.align[f]=/^ *-+: *$/.test(c.align[f])?"right":/^ *:-+: *$/.test(c.align[f])?"center":/^ *:-+ *$/.test(c.align[f])?"left":null;for(f=0;c.cells.length>f;f++)c.cells[f]=c.cells[f].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^_\_([\s\S]+?)_\_(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|_\_)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function r(n,e){if(this.options=e||l.defaults,this.links=n,this.rules=t.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?t.breaks:t.gfm:this.options.pedantic&&(this.rules=t.pedantic)}function o(n){this.options=n||{}}function i(n){this.tokens=[],this.token=null,this.options=n||l.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(n,e){return n.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(n,e){return n=n.source,e=e||"",function t(r,o){return r?(o=(o=o.source||o).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,o),t):RegExp(n,e)}}function s(){}function c(n){for(var e,t,r=1;arguments.length>r;r++)for(t in e=arguments[r])Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function l(n,t,r){if(r||"function"==typeof t){r||(r=t,t=null);var o,u,s=(t=c({},l.defaults,t||{})).highlight,f=0;try{o=e.lex(n,t)}catch(n){return r(n)}u=o.length;var h=function(n){if(n)return t.highlight=s,r(n);var e;try{e=i.parse(o,t)}catch(e){n=e}return t.highlight=s,n?r(n):r(null,e)};if(!s||3>s.length)return h();if(delete t.highlight,!u)return h();for(;o.length>f;f++)!function(n){"code"!==n.type?--u||h():s(n.text,n.lang,(function(e,t){return e?h(e):null==t||t===n.text?--u||h():(n.text=t,n.escaped=!0,void(--u||h()))}))}(o[f])}else try{return t&&(t=c({},l.defaults,t)),i.parse(e.lex(n,t),t)}catch(n){if(n.message+="\nPlease report this to https://github.com/chjj/marked.",(t||l.defaults).silent)return"<p>An error occured:</p><pre>"+a(n.message+"",!0)+"</pre>";throw n}}t._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,t._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,t.link=u(t.link)("inside",t._inside)("href",t._href)(),t.reflink=u(t.reflink)("inside",t._inside)(),t.normal=c({},t),t.pedantic=c({},t.normal,{strong:/^_\_(?=\S)([\s\S]*?\S)_\_(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),t.gfm=c({},t.normal,{escape:u(t.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(t.text)("]|","~]|")("|","|https?://|")()}),t.breaks=c({},t.gfm,{br:u(t.br)("{2,}","*")(),text:u(t.gfm.text)("{2,}","*")()}),r.rules=t,r.output=function(n,e,t){return new r(e,t).output(n)},r.prototype.output=function(n){for(var e,t,r,o,i="";n;)if(o=this.rules.escape.exec(n))n=n.substring(o[0].length),i+=o[1];else if(o=this.rules.autolink.exec(n))n=n.substring(o[0].length),"@"===o[2]?(t=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),r=this.mangle("mailto:")+t):r=t=a(o[1]),i+=this.renderer.link(r,null,t);else if(this.inLink||!(o=this.rules.url.exec(n))){if(o=this.rules.tag.exec(n))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),n=n.substring(o[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):a(o[0]):o[0];else if(o=this.rules.link.exec(n))n=n.substring(o[0].length),this.inLink=!0,i+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(n))||(o=this.rules.nolink.exec(n))){if(n=n.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){i+=o[0].charAt(0),n=o[0].substring(1)+n;continue}this.inLink=!0,i+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(n))n=n.substring(o[0].length),i+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(n))n=n.substring(o[0].length),i+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(n))n=n.substring(o[0].length),i+=this.renderer.codespan(a(o[2],!0));else if(o=this.rules.br.exec(n))n=n.substring(o[0].length),i+=this.renderer.br();else if(o=this.rules.del.exec(n))n=n.substring(o[0].length),i+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(n))n=n.substring(o[0].length),i+=this.renderer.text(a(this.smartypants(o[0])));else if(n)throw Error("Infinite loop on byte: "+n.charCodeAt(0))}else n=n.substring(o[0].length),t=a(o[1]),i+=this.renderer.link(r=t,null,t);return i},r.prototype.outputLink=function(n,e){var t=a(e.href),r=e.title?a(e.title):null;return"!"!==n[0].charAt(0)?this.renderer.link(t,r,this.output(n[1])):this.renderer.image(t,r,a(n[1]))},r.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):n},r.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var e,t="",r=n.length,o=0;r>o;o++)e=n.charCodeAt(o),Math.random()>.5&&(e="x"+e.toString(16)),t+="&#"+e+";";return t},o.prototype.code=function(n,e,t){if(this.options.highlight){var r=this.options.highlight(n,e);null!=r&&r!==n&&(t=!0,n=r)}return e?'<pre><code class="'+this.options.langPrefix+a(e,!0)+'">'+(t?n:a(n,!0))+"\n</code></pre>\n":"<pre><code>"+(t?n:a(n,!0))+"\n</code></pre>"},o.prototype.blockquote=function(n){return"<blockquote>\n"+n+"</blockquote>\n"},o.prototype.html=function(n){return n},o.prototype.heading=function(n,e,t){return"<h"+e+' id="'+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(n,e){var t=e?"ol":"ul";return"<"+t+">\n"+n+"</"+t+">\n"},o.prototype.listitem=function(n){return"<li>"+n+"</li>\n"},o.prototype.paragraph=function(n){return"<p>"+n+"</p>\n"},o.prototype.table=function(n,e){return"<table>\n<thead>\n"+n+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(n){return"<tr>\n"+n+"</tr>\n"},o.prototype.tablecell=function(n,e){var t=e.header?"th":"td";return(e.align?"<"+t+' style="text-align:'+e.align+'">':"<"+t+">")+n+"</"+t+">\n"},o.prototype.strong=function(n){return"<strong>"+n+"</strong>"},o.prototype.em=function(n){return"<em>"+n+"</em>"},o.prototype.codespan=function(n){return"<code>"+n+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(n){return"<del>"+n+"</del>"},o.prototype.link=function(n,e,t){if(this.options.sanitize){try{var r=decodeURIComponent((o=n,o.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,(function(n,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})))).replace(/[^\w:]/g,"").toLowerCase()}catch(n){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return""}var o,i='<a href="'+n+'"';return e&&(i+=' title="'+e+'"'),i+">"+t+"</a>"},o.prototype.image=function(n,e,t){var r='<img src="'+n+'" alt="'+t+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},o.prototype.text=function(n){return n},i.parse=function(n,e,t){return new i(e,t).parse(n)},i.prototype.parse=function(n){this.inline=new r(n.links,this.options,this.renderer),this.tokens=n.reverse();for(var e="";this.next();)e+=this.tok();return e},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var n=this.token.text;"text"===this.peek().type;)n+="\n"+this.next().text;return this.inline.output(n)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var n,e,t,r,o="",i="";for(t="",n=0;this.token.header.length>n;n++)t+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(o+=this.renderer.tablerow(t),n=0;this.token.cells.length>n;n++){for(e=this.token.cells[n],t="",r=0;e.length>r;r++)t+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(t)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a);case"list_item_start":for(i="";"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,l.options=l.setOptions=function(n){return c(l.defaults,n),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},l.Parser=i,l.parser=i.parse,l.Renderer=o,l.Lexer=e,l.lexer=e.lex,l.InlineLexer=r,l.inlineLexer=r.output,l.parse=l,void 0!==Ee&&"object"==typeof _e?Ee.exports=l:"function"==typeof define&&define.amd?define((function(){return l})):this.marked=l}.call(function(){return this||("undefined"!=typeof window?window:global)}()),Ee.exports),Re=o((function(n,e,t,r){return function(e,t,r,o,i){var s=a(rn,e,dn(t?t.flags:void 0));Ue(s)||I(2,Dt(s.a));var c={},l=(s=r(s.a)).a,f=function(e,t){var r=n.setup&&n.setup(e),o=n.view,i=xn.title,s=xn.body,c=function n(e){if(3===e.nodeType)return Hn(e.textContent);if(1!==e.nodeType)return Hn("");for(var t=g,r=e.attributes,o=r.length;o--;){var i=r[o];t=p(a(Kn,i.name,i.value),t)}var s=e.tagName.toLowerCase(),c=g,l=e.childNodes;for(o=l.length;o--;)c=p(n(l[o]),c);return u(Wn,s,t,c)}(s);return function(n,e){e(n);var t=0;function r(){t=1===t?0:(Te(r),e(n),1)}return function(o,i){n=o,i?(e(n),2===t&&(t=1)):(0===t&&Te(r),t=2)}}(t,(function(n){Yn=r;var t=o(n),a=Wn("body")(g)(t.body),u=function(n,e){var t=[];return ie(n,e,t,0),t}(c,a);s=function(n,e,t,r){return 0===t.length?n:(function n(e,t,r,o){!function e(t,r,o,i,a,u,s){for(var c=o[i],l=c.r;l===a;){var f=c.$;if(1===f)n(t,r.k,c.s,s);else if(8===f)c.t=t,c.u=s,(h=c.s.w).length>0&&e(t,r,h,0,a,u,s);else if(9===f){c.t=t,c.u=s;var h,d=c.s;d&&(d.A.s=t,(h=d.w).length>0&&e(t,r,h,0,a,u,s))}else c.t=t,c.u=s;if(!(c=o[++i])||(l=c.r)>u)return i}var g=r.$;if(4===g){for(var p=r.k;4===p.$;)p=p.k;return e(t,p,o,i,a+1,u,t.elm_event_node_ref)}for(var b=r.e,m=t.childNodes,E=0;b.length>E;E++){a++;var _=1===g?b[E]:b[E].b,y=a+(_.b||0);if(!(a>l||l>y||(c=o[i=e(m[E],_,o,i,a,y,s)])&&(l=c.r)<=u))return i;a=y}return i}(e,t,r,0,0,t.b,o)}(n,e,t,r),de(n,t))}(s,c,u,e),c=a,Yn=0,i!==t.title&&(xn.title=i=t.title)}))}(d,l),h=function(n,e){var t;for(var r in wn){var o=wn[r];o.a&&((t=t||{})[r]=o.a(r,e)),n[r]=Sn(o,e)}return t}(c,d);function d(n,e){f(l=(s=a(o,n,l)).a,e),Ln(c,s.b,i(l))}return Ln(c,s.b,i(l)),h?{ports:h}:{}}(e,r,n.init,n.update,n.subscriptions)})),Te="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(n){setTimeout(n,1e3/60)};"undefined"!=typeof document&&document,"undefined"!=typeof window&&window;var we=function(n){return{$:"Title",a:n}},Se=r((function(n,e,t){return e(n(t))})),ke=d,Ie=r((function(n,e,r){var o=r.c,i=r.d,a=t((function(e,t){return u(ke,"SubTree"===e.$?a:n,t,e.a)}));return u(ke,a,u(ke,n,e,i),o)})),Ae={$:"EQ"},Le={$:"LT"},Oe=b,Ne=function(n){return u(Ie,Oe,g,n)},$e={$:"GT"},Ce=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.d,o=n,i=u(n,t.b,t.c,u(Ce,n,e,t.e));n=o,e=i,t=r}})),Ye=function(n){return u(Ce,r((function(n,e,t){return a(Oe,M(n,e),t)})),g,n)},Be=function(n){return function(n){return u(Ce,r((function(n,e,t){return a(Oe,n,t)})),g,n)}(n.a)},Me=Y,Pe=function(n){return{$:"Just",a:n}},xe={$:"Nothing"},De=t((function(n,e){n:for(;;){if("RBEmpty_elm_builtin"===e.$)return xe;var t=e.c,r=e.d,o=e.e;switch(a(Me,n,e.b).$){case"LT":n=n,e=r;continue n;case"EQ":return Pe(t);default:n=n,e=o;continue n}}})),He=t((function(n,e){return"Just"===e.$?n(e.a):xe})),Fe=r((function(n,e,t){return a(He,a(Se,(function(n){return n.stats}),De(e)),a(De,n,t))})),We=function(n){var e=u(Fe,"PLAYER","day",n);n:for(;"Just"===e.$;)switch(e.a){case 1:return"Monday morning";case 2:return"Tuesday morning";case 3:return"Wednesday morning";case 4:return"Thursday morning";case 5:return"Friday morning";default:break n}return"ERROR can't get PLAYER.day"},je={$:"RBEmpty_elm_builtin"},Ge=je,Ue=function(n){return"Ok"===n.$},Je=o((function(n,e,t,r){return{$:"Array_elm_builtin",a:n,b:e,c:t,d:r}})),Ke=W,ze=t((function(n,e){return G(e)/G(n)})),qe=Ke(a(ze,2,32)),Ve=[],Xe=s(Je,0,qe,Ve,Ve),Qe=function(n){return{$:"Leaf",a:n}},Ze=f,nt=r((function(n,e,t){for(;;){if(!t.b)return e;var r=t.b,o=n,i=a(n,t.a,e);n=o,e=i,t=r}})),et=function(n){return u(nt,Oe,g,n)},tt=t((function(n,e){for(;;){var t=a(Ze,32,n),r=t.b,o=a(Oe,{$:"SubTree",a:t.a},e);if(!r.b)return et(o);n=r,e=o}})),rt=N,ot=function(n){return n.a},it=t((function(n,e){for(;;){var t=Ke(e/32);if(1===t)return a(Ze,32,n).a;n=a(tt,n,g),e=t}})),at=F,ut=t((function(n,e){return n(e)})),st=j,ct=t((function(n,e){return C(n,e)>0?n:e})),lt=function(n){return n.length},ft=t((function(n,e){if(e.nodeListSize){var t=32*e.nodeListSize,r=st(a(ze,32,t-1)),o=n?et(e.nodeList):e.nodeList,i=a(it,o,e.nodeListSize);return s(Je,lt(e.tail)+t,a(ct,5,r*qe),i,e.tail)}return s(Je,lt(e.tail),qe,Ve,e.tail)})),ht=l,dt=i((function(n,e,t,r,o){for(;;){if(0>e)return a(ft,!1,{nodeList:r,nodeListSize:t/32|0,tail:o});var i=Qe(u(ht,32,e,n));n=n,e-=32,t=t,r=a(Oe,i,r),o=o}})),gt=t((function(n,e){if(n>0){var t=n%32;return c(dt,e,n-t-32,n,g,u(ht,t,n-t,e))}return Xe})),pt=function(n){return{$:"Err",a:n}},bt=function(n){return{$:"Ok",a:n}},mt=t((function(n,e){return{$:"Failure",a:n,b:e}})),Et=t((function(n,e){return{$:"Field",a:n,b:e}})),_t=t((function(n,e){return{$:"Index",a:n,b:e}})),yt=function(n){return{$:"OneOf",a:n}},vt=function(n){var e=n.charCodeAt(0);return 55296>e||e>56319?e:1024*(e-55296)+n.charCodeAt(1)-56320+65536},Rt=function(n){var e=vt(n);return e>=97&&122>=e},Tt=function(n){var e=vt(n);return 90>=e&&e>=65},wt=function(n){return Rt(n)||Tt(n)},St=function(n){var e=vt(n);return 57>=e&&e>=48},kt=function(n){return Rt(n)||Tt(n)||St(n)},It=function(n){return u(nt,t((function(n,e){return e+1})),0,n)},At=_,Lt=r((function(n,e,t){for(;;){if(C(n,e)>=1)return t;var r=n,o=e-1,i=a(Oe,e,t);n=r,e=o,t=i}})),Ot=t((function(n,e){return u(Lt,n,e,g)})),Nt=t((function(n,e){return u(At,n,a(Ot,0,It(e)-1),e)})),$t=z,Ct=function(n){return n+""},Yt=t((function(n,e){return a(J,n,E(e))})),Bt=t((function(n,e){return m(a(U,n,e))})),Mt=function(n){return a(Yt,"\n    ",a(Bt,"\n",n))},Pt=hn,xt=t((function(n,e){return"\n\n("+Ct(n+1)+") "+Mt(Dt(e))})),Dt=function(n){return a(Ht,n,g)},Ht=t((function(n,e){n:for(;;)switch(n.$){case"Field":var t=n.a,r=n.b,o=function(){var n,e,r=(e=(n=t).charCodeAt(0))?Pe(55296>e||e>56319?M(x(n[0]),n.slice(1)):M(x(n[0]+n[1]),n.slice(2))):xe;if("Nothing"===r.$)return!1;var o=r.a,i=o.b;return wt(o.a)&&a($t,kt,i)}();n=r,e=a(Oe,o?"."+t:"['"+t+"']",e);continue n;case"Index":r=n.b;var i="["+Ct(n.a)+"]";n=r,e=a(Oe,i,e);continue n;case"OneOf":var u=n.a;if(u.b){if(u.b.b){var s=(e.b?"The Json.Decode.oneOf at json"+a(Yt,"",et(e)):"Json.Decode.oneOf")+" failed in the following "+Ct(It(u))+" ways:";return a(Yt,"\n\n",a(Oe,s,a(Nt,xt,u)))}n=r=u.a,e=e;continue n}return"Ran into a Json.Decode.oneOf with no possibilities"+(e.b?" at json"+a(Yt,"",et(e)):"!");default:var c=n.a,l=n.b;return(s=e.b?"Problem with the value at json"+a(Yt,"",et(e))+":\n\n    ":"Problem with the given value:\n\n")+Mt(a(Pt,4,l))+"\n\n"+c}})),Ft=An,Wt=Ft(g),jt=t((function(n,e){return M({debug:e.debug?Pe({debugSearchWorldModelText:"",lastInteraction:"begin game",lastMatchedRule:"Game started"}):xe,gameOver:!1,history:g,loaded:!1,pendingChanges:xe,ruleMatchCounts:Ge,scene:we(We(n)),showMap:!1,showNotebook:!1,showSelectScene:e.debug,story:g,worldModel:n},Wt)})),Gt={$:"Loaded"},Ut={$:"Continue"},Jt=function(n){return{$:"Interact",a:n}},Kt={$:"NoOp"},zt={$:"ToggleMap"},qt={$:"ToggleNotebook"},Vt=function(n){return!n},Xt=function(n){return!n.b},Qt=t((function(n,e){var t="Title"===n.scene.$;if(!n.loaded||n.showSelectScene)return Kt;switch(e){case" ":return t?Jt("LOBBY"):n.showMap?zt:n.showNotebook?qt:Xt(n.story)?Kt:Ut;case"m":return zt;case"n":return qt;default:return Kt}})),Zt=Z,nr=Nn("keyPress",Zt),er=Q,tr=Nn("loaded",er),rr=t((function(n){return n})),or=An,ir=function(n){return or(m([tr(rr(Gt)),nr(Qt(n))]))},ar={$:"Arriving"},ur={$:"Disembark"},sr={$:"InTransit"},cr={$:"Lobby"},lr=function(n){return{$:"Train",a:n}},fr=t((function(n,e){return"Just"===a(De,n,e).$})),hr=r((function(n,e,t){return a(He,(function(n){return a(fr,n,t)?Pe(n):xe}),a(He,a(Se,(function(n){return n.links}),De(e)),a(De,n,t)))})),dr={$:"Blue"},gr={$:"Green"},pr={$:"Orange"},br={$:"Purple"},mr={$:"Red"},Er={$:"Yellow"},_r=function(n){switch(n){case"RED_LINE":return Pe(mr);case"YELLOW_LINE":return Pe(Er);case"GREEN_LINE":return Pe(gr);case"ORANGE_LINE":return Pe(pr);case"BLUE_LINE":return Pe(dr);case"PURPLE_LINE":return Pe(br);default:return xe}},yr=function(n){return a(He,_r,u(hr,"PLAYER","line",n))},vr=t((function(n,e){for(;;){if(!e.b)return!1;var t=e.b;if(n(e.a))return!0;n=n,e=t}})),Rr=t((function(n,e){return a(vr,(function(e){return L(e,n)}),e)})),Tr=t((function(n,e){return"Just"===e.$?e.a:n})),wr=function(n){return bn((function(e){var t=setTimeout((function(){e(pn(B))}),n);return function(){clearTimeout(t)}}))},Sr=function(n){return n},kr=function(n){return{$:"Perform",a:n}},Ir=pn,Ar=Ir(B),Lr=o((function(n,e,t,r){if(r.b){var o=r.a,i=r.b;if(i.b){var c=i.a,l=i.b;if(l.b){var f=l.a,h=l.b;if(h.b){var d=h.b;return a(n,o,a(n,c,a(n,f,a(n,h.a,t>500?u(nt,n,e,et(d)):s(Lr,n,e,t+1,d)))))}return a(n,o,a(n,c,a(n,f,e)))}return a(n,o,a(n,c,e))}return a(n,o,e)}return e})),Or=r((function(n,e,t){return s(Lr,n,e,0,t)})),Nr=t((function(n,e){return u(Or,t((function(e,t){return a(Oe,n(e),t)})),g,e)})),$r=mn,Cr=t((function(n,e){return a($r,(function(e){return Ir(n(e))}),e)})),Yr=r((function(n,e,t){return a($r,(function(e){return a($r,(function(t){return Ir(a(n,e,t))}),t)}),e)})),Br=kn,Mr=t((function(n,e){var t=e.a;return function(n){return bn((function(e){e(pn(_n(n)))}))}(a($r,Br(n),t))}));wn.Task={b:Ar,c:r((function(n,e){return a(Cr,(function(){return B}),(t=a(Nr,Mr(n),e),u(Or,Yr(Oe),Ir(g),t)));var t})),d:r((function(){return Ir(B)})),e:t((function(n,e){return kr(a(Cr,n,e.a))})),f:void 0};var Pr,xr,Dr=In("Task"),Hr=t((function(n,e){return Dr(kr(a(Cr,n,e)))})),Fr=t((function(n,e){switch(n){case"notebookInstructions":return M(D(e,{showNotebook:!0}),Wt);case"NOTEBOOK":return M(D(e,{showNotebook:!e.showNotebook}),Wt);case"checkMap":return M(D(e,{showMap:!e.showMap}),Wt);case"goToLineTurnstile":return M(D(e,{scene:(r=a(Tr,mr,yr(e.worldModel)),{$:"Turnstile",a:r})}),Wt);case"goToLobby":return M(D(e,{scene:cr}),Wt);case"get_caffeinated_plot_2":return M(e,a(Hr,(function(){return{$:"Achievement",a:"get_caffeinated_plot_achievement"}}),wr(300)));default:var t=n;return a(Rr,t,m(["goToLinePlatform"]))?M(D(e,{scene:{$:"Platform",a:a(Tr,mr,yr(e.worldModel))}}),Wt):a(Rr,t,m(["endMonday","endTuesday","endWednesday","endThursday"]))?M(D(e,{scene:we(We(e.worldModel))}),Wt):M(e,Wt)}var r})),Wr=t((function(n,e){return M(e.a,n(e.b))})),jr=t((function(n,e){var t=e.b;return a(Wr,(function(n){return Ft(m([n,t]))}),n(e.a))})),Gr=function(n){return{$:"MatchAny",a:n}},Ur={$:"Black"},Jr=i((function(n,e,t,r,o){return{$:"RBNode_elm_builtin",a:n,b:e,c:t,d:r,e:o}})),Kr={$:"Red"},zr=i((function(n,e,t,r,o){if("RBNode_elm_builtin"===o.$&&"Red"===o.a.$){var i=o.b,a=o.c,u=o.d,s=o.e;return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(Jr,Kr,e,t,c(Jr,Ur,r.b,r.c,r.d,f=r.e),c(Jr,Ur,i,a,u,s)):c(Jr,n,i,a,c(Jr,Kr,e,t,r,u),s)}if("RBNode_elm_builtin"===r.$&&"Red"===r.a.$&&"RBNode_elm_builtin"===r.d.$&&"Red"===r.d.a.$){var l=r.d,f=r.e;return c(Jr,Kr,r.b,r.c,c(Jr,Ur,l.b,l.c,l.d,l.e),c(Jr,Ur,e,t,f,o))}return c(Jr,n,e,t,r,o)})),qr=r((function(n,e,t){if("RBEmpty_elm_builtin"===t.$)return c(Jr,Kr,n,e,je,je);var r=t.a,o=t.b,i=t.c,s=t.d,l=t.e;switch(a(Me,n,o).$){case"LT":return c(zr,r,o,i,u(qr,n,e,s),l);case"EQ":return c(Jr,r,o,e,s,l);default:return c(zr,r,o,i,s,u(qr,n,e,l))}})),Vr=r((function(n,e,t){var r=u(qr,n,e,t);return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(Jr,Ur,r.b,r.c,r.d,r.e):r})),Xr=function(n){return{$:"Set_elm_builtin",a:n}},Qr=t((function(n,e){return Xr(u(Vr,n,B,e.a))})),Zr=t((function(n,e){return D(e,{tags:a(Qr,n,e.tags)})})),no=r((function(n,e,t){return D(t,{stats:u(Vr,n,a(Tr,0,a(De,n,t.stats))-e,t.stats)})})),eo=r((function(n,e,t){return D(t,{stats:u(Vr,n,a(Tr,0,a(De,n,t.stats))+e,t.stats)})})),to=o((function(n,e,t,r){return L(a(Me,a(Tr,0,a(De,n,r.stats)),t),e)})),ro=t((function(n,e){return a(fr,n,e.a)})),oo=t((function(n,e){return a(ro,n,e.tags)})),io=r((function(n,e,t){return n(e(t))})),ao=t((function(n,e){return!a(vr,a(io,Vt,n),e)})),uo=t((function(n,e){return"Just"===e.$?Pe(n(e.a)):xe})),so=r((function(n,e,t){return a(Tr,g,a(uo,(function(r){return a(ao,(function(n){return u(lo,n,t,r)}),e)?m([M(n,r)]):g}),a(De,n,t)))})),co=o((function(n,e,t,r){return a(Tr,!1,a(uo,(function(n){if("Match"===e.$){var r=e.b;return L(e.a,n)&&!Xt(u(so,n,r,t))}return!Xt(u(so,n,r=e.a,t))}),a(De,n,r.links)))})),lo=t((function(n,e){switch(n.$){case"HasTag":return oo(n.a);case"HasStat":return u(to,n.a,n.b,n.c);case"HasLink":return u(co,n.a,n.b,e);default:return a(io,Vt,a(lo,n.a,e))}})),fo=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.e,o=n,i=u(n,t.b,t.c,u(fo,n,e,t.d));n=o,e=i,t=r}})),ho=t((function(n,e){return u(fo,r((function(e,t,r){return a(n,e,t)?u(Vr,e,t,r):r})),Ge,e)})),go=t((function(n,e){return Ye(a(ho,t((function(t,r){return a(ao,(function(n){return u(lo,n,e,r)}),n)})),e))})),po=t((function(n,e){return"Match"===n.$?u(so,n.a,n.b,e):a(go,n.a,e)})),bo=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.e.d.$&&"Red"===n.e.d.a.$){var e=n.d,t=n.e,r=t.b,o=t.c,i=(f=t.d).d,a=f.e,u=t.e;return c(Jr,Kr,f.b,f.c,c(Jr,Ur,n.b,n.c,c(Jr,Kr,e.b,e.c,e.d,e.e),i),c(Jr,Ur,r,o,a,u))}var s=n.d,l=n.e,f=(r=l.b,o=l.c,l.d);return u=l.e,c(Jr,Ur,n.b,n.c,c(Jr,Kr,s.b,s.c,s.d,s.e),c(Jr,Kr,r,o,f,u))}return n},mo=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.d.d.$&&"Red"===n.d.d.a.$){var e=n.b,t=n.c,r=n.d,o=r.d,i=r.e,a=n.e,u=a.b,s=a.c,l=a.d,f=a.e;return c(Jr,Kr,r.b,r.c,c(Jr,Ur,o.b,o.c,o.d,o.e),c(Jr,Ur,e,t,i,c(Jr,Kr,u,s,l,f)))}var h=n.d,d=n.e;return u=d.b,s=d.c,l=d.d,f=d.e,c(Jr,Ur,e=n.b,t=n.c,c(Jr,Kr,h.b,h.c,h.d,i=h.e),c(Jr,Kr,u,s,l,f))}return n},Eo=e(7,xr=function(n,e,t,r,o,i,a){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return c(Jr,t,i.b,i.c,i.d,c(Jr,Kr,r,o,i.e,a));n:for(;;){if("RBNode_elm_builtin"===a.$&&"Black"===a.a.$){if("RBNode_elm_builtin"===a.d.$){if("Black"===a.d.a.$)return mo(e);break n}return mo(e)}break n}return e},(function(){return function(n){return function(e){return function(t){return function(r){return function(o){return function(i){return xr(0,n,e,t,r,o,i)}}}}}}})),_o=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$){var e=n.a,t=n.b,r=n.c,o=n.d,i=o.d,a=n.e;if("Black"===o.a.$){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return c(Jr,e,t,r,_o(o),a);var u=bo(n);if("RBNode_elm_builtin"===u.$){var s=u.e;return c(zr,u.a,u.b,u.c,_o(u.d),s)}return je}return c(Jr,e,t,r,_o(o),a)}return je},yo=t((function(n,e){if("RBEmpty_elm_builtin"===e.$)return je;var t,r,o,i,u,s,l,f,h=e.a,d=e.b,g=e.c,p=e.d,b=e.e;if(0>C(n,d)){if("RBNode_elm_builtin"===p.$&&"Black"===p.a.$){var m=p.d;if("RBNode_elm_builtin"===m.$&&"Red"===m.a.$)return c(Jr,h,d,g,a(yo,n,p),b);var E=bo(e);if("RBNode_elm_builtin"===E.$){var _=E.e;return c(zr,E.a,E.b,E.c,a(yo,n,E.d),_)}return je}return c(Jr,h,d,g,a(yo,n,p),b)}return a(vo,n,(r=n,o=e,i=h,u=d,s=g,l=p,f=b,7===(t=Eo).a?t.f(r,o,i,u,s,l,f):t(r)(o)(i)(u)(s)(l)(f)))})),vo=t((function(n,e){if("RBNode_elm_builtin"===e.$){var t=e.a,r=e.b,o=e.c,i=e.d,u=e.e;if(L(n,r)){var s=function(n){for(;;){if("RBNode_elm_builtin"!==n.$||"RBNode_elm_builtin"!==n.d.$)return n;n=n.d}}(u);return"RBNode_elm_builtin"===s.$?c(zr,t,s.b,s.c,i,_o(u)):je}return c(zr,t,r,o,i,a(yo,n,u))}return je})),Ro=t((function(n,e){var t=a(yo,n,e);return"RBNode_elm_builtin"===t.$&&"Red"===t.a.$?c(Jr,Ur,t.b,t.c,t.d,t.e):t})),To=t((function(n,e){return Xr(a(Ro,n,e.a))})),wo=t((function(n,e){return D(e,{tags:a(To,n,e.tags)})})),So=r((function(n,e,t){return D(t,{links:u(Vr,n,e,t.links)})})),ko=r((function(n,e,t){return D(t,{stats:u(Vr,n,e,t.stats)})})),Io=r((function(n,e,t){var r=e(a(De,n,t));return"Just"===r.$?u(Vr,n,r.a,t):a(Ro,n,t)})),Ao=r((function(n,e,t){return u(Io,n,uo(e),t)})),Lo=r((function(n,e,o){var i=function(n){return"$"===n?e:n},s=r((function(n,e,t){switch(e.$){case"AddTag":return u(Ao,n,Zr(e.a),t);case"RemoveTag":return u(Ao,n,wo(e.a),t);case"SetStat":return u(Ao,n,a(ko,e.a,e.b),t);case"IncStat":return u(Ao,n,a(eo,e.a,e.b),t);case"DecStat":return u(Ao,n,a(no,e.a,e.b),t);default:return u(Ao,n,a(So,e.a,i(e.b)),t)}})),c=function(n){return nt(s(n))};return u(nt,t((function(n,e){if("Update"===n.$){var r=n.b;return u(c,i(n.a),e,r)}var o=n.a;return r=n.b,u(nt,t((function(n,e){return u(c,n.a,e,r)})),e,a(po,Gr(o),e))})),o,n)})),Oo=function(n){var e=n.pendingChanges;if("Just"===e.$){var t=e.a,r=t.a,o=t.b;return a(jr,Fr(t.c),M(D(n,{pendingChanges:xe,worldModel:u(Lo,o,r,n.worldModel)}),Wt))}return M(n,Wt)},No=t((function(n,e){return D(e,{status:n})})),$o=t((function(n,e){return a(Hr,rr(e),wr(n))})),Co=function(n){return M(n,Wt)},Yo=t((function(n,e){return{$:"Token",a:n,b:e}})),Bo=function(n){return""===n},Mo=t((function(n,e){return{$:"Bad",a:n,b:e}})),Po=r((function(n,e,t){return{$:"Good",a:n,b:e,c:t}})),xo=function(n){return{$:"Parser",a:n}},Do=t((function(n,e){return{$:"AddRight",a:n,b:e}})),Ho=o((function(n,e,t,r){return{col:e,contextStack:r,problem:t,row:n}})),Fo={$:"Empty"},Wo=t((function(n,e){return a(Do,Fo,s(Ho,n.row,n.col,e,n.context))})),jo=Bn,Go=function(n){return function(n){var e=n.a,t=n.b,r=!Bo(e);return xo((function(n){var o=c(jo,e,n.offset,n.row,n.col,n.src),i=o.a,s=o.b,l=o.c;return L(i,-1)?a(Mo,!1,a(Wo,n,t)):u(Po,r,B,{col:l,context:n.context,indent:n.indent,offset:i,row:s,src:n.src})}))}(a(Yo,n,{$:"ExpectingSymbol",a:n}))},Uo=Go("|"),Jo=Go("}"),Ko=function(n){return e={$:"Problem",a:n},xo((function(n){return a(Mo,!1,a(Wo,n,e))}));var e},zo=function(n){return xo((function(e){return u(Po,!1,n,e)}))},qo=function(n){return Bo(n)?Ko("string is empty"):zo(n)},Vo=Go("{"),Xo=function(n){return"Ok"===n.$?zo(n.a):Ko(n.a)},Qo=r((function(n,e,t){return a(Yt,e,a(Bt,n,t))})),Zo=t((function(n,e){var t=e.a;return xo((function(e){var r=t(e);if("Bad"===r.$)return a(Mo,r.a,l=r.b);var o=r.a,i=r.c,s=(0,n(r.b).a)(i);if("Bad"===s.$){var c=s.a,l=s.b;return a(Mo,o||c,l)}return c=s.a,u(Po,o||c,s.b,s.c)}))})),ni=Mn,ei=i((function(n,e,t,r,o){for(;;){var i=u(ni,n,e,o.src);if(L(i,-1))return u(Po,0>C(o.offset,e),B,{col:r,context:o.context,indent:o.indent,offset:e,row:t,src:o.src});L(i,-2)?(n=n,e+=1,t+=1,r=1,o=o):(n=n,e=i,t=t,r+=1,o=o)}})),ti=function(n){return xo((function(e){return c(ei,n,e.offset,e.row,e.col,e)}))},ri=ti,oi=K,ii=t((function(n,e){var t=e.a;return xo((function(e){var r=t(e);if("Bad"===r.$)return a(Mo,r.a,r.b);var o=r.b,i=r.c;return u(Po,r.a,a(n,u(oi,e.offset,i.offset,e.src),o),i)}))})),ai=function(n){return a(ii,rr,n)},ui=r((function(n,e,t){var r=e.a,o=t.a;return xo((function(e){var t=r(e);if("Bad"===t.$)return a(Mo,t.a,f=t.b);var i=t.a,s=t.b,c=o(t.c);if("Bad"===c.$){var l=c.a,f=c.b;return a(Mo,i||l,f)}l=c.a;var h=c.c;return u(Po,i||l,a(n,s,c.b),h)}))})),si=t((function(n,e){return u(ui,rr,n,e)})),ci=t((function(n,e){return u(ui,ut,n,e)})),li=t((function(n,e){return{$:"Append",a:n,b:e}})),fi=r((function(n,e,t){for(;;){if(!t.b)return a(Mo,!1,e);var r=t.b,o=(0,t.a.a)(n);if("Good"===o.$)return o;var i,u=(i=o).b;if(i.a)return i;n=n,e=a(li,e,u),t=r}})),hi=function(n){return xo((function(e){return u(fi,e,Fo,n)}))},di=a(Zo,qo,ai(a(si,zo(B),ri((function(n){return!a(Rr,n,m([x("{"),x("}"),x("|")]))}))))),gi=t((function(n,e){return{$:"HasLink",a:n,b:e}})),pi=t((function(n,e){return{$:"Match",a:n,b:e}})),bi=t((function(n,e){var t=function(e){return"HasLink"===e.$&&"Match"===e.b.$&&"$"===e.b.a?a(gi,e.a,a(pi,n,e.b.b)):e};if("MatchAny"===e.$)return Gr(a(Nr,t,r=e.a));var r=e.b;return a(pi,function(e){return"$"===e?n:e}(e.a),a(Nr,t,r))})),mi=t((function(n,e){if(e.b){var r=e.b;return a(Oe,e.a,u(Or,t((function(e,t){return a(Oe,n,a(Oe,e,t))})),g,r))}return g})),Ei=function(n){return a(Yt,"",a(mi,"; ",a(Nr,(function(n){return function(n){switch(n.$){case"Expecting":return"expecting '"+n.a+"'";case"ExpectingInt":return"expecting int";case"ExpectingHex":return"expecting hex";case"ExpectingOctal":return"expecting octal";case"ExpectingBinary":return"expecting binary";case"ExpectingFloat":return"expecting float";case"ExpectingNumber":return"expecting number";case"ExpectingVariable":return"expecting variable";case"ExpectingSymbol":return"expecting symbol '"+n.a+"'";case"ExpectingKeyword":return"expecting keyword '"+n.a+"'";case"ExpectingEnd":return"expecting end";case"UnexpectedChar":return"unexpected char";case"Problem":return"problem "+n.a;default:return"bad repeat"}}(n.problem)+" at row "+Ct(n.row)+", col "+Ct(n.col)}),n)))},_i=r((function(n,e,t){return{$:"HasStat",a:n,b:e,c:t}})),yi=function(n){return{$:"HasTag",a:n}},vi=function(n){return{$:"Not",a:n}},Ri=function(n){return Bo(n)?Ko("cannot be empty"):zo(n)},Ti=t((function(n,e){return xo((function(t){var r=u(ni,n,t.offset,t.src);return L(r,-1)?a(Mo,!1,a(Wo,t,e)):L(r,-2)?u(Po,!0,B,{col:1,context:t.context,indent:t.indent,offset:t.offset+1,row:t.row+1,src:t.src}):u(Po,!0,B,{col:t.col+1,context:t.context,indent:t.indent,offset:r,row:t.row,src:t.src})}))})),wi=a(Zo,Ri,ai(a(si,a(si,zo(B),a(Ti,wt,{$:"UnexpectedChar"})),ri((function(n){return kt(n)||a(Rr,n,m([x("_"),x("-"),x(":"),x("#"),x("+")]))}))))),Si=(Pr=a(Zo,a(Se,(function(n){for(var e=0,t=n.charCodeAt(0),r=43==t||45==t?1:0,o=r;n.length>o;++o){var i=n.charCodeAt(o);if(48>i||i>57)return xe;e=10*e+i-48}return o==r?xe:Pe(45==t?-e:e)}),a(Se,uo(zo),Tr(Ko("not an int")))),ai(ri(St))),hi(m([a(ci,a(si,zo((function(n){return-n})),Go("-")),Pr),Pr]))),ki=a(Zo,Ri,ai(a(si,zo(B),ri((function(n){return kt(n)||a(Rr,n,m([x("_"),x(":"),x("#")]))}))))),Ii=t((function(n,e){var t=e.a;return xo((function(e){var r=t(e);if("Good"===r.$){var o=r.c;return u(Po,r.a,n(r.b),o)}return a(Mo,r.a,r.b)}))})),Ai=hi(m([a(Ii,rr(Gr),Go("*")),a(Ii,rr(pi("$")),Go("$")),a(Ii,pi,wi)])),Li=function(n){return{$:"Done",a:n}},Oi=function(n){return{$:"Loop",a:n}},Ni=function(n){return"Loop"===n.$?{$:"Loop",a:n.a}:{$:"Done",a:n.a}},$i=o((function(n,e,t,r){n:for(;;){var o=(0,t(e).a)(r);if("Good"===o.$){var i=o.a,s=o.b,c=o.c;if("Loop"===s.$){n=n||i,e=s.a,t=t,r=c;continue n}return u(Po,n||i,s.a,c)}return i=o.a,a(Mo,n||i,o.b)}})),Ci=t((function(n,e){return xo((function(t){return s($i,!1,n,e,t)}))})),Yi=t((function(n,e){return a(Ci,n,(function(n){return a(Ii,Ni,e(n))}))}));function Bi(){return a(ci,a(ci,zo(t((function(n,e){return n(e)}))),Ai),Mi())}function Mi(){var n=o((function(n,e,t,r){return Oi(a(Oe,e?vi(r(t)):r(t),n))}));return a(Yi,g,(function(e){return hi(m([a(ci,a(ci,a(ci,a(si,a(si,zo(n(e)),ri(rt(x(" ")))),Go(".")),hi(m([a(Ii,rr(!0),Go("!")),zo(!1)]))),ki),hi(m([a(ci,a(si,zo(Sr),Go(">")),a(Ii,(function(n){return function(e){return u(_i,e,$e,n)}}),Si)),a(ci,a(si,zo(Sr),Go("<")),a(Ii,(function(n){return function(e){return u(_i,e,Le,n)}}),Si)),a(ci,a(si,zo(Sr),Go("=")),hi(m([a(Ii,(function(n){return function(e){return u(_i,e,Ae,n)}}),Si),a(Ii,(function(){return function(n){return a(gi,n,a(pi,"$",g))}}),Go("$")),a(Ii,(function(n){return function(e){return a(gi,e,a(pi,n,g))}}),wi),a(ci,a(si,zo(Sr),Go("(")),a(si,a(Ii,(function(n){return function(e){return a(gi,e,n)}}),Bi()),Go(")")))]))),zo((function(n){return yi(n)}))]))),zo(Li(e))]))}))}try{var Pi=Bi();Bi=function(){return Pi};var xi=Mi();Mi=function(){return xi}}catch(n){throw"Some top-level definitions from `Rules.Parser` are causing infinite recursion:\n\n  ┌─────┐\n  │    matcherParser\n  │     ↓\n  │    queriesParser\n  └─────┘\n\nThese errors are very tricky, so read https://elm-lang.org/0.19.0/halting-problem to learn how to fix it!"}var Di,Hi,Fi,Wi,ji,Gi,Ui=(Di={$:"ExpectingEnd"},xo((function(n){return L(n.src.length,n.offset)?u(Po,!1,B,n):a(Mo,!1,a(Wo,n,Di))}))),Ji=r((function(n,e,t){return{col:e,problem:t,row:n}})),Ki=function(n){return u(Ji,n.row,n.col,n.problem)},zi=t((function(n,e){n:for(;;)switch(n.$){case"Empty":return e;case"AddRight":var t=n.b;n=n.a,e=a(Oe,t,e);continue n;default:var r=n.b;n=n.a,e=a(zi,r,e);continue n}})),qi=t((function(n,e){var t=(0,n.a)({col:1,context:g,indent:1,offset:0,row:1,src:e});return"Good"===t.$?bt(t.b):pt(a(zi,t.b,g))})),Vi=t((function(n,e){var t=a(qi,n,e);return"Ok"===t.$?bt(t.a):pt(a(Nr,Ki,t.a))})),Xi=function(n){return a(Vi,a(si,Pi,Ui),n)},Qi=t((function(n,e){return"Ok"===e.$?bt(n(e.a)):pt(e.a)})),Zi=t((function(n,e){return r=a(Nr,n,e),u(nt,t((function(n,e){return"Ok"===n.$?a(Qi,Oe(n.a),e):pt(n.a)})),bt(g),r);var r})),na=r((function(n,e,t){for(;;){var r=a(Ze,32,n),o=r.a,i=r.b;if(0>C(lt(o),32))return a(ft,!0,{nodeList:e,nodeListSize:t,tail:o});n=i,e=a(Oe,Qe(o),e),t+=1}})),ea=4294967295>>>32-qe,ta=h,ra=r((function(n,e,t){for(;;){var r=a(ta,ea&e>>>n,t);if("SubTree"!==r.$)return a(ta,ea&e,r.a);n-=qe,e=e,t=r.a}})),oa=t((function(n,e){var t=e.a,r=e.b,o=e.c,i=e.d;return 0>n||C(n,t)>-1?xe:C(n,function(n){return n>>>5<<5}(t))>-1?Pe(a(ta,ea&n,i)):Pe(u(ra,r,n,o))})),ia=t((function(n,e){return 0>C(n,e)?n:e})),aa=function(n){return n.trim()},ua=function(n){var e=n.a;return xo((function(n){var t=e(n);return"Bad"===t.$?a(Mo,!1,t.b):u(Po,!1,t.b,t.c)}))},sa=Pn,ca=o((function(n,e,t,r){return a(Do,Fo,s(Ho,n,e,t,r))})),la=function(n){return xo((function(e){return(0,n(B).a)(e)}))},fa=function(n){var e=hi(m([a(ci,a(si,zo(Sr),Vo),hi(m([ua(function(n){var e=function(e){return!Xt(a(po,e,n.worldModel))};return a(Zo,(function(t){var r,o,i=t.a,s=t.b,c=t.c;return"Ok"===(r=a(Qi,ao(a(Se,bi(n.trigger),e)),a(Zi,Xi,a(Nr,aa,a(Bt,"&",i))))).$?(o=r.a?s:c,xo((function(n){return u(Po,!0,o,n)}))):Ko(Ei(r.a))}),a(ci,a(ci,a(ci,zo(r((function(n,e,t){return P(n,e,t)}))),a(si,a(Zo,qo,ai(function(n){var e=n.a,t=n.b;return xo((function(n){var r=c(sa,e,n.offset,n.row,n.col,n.src),o=r.a,i=r.b,l=r.c;return L(o,-1)?a(Mo,!1,s(ca,i,l,t,n.context)):u(Po,0>C(n.offset,o),B,{col:l,context:n.context,indent:n.indent,offset:o,row:i,src:n.src})}))}(a(Yo,"?",{$:"Expecting",a:"?"})))),Go("?"))),la((function(){return fa(n)}))),hi(m([a(ci,a(si,zo(Sr),Uo),a(si,la((function(){return fa(n)})),Jo)),a(Ii,rr(""),Jo)]))))}(n)),ua(function(n){var e=a(Nr,(function(n){var e,t=n.a;return a(si,zo(n.b),function(n){var e=n.a,t=n.b,r=!Bo(e);return xo((function(n){var o=c(jo,e,n.offset,n.row,n.col,n.src),i=o.a,s=o.b,l=o.c;return L(i,-1)||u(ni,(function(n){return kt(n)||L(n,x("_"))}),i,n.src)>=0?a(Mo,!1,a(Wo,n,t)):u(Po,r,B,{col:l,context:n.context,indent:n.indent,offset:i,row:s,src:n.src})}))}(a(Yo,e=t,{$:"ExpectingKeyword",a:e})))}),Ye(n.propKeywords));return a(Zo,Xo,a(ci,a(ci,zo(t((function(e,t){return t(u(Qo,"$",n.trigger,e))}))),a(si,a(Zo,qo,ai(ri((function(n){return!a(Rr,n,m([x("{"),x("."),x("|"),x("}")]))})))),Go("."))),a(si,hi(e),Jo)))}(n)),ua(function(n){return a(Ii,(function(e){return a(Tr,"ERROR finding correct cycling text",a(oa,a(ia,It(e)-1,n.cycleIndex),(t=e).b?u(na,t,g,0):Xe));var t}),a(Yi,g,(function(e){return hi(m([a(Ii,rr(Oi(a(Oe,"",e))),Uo),a(Ii,rr(Li(et(a(Oe,"",e)))),Jo),a(ci,a(ci,zo(t((function(n,e){return e(n)}))),la((function(){return fa(n)}))),hi(m([a(Ii,rr((function(n){return Oi(a(Oe,n,e))})),Uo),a(Ii,rr((function(n){return Li(et(a(Oe,n,e)))})),Jo)])))]))})))}(n))]))),di])),o=t((function(n,e){return Oi(H(n,e))}));return a(ci,zo(Sr),a(Yi,"",(function(n){return hi(m([a(Ii,o(n),e),zo(Li(n))]))})))},ha=v,da=t((function(n,e){return u(Or,t((function(e,t){return n(e)?a(Oe,e,t):t})),g,e)})),ga=t((function(n,e){var t=a(si,fa(n),Ui),r=a(Vi,t,e);if("Ok"===r.$){var o=r.a;return a(da,a(io,a(io,Vt,Bo),aa),a(Bt,"---",o))}return m(["ERROR could not parse: "+e+"\n(see console for specific error)"])})),pa=Vr,ba=u(pa,"SECURITY_DEPOT","\nEND OF DEMO!  Thank you for playing.\n",u(pa,"findingSecurityDepotClosed","\nIt's closed. Of course it's closed! The one time I need the subway security and they're off doing God knows what.\n---\nWhat am I going to do? Everything was in that Briefcase.  My wallet, my reports, and worst of all my proposal! The key to finally turning my life around. Without it I may as well just walk in front of the next train.\n---\nI followed the rules. I pay my taxes on time. I make sure to do everything right. And people can still just up and break the law and nobody does a thing about it. Shitty people run rampant while people like me are left to suffer.\n---\nMr. Harris is going to kill me. What the hell am I going to do?\n---\nEND OF DEMO!  Thank you for playing.\n",u(pa,"panic","\nWhy is this happening to me?!  I always follow the rules.  I work hard.  But I get walked over all my life.  And now some crook is going to make me miss my presentation and my promotion!  It's just not fair.\n---\nI'm going to have to take matters into my own hands.  Maybe I can find the thief and arrest him or something.\n---\nThis is a bad idea.\n\nI better just report this to the authorities somewhere.\n",u(pa,"ignoreGuardsAdvice","\nIf those guards at Metro Center can't help me, what are the chances that any of the other guards will be any better? Maybe I can find the thief on my own and make a citizens arrest. Or something.\n---\nThis is a bad idea.\n",u(pa,"followGuardsAdvice",'\n{"Some one at the Security Depot better be able to help me. I have to get my proposal back!"|}\n',u(pa,"SECURITY_OFFICERS",'\n"Have a nice day sir."\n',u(pa,"tellCommuter1AboutStolenBriefcase",'\n{COMMUTER_1.friendliness>0?\n{"Did you see a man run by with my briefcase I was carrying? He just robbed me."\n---\n"Oh my God, that\'s terrible! I think I saw someone with a briefcase like yours head for the trains. But it\'s hard to tell, there\'s so many of you business types with similar briefcases."\n\n"Oh man, I\'ve got to get it back somehow.  I\'m so screwed."\n\n"I hope you find it!"\n|\n"Did you find it yet?"\n}\n|\n{"Pardon me, miss! Did you see a man run through here with a briefcase?"\n\n"Um, yes? There\'s a lot of those around."\n---\n"No, he was a thief! He took my briefcase!"\n\n"Sorry, sir. I can\'t help you."\n---\nUseless!\n|\nShe\'s no help.\n}\n}\n',u(pa,"tellOfficersAboutStolenBriefcase",'\n{\n"Help! Help! I\'ve been robbed! Some crook just took my briefcase!"\n\n"I\'m sorry, but the exit is closed sir--"\n---\n"I don\'t care about that! My presentation is gone!  I need you to do something!"\n\n"Please calm down, sir. We need people to clear this station. Please take any concerns you have to the Security Depot at Spring Hill Station. We apologize for any inconvenience and hope you have a nice day."\n---\n"But I can\'t go to work with out it. My life will be over!"\n\n"Have a nice day, sir."\n---\nThey aren\'t even listening to me.  Why aren\'t they helping me?\n\nI guess I can check out the Security Depot.  Maybe they\'ll actually do something.\n|\n"Have a nice day sir."\n}\n',u(pa,"briefcaseStolen","\nJeez!  Someone just ran into me.\n\n\"Ow! Hey! Watch where you're going!\"\n---\nWait. Where's my briefcase?\n---\nNo. No no no no no no no no no. No.\n---\nI've been robbed... My presentation... It's gone!  I... I need to get help. Now.\n",u(pa,"noticeGirlInYellow","\nI can't help noticing this girl.  There's something about her, like she doesn't belong.  Her dress is the brightest thing down here.  She sticks out like a dandelion growing through the cracks in the sidewalk.\n---\nThe crowd closes around her for a second, blocking my view.  I wait for a minute, but she seems to have disappeared.\n---\nI only saw her for a split second.  Did I imagine her?\n",u(pa,"askCommuter1AboutDelay","\n{COMMUTER_1.friendliness>0?\n{It's that woman I saw on Monday.\n\n\"Excuse me, miss? What's going on? Why isn't anyone moving?\"\n\n\"Oh, Hi! Those security guards locked the gates. They're not budging. All they'll say is that there is some incident above ground and they're not letting anyone through.\"\n---\n\"But I can't stay here. I have to get to work.  I have an important presentation today.\"\n\n\"I know.  If I'm late one more time I'm bound to get fired.  I've got to figure out some other way out of here.\"\n|\nLooks like she's just as stuck as I am.\n}\n|\n{\"Excuse me, miss?\"\n|\nShe's ignoring me. The nerve of some people.}\n}\n",u(pa,"askOfficersAboutDelay",'\n{\nOh good, some officers are here.  I can find out what the hold up is.\n\n"Excuse me, officers? I--"\n\nThey cut me off mid sentence.\n---\n"This exit is closed sir. There\'s an incident going on above ground and we\'re not letting anyone through \'till we get the all clear. You will have to wait like all the others."\n---\n"But I work up there! I\'m going to be late if I don\'t--"\n\nAgain they cut me off.\n|}\n"If you are unable to wait, take the train to the next stop and walk from there."\n\n"But I--"\n\n"Have a nice day sir."\n',u(pa,"leavingBroadwayStationPrematurely","\nThis is my stop, where else would I need to go?\n",u(pa,"ANGRY_CROWD","\n{BRIEFCASE.location=PLAYER?\n{What's going on over here? No one seems to be moving and everyone seems pretty angry.\n\nSome people are shouting about the doors being locked.\n---\n|}\nI can't seem to push my way through all these angry people.  Now what?\n|\n{They haven't budged.  Apparently no one saw me get robbed.  Or they just don't care.\n---\nThe mob seems to be getting angrier. I hope they open those doors soon or this could get ugly.}\n}\n",u(pa,"MUSICIAN","\nHe's playing an old cracked violin with a hat out in front of him for spare change.\n\nThe music sounds nice, but I wouldn't call that a real job.\n",u(pa,"EXIT","\n{ANGRY_CROWD.location=BROADWAY_STREET? There's a big crowd of people blocking my view, but it looks like the exits have their shutters down.  What the hell is going on here?|It's still locked.}\n",u(pa,"delaysAtBroadwayStreetStation",'\nEverything\'s fine. It was just a little detour, I\'ve still got time. At least I\'m wide awake now.\n---\nThe loud speaker buzzes.\n\n"Attention passengers, due to some unforeseen events you may experience delays at Broadway Street Station.  Thank you for your understanding and have a nice day."\n---\nWhat? What do they mean "delays?"\n',u(pa,"notGoingToWorkAgain","\nI've got to get to Broadway Street Station.  Any more wrong stops and I'm really going to be late.\n",u(pa,"getMap","\n{It's a map of the whole subway.{BRIEFCASE.location=PLAYER?   It's only 6:15. If I leave here now I should be able to make it to work on time.}\n---\nThere's also little map pamphlets here as well.  I'll take one with me just in case. Don't want to get lost again!\n\n(check MAP by pressing \"M\")\n|}\n",u(pa,"MAINTENANCE_MAN","\n{\"Excuse me, sir! How can I get to Broadway Street Station as quickly as possible?\"\n---\n\"Damn it, can't you see I'm busy?  Go and check the damn map if you're lost. It's that big map looking thing on the wall over there.\"\n---\n\"Uh, okay. Thank you.\"\n|\nHe's busy and I don't want to get yelled at again.\n}\n",Ge)))))))))))))))))))),ma=u(pa,"outOfServiceStations","\nPLEASE NOTICE: Normal service disruption is in effect.\n\n{$.name} Station is temporarily out of service.  Please use alternative options.\n\nThank you and we apologize for the inconvenience.\n",u(pa,"jumpTurnstileFail","{I've never jumped a turnstile in my life, and I'm not about to start now.|I don't want to get caught.|Better to stick to the lines I have passes for.}",u(pa,"ridingTheTrain","",u(pa,"SAFETY_WARNING_POSTER",'\n"ATTENTION: Pickpockets and thieves operate in this area. Report any suspicious behavior to your nearest Security Guard Station"\n{---\nThat\'s just great.  I wish people would just follow the rules.\n|}\n',u(pa,"COFFEE","\n{PLAYER.day=1?  Carl's Coffee has been fueling me for years. Can't imagine surviving a Monday without it.}\n{PLAYER.day=2?  Mmm, that's good coffee.}\n{PLAYER.day=3?  I'm going to need a barrel of this if I'm going to get this proposal done by Friday. What is Mr. Harris thinking?  }\n{PLAYER.day=4?  It tastes bitter.}\n",u(pa,"GRAFFITI","That's just vulgar.  Why do people have to mess things up?",u(pa,"RED_LINE_PASS","This gets me anywhere on the Red Line, but I really only use it to get to work and back home.",u(pa,"notebookInstructions","\n{I have my notebook with me to day to keep track of everything.\n\n(Click the notebook icon or press 'n' to toggle the notebook from now on)\n|}\n",u(pa,"BRIEFCASE","My portable office, all my work is in it.",Ge))))))))),Ea=u(pa,"fallAsleep","\nToday's the day.  I busted my ass, but I think it will work.  I better get my damn promotion.\n\nI just wish I wasn't so tired.\n---\nThree more stops. Maybe I can steal a wink or two before I get to the station. I'll just close my eyes for a minute.\n---\n...\n---\n\"Sir. Sir!\"\n---\nWhoa... what?  What's going on?\n\nA janitor is shaking my shoulder.\n\n\"We're almost at the end of the line, sir. You have to wake up.\"\n---\nEnd of the line?\n\nShit, I feel asleep!  I missed my stop!  What station is this?\n\nOh my God, I'm in so much trouble!  I have to get back to my stop.\n",u(pa,"endThursday","\nI'm so tired.  I've been up all night working on this damn proposal, and there's still a lot more work to be done. I hope Mr. Harris appreciates it.\n",u(pa,"endWednesday","\nThis train is two minutes late again.  This is becoming more and more of a problem lately.  They've got to do something about it.\n---\nI'm not looking forward to talking to Mr. Harris this morning.  This proposal is going to be a disaster.  Figures I get stuck with it.\n---\nBut I've got to make it work.\n",u(pa,"endTuesday","\nIt's going to be tough getting this proposal put together by Friday, but I've got to do it.  I just wish I had more time to make it good.\n---\nAlso, It would be great to see Henry again. I've got to remember to get back to him.  \n",u(pa,"endMonday","\nI'm curious what my boss has in mind for this proposal.  It's nice he thought of me.  Maybe this will finally get me the promotion he's been promising.\n",u(pa,"forcePlayerToReadEmails","\n{I have a few minutes before my train arrives.  I could check my emails while I wait.|It's kind of my routine to reread my emails before heading in.}\n",u(pa,"notGoingToWork","\n { That's not my station. |}I have to go to {the office|work}{ at Broadway Street Station|}.\n ",u(pa,"firstMeetSkaterDude","\nI've seen this young punk before, riding his skateboard up and down the platform.  He almost ran into me once.  The signs clearly say \"No skateboarding allowed.\"\n---\nOh great, now he's jumping the turnstile.  He probably doesn't even have a ticket.  You know, we've got rules for a reason.  When people like him disrespect them, it's the rest of us who have to pay.\n",u(pa,"BENCH_BUM","\n{Some college kid is sprawled out across the whole bench. I wished he'd move. I'd like to just sit down.\n---\n\"Hi there. Could you sit up please? I'd like to sit while I wait for my train.\"\n---\nHe just ignores me.  Maybe he didn't hear me?\n|\n\"Hey!  I'd like to sit down, please.\"\n---\n\"Fuck off... I.. arghhh...\"\n---\nHe must be drunk.  I don't think he's getting up.\n|\nI guess I'm standing.\n}\n",u(pa,"TRASH_DIGGER","\n{\"Spare some change?\"\n---\nI've seen that guy almost every day for years.  He always asks for money.  I used to give him some, but eventually stopped.  I work very hard to make a living.\n|\nHe's still at it.  Wonder what he thinks he'll find.\n}\n",u(pa,"get_caffeinated_plot_3","\nNo thank you.\n",u(pa,"get_caffeinated_plot_achievement","\n_Achievement unlocked:_  \nGet caffeinated\n",u(pa,"get_caffeinated_plot_2","\n{This thing stole my quarters.  I want my soda!\n\nI know it's dumb, but I kick the machine so hard my foot hurts.\n---\nOK, calm down Steve.  The hard part is done, just focus on the getting to work.\n---\nWait, I think I hear something...\n---\nA soda dropped out!  Yes!\n\nUgh, this tastes disgusting.  How long has it been in there?\n}\n",u(pa,"get_caffeinated_plot_1",'\n{The "Out of Order" sign is gone. Maybe it will work?\n\nSince I can\'t get my coffee, I might as well get my caffeine fix from somewhere.\n---\nGreat, the button doesn\'t work and it\'s not giving my change back. Damn.\n|\nThe "Out of Order" sign might be gone, but I know better.\n}\n',u(pa,"sodaMachineFixed",'\nWow, the "Out of Order" sign is gone. Did they actually fix it?\n',u(pa,"sodaMachineBroken","\n{An \"Out of Order\" sign is stuck to the front.  This thing has been broken since I moved here.\n\nNot that I've had a real hankering for a soda, but it's just kind of annoying.\n|\nIt's out of order.\n}\n",u(pa,"SODA_MACHINE","\nI wonder how long the cans have been in that old thing?\n",u(pa,"LOUD_PAYPHONE_LADY",'\n{\n"I\'ve been here for 30 damn minutes!  When the hell are you going to help me out?!"\n---\nShe sure seems upset.\n---\n"HOW THE FUCK ARE YOU GOING TO CALL ME BACK?! I\'M ON A FUCKING PAYPHONE, YOU IDIOT!"\n---\nWow, you\'d think people would try to take care of these matters at home. Yeesh.\n|\nI want to stay very far away from her.\n}\n',u(pa,"COFFEE_CART","\nIt's closed. I hope Carl comes back.\n",u(pa,"coffeeCartFriday","\nHuh, that's strange.  It's closed.  I really need my coffee.  Today of all days!\n",u(pa,"coffeeCartThursday",'\n{Instead of Carl, there\'s some young lady behind the stand, looking at her phone.\n---\n"You\'re not Carl."\n\n"Nope. Was called in last minute. Guess his wife just went into labor or somethin\'. Can I get you anything?"\n\n"Carl\'s married?"\n\n"Guess so,  I don\'t know the guy. You getting something or not?"\n\n"Sure. Coffee. Black."\n\n"Here you go. See ya."\n|I miss Carl.}\n',u(pa,"coffeeCartWednesday",'\n{"Morning Steve.  You alright?"\n\n"Fill it up to the top, Carl. I\'m going to need every last drop today."\n\n"You got it.  Take it easy Steve. Don\'t want to work too hard."\n\n"Easy for you to say, Carl. But I\'ll try. Thanks!"\n|I\'ve got plenty already, and plenty of work to do too.}\n',u(pa,"coffeeCartTuesday",'\n{"The usual for you today, Steve?"\n\n"Yes please."\n\n"Enjoy."\n|"Need anything else?"\n\n"No, I\'m fine."}\n',u(pa,"coffeeCartMonday",'\n{Carl runs the little coffee stand at my local station.  The coffee is decent, and it\'s nice to see his smiling face each morning.\n\n"Morning, Carl! Can I just get the usual?"\n\n"Sure thing, Steve. That\'ll be a buck twenty five."\n\n"Here you go, Carl, exact change. Thanks. Have a good one."\n|"See you tomorrow."|"See you tomorrow."|"Don\'t miss your train."}\n',u(pa,"checkEmails","\n{There's no service, but I can view my emails.\n---\n|}\n{PLAYER.day=1?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Sunday, 4:00 pm\n    Subject: I've Got a Job for You\n\n    Steve,\n    Just got word that some very important clients are coming in in the next few weeks.\n    The boys up stairs want me to put together a new proposal to bring to them. \n    Steve, you're one of our senior agents and you've been in the department for, what, 6 years?\n    I need you to work on this and really make it shine.\n    Be at my office at 6:30 am Monday and we can talk over the details.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply -\n\n    From: Steve Perkins\n    To: Jason Harris\n    Sent: Sunday, 4:01 pm\n    Subject: RE: I've Got a Job for You\n    \n    Dear Mr. Harris,\n    I've actually been with the company for eight years, but no need to worry, sir. I'm happy for the \n    opportunity. I've got a few big ideas that I've been wanting to try out.\n    I'll be there bright and early, sir.\n    \n    Steve Perkins\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Janice Franz\n    To: Steve Perkins\n    Sent: Monday, 6:05am\n    Subject: Job Opportunity\n    \n    Hi Mr. Steve Perkins\n\n    My name is Janis and I'm reaching out on behalf of Embrace Insurance. I came across your resume\n    in our system and I believe you would make a perfect fit for our team here at Embrace Insurance.\n    If you're looking for a job change or would just simply like to see what your options are we would\n    love to set up a meeting with you and see what your future could hold.\n\n    We look forward to your response!\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n{PLAYER.day=2?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Monday, 6:26pm\n    Subject: Good Things!\n\n    Steve,\n\n    I like a few of the ideas that you brought to me this morning.  But I just got word that our clients are\n    pushing up the meeting and will be here on Friday! You're going to have to put this thing in high gear, Steve.\n    I can't hand them half assed work.\n\n    Don't let me down.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply-\n\n    From: Steve Perkins\n    To: Jason Harris\n    Sent: Monday, 6:32pm\n    Subject: RE: Good Things!\n\n    Dear Mr. Harris,\n\n    Thank you for the update.  I'll do my best, but Friday is a little soon isn't it? I just want to be able to\n    put together something that will really help our customers.  I'll have to cut a lot of the ideas we spoke about.\n    But I'll do my best, sir.\n\n    See you tomorrow, Mr. Harris\n\n    Steve Perkins\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Henry Thorne\n    To: Steve Perkins\n    Sent: Monday, 8:25pm\n    Subject: Stevey!\n\n    Hey Steve!\n\n    How's it going? Long time no talk! Just checking in with you and letting you know I'm going to be\n    in the city in a few days. It's supposed to be a business trip and it's just for a day, but I\n    thought it's be nice to drop by and see how things were and maybe grab a few drinks somewhere.\n    I know things have been difficult since we last talked. Just let me know when you're free and I'll\n    make something work.\n\n    See you soon!\n\n    Henry\n\n}\n{PLAYER.day=3?\n\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Tuesday, 4:48pm\n    Subject: No good\n\n    Steve,\n\n    What you handed me today WON'T work. The Premiums we offer will NOT cover these plans. Half of these\n    seem like life quality expenses. We need to think about the bottom dollar here, Steve. \"Pet Insurance\n    Plan\", \"Kidnap/Ransom Insurance\", \"Divorce Insurance\"? These benefits not only expose us to\n    unwarranted risk of loss, but also far out weigh our customers premiums. You've got to do better than\n    this, Steve. We're two two days from the proposal meeting. Do NOT fuck this up.\n\n    Put something better together tonight and get it to me in the morning. You're running out of time.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply- (unsent)\n\n    From: Steve Perkins\n    To: Jason Harris\n    Sent: Tuesday, 5:00pm\n    Subject: RE: No good\n\n    Dear Mr. Harris,\n\n    Sir, I have to disagree. I feel that these plans are essential for our customers. If you'd just\n    look over the papers I sent you about the\n}\n{PLAYER.day=4?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Wednesday, 4:27pm\n    Subject: (Subject)\n\n    Steve, our clients are going to be here tomorrow whether you're ready or not. You're going to need\n    to push harder. I don't care what you have to do to put this thing together, just get it done.\n\n    Bring me what you have in the morning.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Henry Thorne\n    To: Steve Perkins\n    Sent: Thursday, 5:45am\n    Subject: Today?\n\n    Hey Steve,\n    I'm in the city today and I haven't heard back from you. I'm sure you're busy, but it would \n    really be nice to see you while I'm down. My plane leaves tomorrow, so today is probably it. You \n    can call me at my old number if you get this in time and we can plan something out. It hasn't \n    changed.\n\n    Hope to talk to you soon.\n}\n{PLAYER.day=5?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Friday, 6:00am\n    Subject: where the hell are you?\n\n    I want to run through the presentation once before the clients are here.\n    Get your ass down here right away.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Janice Franz\n    To: Steve Perkins\n    Sent: Friday, 6:09am\n    Subject: RE: Job Opportunity\n\n    Hi Steve!\n\n    Hope you're having a great day!  I didn't hear back from you.  I just wanted to reach out to you\n    one more time to set up a quick chat.  How's Tuesday morning next week?  Let me know either\n    way.  I'm excited to talk to you!\n\n    Have a wonderful weekend.\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n",u(pa,"firstInteractionWithCommuter1","\n{Another commuter waiting on the train.  I say hello and she says hello back.\n|I think one hello is enough when talking to complete strangers.}\n",Ge)))))))))))))))))))))))))),_a=u(pa,"checkMap","",u(pa,"goToLinePlatform","",u(pa,"goToLineTurnstile","",u(pa,"goToLobby","",Ge)))),ya=u(nt,t((function(n,e){return u(fo,Vr,e,n)})),Ge,m([_a,ma,Ea,ba])),va=function(n){return a(Tr,"ERROR: can't find content for key "+n,a(De,n,ya))},Ra=t((function(n,e){return"Just"===e.$?bt(e.a):pt(n)})),Ta=o((function(n,e,r,o){var i,s=function(n){return"$"===n?r:n},c=(i=m([M("name",a(Se,s,(function(e){return a(Qi,(function(n){return n.name}),a(Ra,"Unable to find entity for id: "+e,a(De,e,n.worldModel)))}))),M("description",a(Se,s,a(Se,va,bt)))]),u(nt,t((function(n,e){return u(Vr,n.a,n.b,e)})),Ge,i)),l=u(Io,e,(function(n){return Pe(a(Tr,1,a(uo,at(1),n)))}),n.ruleMatchCounts);return M(a(ga,{cycleIndex:a(Tr,0,a(De,e,n.ruleMatchCounts)),propKeywords:c,trigger:r,worldModel:n.worldModel},o),l)})),wa=r((function(n,e,t){return!Xt(a(po,a(bi,n,t),e))})),Sa=r((function(n,e,t){return"Match"===(r=a(bi,e,t)).$?L(r.a,e)&&!Xt(a(po,r,n)):!Xt(a(po,a(pi,e,r.a),n));var r})),ka=function(n){var e=n.trigger,r=n.conditions,o=function(n){return It("Match"===n.$?n.b:n.a)},i="Match"===e.$?100+o(e):0+o(e);return u(nt,t((function(n,e){return"Match"===n.$?10+o(n)+e:0+o(n)+e})),0,r)+i},Ia=function(n){return n.b?Pe(n.a):xe},Aa=y,La=function(n){return n.b},Oa=r((function(n,e,r){return Ia(et(a(Aa,a(Se,La,ka),Ye(a(ho,t((function(e,t){return u(Sa,r,n,t.trigger)&&a(ao,a(wa,n,r),t.conditions)})),e)))))})),Na=t((function(n,e){return{$:"DecStat",a:n,b:e}})),$a=t((function(n,e){return{$:"IncStat",a:n,b:e}})),Ca=t((function(n,e){return{$:"SetLink",a:n,b:e}})),Ya=t((function(n,e){return{$:"SetStat",a:n,b:e}})),Ba=(Hi=r((function(n,e,t){return Oi(a(Oe,t(e),n))})),a(Yi,g,(function(n){return hi(m([a(ci,a(si,a(si,zo(Sr),ri(rt(x(" ")))),Go(".")),hi(m([a(ci,a(si,zo((function(e){return Oi(a(Oe,{$:"RemoveTag",a:e},n))})),Go("-")),ki),a(ci,a(ci,zo(Hi(n)),ki),hi(m([a(ci,a(si,zo(Sr),Go("+")),a(Ii,(function(n){return function(e){return a($a,e,n)}}),Si)),a(ci,a(si,zo(Sr),Go("-")),a(Ii,(function(n){return function(e){return a(Na,e,n)}}),Si)),a(ci,a(si,zo(Sr),Go("=")),hi(m([a(Ii,(function(n){return function(e){return a(Ya,e,n)}}),Si),a(Ii,(function(){return function(n){return a(Ca,n,"$")}}),Go("$")),a(Ii,(function(n){return function(e){return a(Ca,e,n)}}),wi)]))),zo((function(n){return{$:"AddTag",a:n}}))])))]))),zo(Li(n))]))}))),Ma=t((function(n,e){return{$:"Update",a:n,b:e}})),Pa=t((function(n,e){return{$:"UpdateAll",a:n,b:e}})),xa=hi(m([a(Ii,rr(Ma("$")),Go("$")),a(Ii,Ma,wi),a(ci,a(si,a(si,zo(Sr),Go("(")),Go("*")),a(si,a(Ii,(function(n){return Pa(n)}),xi),Go(")")))])),Da=a(ci,a(ci,zo(t((function(n,e){return n(e)}))),xa),Ba),Ha=function(n){return a(Vi,a(si,Da,Ui),n)},Fa=o((function(n,e,t,r){if("Err"===e.$)return pt(e.a);var o=e.a;if("Err"===t.$)return pt(t.a);var i=t.a;return"Err"===r.$?pt(r.a):bt(u(n,o,i,r.a))})),Wa=t((function(n,e){return M(n,e)})),ja=H(g,m([a(Wa,"getMap",{changes:m(["MAP.location=PLAYER"]),conditions:m(["MAP.!location=PLAYER"]),trigger:"MAP_POSTER"}),a(Wa,"delaysAtBroadwayStreetStation",{changes:m(["PLAYER.location=BROADWAY_STREET.destination=xxx","BROADWAY_STREET.out_of_service","COMMUTER_1.location=BROADWAY_STREET"]),conditions:m(["PLAYER.destination=BROADWAY_STREET.chapter=1"]),trigger:"BROADWAY_STREET"}),a(Wa,"notGoingToWorkAgain",{changes:g,conditions:m(["PLAYER.destination=BROADWAY_STREET.chapter=1"]),trigger:"*.station"}),a(Wa,"leavingBroadwayStationPrematurely",{changes:g,conditions:m(["PLAYER.location=BROADWAY_STREET","BROADWAY_STREET.leaving_broadway_street_station_plot<1"]),trigger:"*.line"}),a(Wa,"askOfficersAboutDelay",{changes:m(["BROADWAY_STREET.leaving_broadway_street_station_plot=1","PLAYER.present_proposal+1"]),conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot<2"]),trigger:"SECURITY_OFFICERS"}),a(Wa,"askCommuter1AboutDelay",{changes:g,conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot<2","PLAYER.chapter=1"]),trigger:"COMMUTER_1"}),a(Wa,"noticeGirlInYellow",{changes:m(["PLAYER.who_was_girl_in_yellow=1","GIRL_IN_YELLOW.location=offscreen"]),conditions:m(["PLAYER.chapter=1"]),trigger:"GIRL_IN_YELLOW"}),a(Wa,"briefcaseStolen",{changes:m(["BRIEFCASE.location=THIEF","BROADWAY_STREET.leaving_broadway_street_station_plot=2","GIRL_IN_YELLOW.location=offscreen","PLAYER.find_briefcase=1.present_proposal+1"]),conditions:m(["PLAYER.chapter=1","BROADWAY_STREET.leaving_broadway_street_station_plot=1"]),trigger:"*.line"}),a(Wa,"tellOfficersAboutStolenBriefcase",{changes:m(["BROADWAY_STREET.leaving_broadway_street_station_plot=3"]),conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot=2"]),trigger:"SECURITY_OFFICERS"}),a(Wa,"tellCommuter1AboutStolenBriefcase",{changes:g,conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot>1"]),trigger:"COMMUTER_1"}),a(Wa,"followGuardsAdvice",{changes:m(["PLAYER.location=SPRING_HILL","BROADWAY_STREET.leaving_broadway_street_station_plot=4"]),conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot=3","PLAYER.chapter=1"]),trigger:"SPRING_HILL"}),a(Wa,"ignoreGuardsAdvice",{changes:m(["PLAYER.location=$","BROADWAY_STREET.leaving_broadway_street_station_plot=4"]),conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot=3","PLAYER.chapter=1"]),trigger:"*.station"}),a(Wa,"panic",{changes:m(["PLAYER.location=$","BROADWAY_STREET.leaving_broadway_street_station_plot=4"]),conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot=2","PLAYER.chapter=1"]),trigger:"*.station"}),a(Wa,"findingSecurityDepotClosed",{changes:m(["BROADWAY_STREET.leaving_broadway_street_station_plot=5"]),conditions:m(["BROADWAY_STREET.leaving_broadway_street_station_plot<5","PLAYER.chapter=1"]),trigger:"SECURITY_DEPOT"})])),Ga=H(g,m([a(Wa,"ridingTheTrain",{changes:m(["PLAYER.location=$"]),conditions:g,trigger:"*.station"}),a(Wa,"outOfServiceStations",{changes:g,conditions:g,trigger:"*.station.out_of_service"}),a(Wa,"goToLobby",{changes:m(["PLAYER.-at_turnstile"]),conditions:g,trigger:"LOBBY"}),a(Wa,"goToLineTurnstile",{changes:m(["PLAYER.line=$","PLAYER.at_turnstile"]),conditions:m(["PLAYER.!at_turnstile"]),trigger:"*.line"}),a(Wa,"goToLinePlatform",{changes:m(["PLAYER.-at_turnstile"]),conditions:m(["PLAYER.at_turnstile","*.valid_on=$.location=PLAYER"]),trigger:"*.line"}),a(Wa,"jumpTurnstileFail",{changes:m(["PLAYER.-at_turnstile"]),conditions:g,trigger:"*.line"}),a(Wa,"checkMap",{changes:g,conditions:g,trigger:"*.map"}),a(Wa,"notebookInstructions",{changes:m(["NOTEBOOK.-new.silent"]),conditions:g,trigger:"NOTEBOOK.new"})])),Ua=H(g,m([a(Wa,"notGoingToWork",{changes:g,conditions:m(["PLAYER.destination=BROADWAY_STREET.chapter=0"]),trigger:"*.station"}),a(Wa,"checkEmails",{changes:m(["CELL_PHONE.-unread"]),conditions:g,trigger:"CELL_PHONE"}),a(Wa,"forcePlayerToReadEmails",{changes:g,conditions:m(["CELL_PHONE.unread","PLAYER.chapter=0"]),trigger:"*.line"}),a(Wa,"coffeeCartMonday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=1"]),trigger:"COFFEE_CART"}),a(Wa,"coffeeCartTuesday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=2"]),trigger:"COFFEE_CART"}),a(Wa,"coffeeCartWednesday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=3"]),trigger:"COFFEE_CART"}),a(Wa,"coffeeCartThursday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=4"]),trigger:"COFFEE_CART"}),a(Wa,"coffeeCartFriday",{changes:m(["SODA_MACHINE.get_caffeinated_plot=1"]),conditions:m(["PLAYER.day=5.chapter=0","SODA_MACHINE.get_caffeinated_plot<1"]),trigger:"COFFEE_CART"}),a(Wa,"sodaMachineBroken",{changes:g,conditions:g,trigger:"SODA_MACHINE.broken"}),a(Wa,"sodaMachineFixed",{changes:g,conditions:m(["PLAYER.chapter=0"]),trigger:"SODA_MACHINE.!broken"}),a(Wa,"get_caffeinated_plot_1",{changes:m(["$.get_caffeinated_plot+1"]),conditions:m(["PLAYER.chapter=0"]),trigger:"SODA_MACHINE.!broken.get_caffeinated_plot=1"}),a(Wa,"get_caffeinated_plot_2",{changes:m(["$.get_caffeinated_plot+1","PLAYER.persistent+1"]),conditions:m(["PLAYER.chapter=0"]),trigger:"SODA_MACHINE.!broken.get_caffeinated_plot=2"}),a(Wa,"get_caffeinated_plot_3",{changes:g,conditions:m(["PLAYER.chapter=0"]),trigger:"SODA_MACHINE.!broken.get_caffeinated_plot=3"}),a(Wa,"firstMeetSkaterDude",{changes:m(["$.location=offscreen"]),conditions:m(["PLAYER.chapter=0"]),trigger:"SKATER_DUDE"}),a(Wa,"firstInteractionWithCommuter1",{changes:m(["COMMUTER_1.friendliness=1"]),conditions:m(["PLAYER.chapter=0"]),trigger:"COMMUTER_1"}),a(Wa,"endMonday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","COMMUTER_1.location=offscreen","LOUD_PAYPHONE_LADY.location=offscreen","TRASH_DIGGER.location=WEST_MULBERRY"]),conditions:m(["PLAYER.day=1"]),trigger:"BROADWAY_STREET"}),a(Wa,"endTuesday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","TRASH_DIGGER.location=offscreen","SKATER_DUDE.location=WEST_MULBERRY"]),conditions:m(["PLAYER.day=2"]),trigger:"BROADWAY_STREET"}),a(Wa,"endWednesday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","SKATER_DUDE.location=offscreen","TRASH_DIGGER.location=WEST_MULBERRY","BENCH_BUM.location=WEST_MULBERRY"]),conditions:m(["PLAYER.day=3"]),trigger:"BROADWAY_STREET"}),a(Wa,"endThursday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1.present_proposal=1","CELL_PHONE.unread","COFFEE.location=offscreen","TRASH_DIGGER.location=offscreen","BENCH_BUM.location=offscreen","SODA_MACHINE.-broken","NOTEBOOK.location=PLAYER"]),conditions:m(["PLAYER.day=4"]),trigger:"BROADWAY_STREET"}),a(Wa,"fallAsleep",{changes:m(["PLAYER.location=TWIN_BROOKS.chapter+1.present_proposal+1","COFFEE.location=offscreen"]),conditions:m(["PLAYER.day=5.chapter=0"]),trigger:"BROADWAY_STREET"})])),Ja=t((function(n,e){var t=e.b;return M(n(e.a),t)})),Ka=u(nt,t((function(n,e){var t=n.a,o=n.b,i=function(){var n=o.trigger,e=o.conditions,t=o.changes;return s(Fa,r((function(n,e,t){return{changes:t,conditions:e,trigger:n}})),Xi(n),a(Zi,Xi,e),a(Zi,Ha,t))}();if("Ok"===i.$)return a(Ja,a(Vr,t,i.a),e);var u,c,l=i.a;return a(Wr,Oe(M("Rule: "+t+" "+(c=(u=o).changes,u.trigger+" | "+a(Yt,", ",u.conditions)+" | "+a(Yt,", ",c)+" "),l)),e)})),M(Ge,g),H(Ua,H(Ga,ja))),za=Ka.a,qa=t((function(n,e){return t="Ok"===(o=Xi(r=n)).$?o.a:a(ha,"ERROR parsing matcher:"+r+"\n"+Ei(o.a),a(pi,"PARSING_ERROR",g)),a(po,t,e);var t,r,o})),Va=t((function(n,e){return!Xt(a(qa,n,e))})),Xa=t((function(n,e){var t=u(Oa,n,za,e.worldModel);if("Nothing"===t.$){var r=a(uo,(function(e){return D(e,{lastInteraction:n,lastMatchedRule:n})}),e.debug),o=a(Va,n+".silent",e.worldModel)?M(g,e.ruleMatchCounts):s(Ta,e,n,n,va(n)),i=o.a,c=o.b;return a(jr,Fr(n),M(D(e,{debug:r,ruleMatchCounts:c,story:i}),Wt))}var l=t.a,f=l.a,h=l.b,d=(r=a(uo,(function(e){return D(e,{lastInteraction:n,lastMatchedRule:f})}),e.debug),s(Ta,e,f,n,va(f)));return c=d.b,a(jr,Xt(i=d.a)?Oo:Co,M(D(e,{debug:r,pendingChanges:Pe(P(n,h.changes,f)),ruleMatchCounts:c,story:i}),Wt))})),Qa=t((function(n,e){n:for(;;){if(n>0){if(e.b){n-=1,e=e.b;continue n}return e}return e}})),Za=t((function(n,e){if(e.gameOver)return Co(e);switch(n.$){case"NoOp":return Co(e);case"Loaded":return M(D(e,{loaded:!0}),Wt);case"LoadScene":var r=n.a,o=r.a,i=r.b;return a(jr,(function(n){return M(D(n,{scene:cr,showMap:!1,showNotebook:!1,showSelectScene:!1,story:g}),Wt)}),u(nt,t((function(n,e){return a(jr,Oo,a(jr,Za(Jt(n)),e))})),M(o,Wt),i));case"Interact":var s=n.a;return a(jr,(function(n){return M(n,"Train"!==(e=M(n.scene,n.story)).a.$||e.b.b?Wt:a($o,2e3,Ut));var e}),a(jr,Xa(s),M(D(e,{history:a(ha,"history\n",H(e.history,m([s])))}),Wt)));case"Delay":var c=n.a;return M(e,a(Hr,rr(n.b),wr(c)));case"ToggleNotebook":return M(a(Va,"NOTEBOOK.!new",e.worldModel)?D(e,{showNotebook:!e.showNotebook}):e,Wt);case"ToggleMap":return M(a(Va,"MAP.location=PLAYER",e.worldModel)?D(e,{showMap:!e.showMap}):e,Wt);case"Go":return M(D(e,{scene:n.a}),Wt);case"BoardTrain":var l=n.b;return M(D(e,{scene:lr({line:n.a,status:sr})}),a($o,800,Jt(l)));case"Continue":return It(e.story)>1?M(D(e,{story:a(Qa,1,e.story)}),Wt):a(jr,(function(n){var e=n.scene;return"Train"===e.$?M(D(n,{scene:lr(a(No,ar,e.a))}),a($o,900,ur)):M(n,Wt)}),a(jr,Oo,M(D(e,{story:g}),Wt)));case"Achievement":return M(D(e,{story:m([va(n.a)])}),Wt);case"Disembark":return M(D(e,{scene:cr}),Wt);default:var f=n.a;return M(D(e,{debug:a(uo,(function(n){return D(n,{debugSearchWorldModelText:f})}),e.debug)}),Wt)}})),nu=function(n){return{$:"DebugSeachWorldModel",a:n}},eu=q,tu=V,ru=function(n){return n.toLowerCase()},ou=tn,iu=function(n){return{$:0,a:n}},au=function(n){switch(n.$){case"Normal":return 0;case"MayStopPropagation":return 1;case"MayPreventDefault":return 2;default:return 3}},uu=Wn("div"),su=Wn("input"),cu=Wn("li"),lu=Wn("span"),fu=Hn,hu=Wn("ul"),du=dn,gu=t((function(n,e){return a(Jn,n,du(e))})),pu=gu("placeholder"),bu=Un,mu=gu("value"),Eu=function(n){return M(n,!0)},_u=Gn,yu=t((function(n,e){return a(_u,n,{$:"MayStopPropagation",a:e})})),vu=nn,Ru=a(t((function(n,e){return u(Or,vu,e,n)})),m(["target","value"]),Zt),Tu=t((function(n,e){var r,o=t((function(n,e){return a(eu,ru(n),ru(e))})),i=a(Nr,(function(n){var e=n.a,t=n.b.tags,r=n.b.stats,o=n.b.links;return a(Yt,".",a(da,a(io,Vt,Bo),a(Nr,Yt("."),m([m([e]),Be(t),a(Nr,(function(n){return a(Yt,"=",m([n.a,Ct(n.b)]))}),Ye(r)),a(Nr,(function(n){return a(Yt,"=",m([n.a,n.b]))}),Ye(o))]))))}),Ye(n)),u=Bo(e.debugSearchWorldModelText)?g:a(Aa,(function(n){return a(tu,ru(e.debugSearchWorldModelText),ru(n))?-1:0}),a(da,o(e.debugSearchWorldModelText),i)),s=function(n){return M(n,!0)};return a(uu,m([a(bu,"color","yellow"),a(bu,"background","black"),a(bu,"opacity","0.9"),a(bu,"lineHeight","1.5em"),a(bu,"zIndex","99"),a(bu,"position","absolute")]),m([fu("Debug mode"),a(su,m([(r=nu,a(yu,"input",a(ou,Eu,a(ou,r,Ru)))),function(n){return a(yu,"keydown",a(ou,s,a(ou,n,Ru)))}(rr(Kt)),mu(e.debugSearchWorldModelText),pu("Search world model"),a(bu,"margin","0 10px")]),g),a(lu,g,m([fu("Last triggered rule: "+e.lastInteraction+" - "+e.lastMatchedRule)])),a(hu,m([a(bu,"borderTop","1px solid #333")]),a(Nr,(function(n){return a(cu,g,m([fu(n)]))}),u))]))})),wu={$:"CentralGuardOffice"},Su=Wn("img"),ku=gu("className"),Iu=function(n){return a(gu,"src",/^\s*(javascript:|data:text\/html)/i.test(e=n)?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':e);var e},Au=t((function(n,e){return a(_u,n,{$:"Normal",a:e})})),Lu=function(n){return a(Au,"click",iu(n))},Ou=a(uu,m([Lu(zt),ku("map")]),m([a(Su,m([ku("map__image"),Iu("img/subway-map-full.jpg")]),g)])),Nu=m([P("who_was_girl_in_yellow","Who was that girl in yellow?",g)]),$u=m([P("present_proposal","Present proposal",m(["Get to work by 6:30am","Get to work by 6:45am","Get to work by 7:00am",""])),P("find_briefcase","Find stolen briefcase!",m(["Report it stolen?","Talk to Mark @ Spring Hill?","Broom closet @ 73rd"]))]),Cu=r((function(n,e,t){n:for(;;){if(n>0){if(e.b){var r=e.a;n-=1,e=e.b,t=a(Oe,r,t);continue n}return t}return t}})),Yu=t((function(n,e){return et(u(Cu,n,e,g))})),Bu=r((function(n,e,t){if(e>0){var r=M(e,t);n:for(;;){e:for(;;){if(!r.b.b)return t;if(!r.b.b.b){if(1===r.a)break n;break e}switch(r.a){case 1:break n;case 2:var o=r.b;return m([o.a,o.b.a]);case 3:if(r.b.b.b.b){var i=r.b,s=i.b;return m([i.a,s.a,s.b.a])}break e;default:if(r.b.b.b.b&&r.b.b.b.b.b){var c=r.b,l=c.b,f=l.b,h=f.b,d=h.b;return a(Oe,c.a,a(Oe,l.a,a(Oe,f.a,a(Oe,h.a,n>1e3?a(Yu,e-4,d):u(Bu,n+1,e-4,d)))))}break e}}return t}return m([r.b.a])}return g})),Mu=t((function(n,e){return u(Bu,0,n,e)})),Pu=Wn("h3"),xu=function(n){return jn(function(n){return"script"==n?"p":n}(n))},Du=function(n){return"Just"===n.$},Hu=pe({defaultHighlighting:xe,githubFlavored:Pe({breaks:!1,tables:!1}),sanitize:!0,smartypants:!1}),Fu=Wn("h1"),Wu=function(n){switch(n.$){case"Red":return{id:"RED_LINE",name:"Red Line",number:1,stations:m(["WEST_MULBERRY","EAST_MULBERRY","CHURCH_STREET","BROADWAY_STREET","CONVENTION_CENTER","SPRING_HILL","TWIN_BROOKS"])};case"Yellow":return{id:"YELLOW_LINE",name:"Yellow Line",number:2,stations:m(["RIVERSIDE","ST_MARKS","BROADWAY_STREET","CONVENTION_CENTER","CAPITOL_HEIGHTS","MACARTHURS_PARK"])};case"Green":return{id:"GREEN_LINE",name:"Green Line",number:3,stations:m(["BURLINGTON","SAMUAL_STREET","CAPITOL_HEIGHTS","CONVENTION_CENTER"])};case"Orange":return{id:"ORANGE_LINE",name:"Orange Line",number:4,stations:m(["IRIS_LAKE","NORWOOD","ST_MARKS","UNIVERSITY","SPRING_HILL","CAPITOL_HEIGHTS","SEVENTY_THIRD_STREET","ONE_HUNDRED_FOURTH_STREET"])};case"Blue":return{id:"BLUE_LINE",name:"Blue Line",number:5,stations:m(["ONE_HUNDRED_FOURTH_STREET","SEVENTY_THIRD_STREET","FOURTY_SECOND_STREET","MUSEUM","BROADWAY_STREET","ST_MARKS","PARK_AVE","WESTGATE"])};default:return{id:"PURPLE_LINE",name:"Purple Line",number:6,stations:m(["HIGHLAND","FAIRVIEW","EAST_MULBERRY","CHURCH_STREET","MUSEUM","CONVENTION_CENTER","UNIVERSITY","WALTER_HILL"])}}},ju=a(Nr,(function(n){return M(n,Wu(n).stations)}),m([mr,gr,Er,pr,dr,br])),Gu=Wn("a"),Uu=Wn("h2"),Ju=Wn("p"),Ku=function(n){return a(gu,"href",/^javascript:/i.test((e=n).replace(/\s/g,""))?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':e);var e},zu=t((function(n,e){return u(nt,t((function(n,t){var r=n.a;return a(Rr,e,n.b)?a(Oe,r,t):t})),g,n)})),qu=function(n){var e=Wu(n);return a(uu,m([ku("Connection "+e.id),Lu(Jt(e.id))]),m([fu(Ct(e.number))]))},Vu=t((function(n,e){return a(uu,m([ku("Connections")]),a(Nr,qu,a(Aa,a(Se,Wu,(function(n){return n.number})),a(zu,n,e))))})),Xu=r((function(n,e,t){var r=a(Tr,"ERRORR getting station: "+t,a(uo,(function(n){return n.name+" Station"}),a(De,t,e))),o=a(qa,"*.item.location="+t,e),i=a(qa,"*.item.location=PLAYER",e),u=a(uu,m([ku("Sign Sign--inventory")]),m([a(uu,m([ku("Sign__header2")]),m([fu("Inventory")])),a(uu,m([ku("Inventory")]),a(Nr,(function(n){var e=n.a;return a(Su,m([Iu("img/icons/"+ru(e)+".svg"),ku("Inventory__item"),Lu(Jt(e))]),g)}),i))])),s=a(qa,"*.character.location="+t,e),c=a(uu,m([ku("Sign Sign--station")]),m([a(uu,m([ku("Sign__header1")]),m([fu(r)])),a(uu,m([ku("Sign__split")]),m([a(uu,m([ku("Sign__left")]),m([a(Vu,n,t)])),a(uu,m([ku("Sign__right")]),a(Nr,a(Se,Wr((function(n){return n.name})),(function(n){var e=n.a,t=n.b;return a(uu,m([ku("Sign__item Sign__item--interactable"),Lu(Jt(e))]),m([fu(t)]))})),H(s,o)))]))]));return a(uu,m([ku("Scene Lobby")]),m([a(uu,m([ku("Lobby__scene")]),m([c,u]))]))})),Qu=t((function(n,e){return{$:"BoardTrain",a:n,b:e}})),Zu=$,ns=function(n){return ku(a(Yt," ",a(Nr,ot,a(da,La,n))))},es=o((function(n,e,r,o){var i,s=u(hr,"PLAYER","destination",o),c=Wu(r),l=a(uu,m([ku("Line_map__info")]),m([qu(r),fu(c.name)])),f=t((function(t,i){return a(uu,m([ku("Stop"),Lu(L(i,e)?Kt:function(n){return a(Va,n+".out_of_service",o)}(i)?Jt(i):L(s,xe)?a(Qu,r,i):L(s,Pe(i))?a(Qu,r,i):Jt(i))]),m([a(uu,m([ku("Stop__connections")]),a(Nr,qu,a(da,Zu(t),function(e){return a(Aa,a(Se,Wu,(function(n){return n.number})),a(zu,n,e))}(i)))),a(uu,m([ns(m([M("Stop__dot",!0),M(Wu(r).id,!0),M("Stop__dot--current",L(i,e))]))]),g),a(uu,m([ns(m([M("Stop__name",!0),M("Stop__name--current",L(i,e))]))]),m([fu(function(n){return a(Tr,"ERRORR getting station: "+e,a(uo,(function(n){return n.name+" Station"}),a(De,n,o)))}(i))]))]))}));return a(uu,m([ku("Scene Platform")]),m([(i=Jt("LOBBY"),a(uu,m([ku("Exit"),Lu(i)]),m([a(uu,m([ku("Arrow")]),m([fu(" ")])),a(uu,m([ku("Exit__text")]),m([fu("Exit")]))]))),a(uu,m([ku("Line_map")]),m([l,a(uu,m([ku("Line_map__stops")]),H(m([a(uu,m([ku("Line_map__line "+c.id)]),g)]),a(Nr,f(r),c.stations)))]))]))})),ts=t((function(n,e){var t=Wu(e),r=!Xt(a(qa,"*.valid_on="+t.id+".location=PLAYER",n));return a(uu,m([ku("Scene Turnstile")]),m([a(uu,m([ku("Turnstile__dialog")]),m(r?[a(uu,m([ku("Turnstile__status")]),m([a(Su,m([ku("Turnstile__icon"),Iu("img/icons/enter.svg")]),g),a(uu,m([ku("Turnstile__status_text")]),m([fu("Please proceed")]))])),a(uu,m([ku("Turnstile__buttons")]),m([a(uu,m([ku("Turnstile__button"),Lu(Jt(t.id))]),m([fu("Continue")]))]))]:[a(uu,m([ku("Turnstile__status")]),m([a(Su,m([ku("Turnstile__icon"),Iu("img/icons/no_entry.svg")]),g),a(uu,m([ku("Turnstile__status_text")]),m([fu("Invalid ticket")]))])),a(uu,m([ku("Turnstile__buttons")]),m([a(uu,m([ku("Turnstile__button"),Lu(Jt("LOBBY"))]),m([fu("Go back")])),a(uu,m([ku("Turnstile__button"),Lu(Jt(t.id))]),m([fu("Jump turnstile")]))]))]))]))})),rs=t((function(n,e){return M(e.a,{links:e.b.links,name:n,stats:e.b.stats,tags:e.b.tags})})),os=Ge,is=Ge,as=Xr(Ge),us=ti((function(n){return L(n,x(" "))||L(n,x("\n"))||L(n,x("\r"))})),ss=(Fi=t((function(n,e){return e(n)})),a(Yi,{links:os,stats:is,tags:as},(function(n){return hi(m([a(ci,a(ci,a(si,a(si,zo(Fi),us),Go(".")),ki),hi(m([a(ci,a(si,zo(Sr),Go("=")),hi(m([a(Ii,(function(e){return function(t){return Oi(u(So,t,e,n))}}),wi),a(Ii,(function(e){return function(t){return Oi(u(ko,t,e,n))}}),Si)]))),zo((function(e){return Oi(a(Zr,e,n))}))]))),zo(Li(n))]))}))),cs=a(ci,a(ci,zo(t((function(n,e){return M(n,e)}))),wi),a(si,ss,Ui)),ls=t((function(n,e){return"Ok"===e.$?bt(e.a):pt(n(e.a))})),fs=t((function(n,e){return a(ls,(function(e){return M("Entity def: "+n,e)}),a(Qi,rs(e),a(Vi,cs,n)))})),hs=m([a(fs,"PLAYER.chapter=0.day=1.location=WEST_MULBERRY.destination=BROADWAY_STREET","Steve"),a(fs,"BRIEFCASE.item.location=PLAYER","Briefcase"),a(fs,"RED_LINE_PASS.item.location=PLAYER.valid_on=RED_LINE","Red Line metro pass"),a(fs,"CELL_PHONE.item.location=PLAYER.unread","Cell phone"),a(fs,"MAP.item.map.silent","Subway map"),a(fs,"NOTEBOOK.item.new","I keep track of my daily plans in this."),a(fs,"CENTRAL_GUARD_OFFICE.location","Central Guard Office"),a(fs,"LOBBY.location","Station Lobby"),a(fs,"COFFEE_CART.character.location=WEST_MULBERRY","Coffee cart"),a(fs,"COFFEE.item.location=offscreen","Coffee"),a(fs,"COMMUTER_1.character.location=WEST_MULBERRY","Woman in a maroon jacket"),a(fs,"LOUD_PAYPHONE_LADY.character.location=WEST_MULBERRY","Loud woman on pay phone"),a(fs,"TRASH_DIGGER.character.location=offscreen","Man digging in the trash"),a(fs,"SKATER_DUDE.character.location=offscreen","Skater dude"),a(fs,"GRAFFITI.item.location=WEST_MULBERRY","Graffiti on the wall"),a(fs,"BENCH_BUM.character.location=offscreen","Guy sleeping on a bench"),a(fs,"SODA_MACHINE.item.broken.location=WEST_MULBERRY","Soda vending machine"),a(fs,"SAFETY_WARNING_POSTER.item.location=TWIN_BROOKS","Safety message poster"),a(fs,"MAP_POSTER.item.map.location=TWIN_BROOKS","Map on the wall"),a(fs,"MAINTENANCE_MAN.character.location=TWIN_BROOKS","Maintenance man"),a(fs,"EXIT.item.location=BROADWAY_STREET","Exit"),a(fs,"SECURITY_OFFICERS.character.location=BROADWAY_STREET","Security officers"),a(fs,"ANGRY_CROWD.character.location=BROADWAY_STREET","A large crowd of people"),a(fs,"GIRL_IN_YELLOW.character.location=BROADWAY_STREET","Girl in yellow"),a(fs,"MUSICIAN.character.location=CONVENTION_CENTER","Man playing violin"),a(fs,"SECURITY_DEPOT.item.location=SPRING_HILL","Spring Hill Station Security Depot"),a(fs,"ONE_HUNDRED_FOURTH_STREET.station","104th Street"),a(fs,"FOURTY_SECOND_STREET.station","42nd Street"),a(fs,"SEVENTY_THIRD_STREET.station","73rd Street"),a(fs,"BROADWAY_STREET.station","Broadway Street"),a(fs,"BURLINGTON.station","Burlington"),a(fs,"CAPITOL_HEIGHTS.station","Capitol Heights"),a(fs,"CHURCH_STREET.station","Church Street"),a(fs,"CONVENTION_CENTER.station","Convention Center"),a(fs,"EAST_MULBERRY.station","East Mulberry"),a(fs,"FAIRVIEW.station","Fairview"),a(fs,"HIGHLAND.station","Highland"),a(fs,"IRIS_LAKE.station","Iris Lake"),a(fs,"MACARTHURS_PARK.station","MacArthur's Park"),a(fs,"MUSEUM.station","Museum"),a(fs,"NORWOOD.station","Norwood"),a(fs,"PARK_AVE.station","Park Street"),a(fs,"RIVERSIDE.station","Riverside"),a(fs,"SAMUAL_STREET.station","Samual Street"),a(fs,"SPRING_HILL.station","Spring Hill"),a(fs,"ST_MARKS.station","St. Mark's"),a(fs,"TWIN_BROOKS.station","Twin Brooks"),a(fs,"UNIVERSITY.station","University"),a(fs,"WALTER_HILL.station","Walter Hill"),a(fs,"WESTGATE.station","Westgate"),a(fs,"WEST_MULBERRY.station","West Mulberry"),a(fs,"RED_LINE.line","Red line"),a(fs,"YELLOW_LINE.line","Yellow line"),a(fs,"GREEN_LINE.line","Green line"),a(fs,"ORANGE_LINE.line","Orange line"),a(fs,"BLUE_LINE.line","Blue line"),a(fs,"PURPLE_LINE.line","Purple line")]),ds=u(nt,t((function(n,e){if("Ok"===n.$){var t=n.a;return a(Ja,a(Vr,t.a,t.b),e)}return a(Wr,Oe(n.a),e)})),M(Ge,g),hs),gs=t((function(n,e){var t=a(si,fa(n),Ui);return a(Qi,rr(B),a(Vi,t,e))})),ps={cycleIndex:0,propKeywords:Ge,trigger:"",worldModel:Ge},bs=u(fo,r((function(n,e,t){var r=a(gs,ps,e);return"Err"===r.$?a(Oe,M("Narrative content: "+n+" "+e+" ",r.a),t):t})),g,ya),ms=Ka.b,Es=Re,_s=or(g),ys=t((function(n,e){return"Ok"===e.$?e.a:n})),vs=Wn("code"),Rs=Wn("pre"),Ts=en;!function(e){n.Elm?function n(e,t,r){for(var o in r)o in t?"init"==o?I(6,e):n(e+"."+o,t[o],r[o]):t[o]=r[o]}("Elm",n.Elm,e):n.Elm=e}({Main:{init:(ji=ds.a,Gi=(Wi=H(ds.b,H(ms,bs))).b?pt(Wi):bt(ji),Es({init:function(n){return"Ok"===Gi.$?a(Ja,bt,a(jt,Gi.a,n)):M(pt(Gi.a),Wt)},subscriptions:function(n){return a(ys,_s,a(Qi,ir,n))},update:t((function(n,e){return"Ok"===e.$?a(Ja,bt,a(Za,n,e.a)):M(pt(e.a),Wt)})),view:function(n){if("Ok"===n.$)return{body:m([function(n){return n.loaded?n.showSelectScene?function(n){var e=m(["LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","MAP_POSTER","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","SECURITY_OFFICERS","RED_LINE"]),t=function(t){return M(n,a(Mu,t,e))},r=m(["LOBBY","BRIEFCASE","RED_LINE_PASS","RED_LINE_PASS","RED_LINE","CELL_PHONE","CELL_PHONE","CELL_PHONE","COFFEE_CART","COFFEE","COFFEE_CART","COMMUTER_1","COMMUTER_1","LOUD_PAYPHONE_LADY","COFFEE_CART","LOUD_PAYPHONE_LADY","GRAFFITI","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","RED_LINE_PASS","COFFEE_CART","COFFEE_CART","TRASH_DIGGER","TRASH_DIGGER","GRAFFITI","COFFEE","CELL_PHONE","CELL_PHONE","RED_LINE","RED_LINE","CONVENTION_CENTER","BROADWAY_STREET","LOBBY","RED_LINE","SKATER_DUDE","COFFEE_CART","COFFEE_CART","COFFEE","CELL_PHONE","CELL_PHONE","COFFEE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE","RED_LINE","RED_LINE","CHURCH_STREET","BROADWAY_STREET","LOBBY","CELL_PHONE","COFFEE_CART","RED_LINE","RED_LINE","LOBBY","RED_LINE","RED_LINE","BROADWAY_STREET","MAP_POSTER","MAP","SAFETY_WARNING_POSTER","CONVENTION_CENTER","BROADWAY_STREET","LOBBY","EXIT","ANGRY_CROWD","YELLOW_LINE","RED_LINE","COMMUTER_1","COMMUTER_1","GIRL_IN_YELLOW","NOTEBOOK","SECURITY_OFFICERS","RED_LINE","ANGRY_CROWD","COMMUTER_1","SECURITY_OFFICERS","RED_LINE","RED_LINE","SPRING_HILL","LOBBY","SECURITY_DEPOT"]),o=m([M("Beginning",M(n,g)),M("Tuesday",t(6)),M("Wednesday",t(11)),M("Thursday",t(16)),M("Friday",t(21)),M("Arrive at Twin Brooks",t(26)),M("Briefcase stolen",t(33)),M("(Interact with everything)",M(n,r))]);return a(uu,m([ku("SelectScene")]),m([a(Fu,g,m([fu("Select a scene to jump to:")])),a(hu,g,a(Nr,(function(n){var e,t=n.a;return a(cu,m([Lu((e=n.b,{$:"LoadScene",a:e}))]),m([fu(t)]))}),o))]))}(n):a(uu,g,m([(e=n.debug,"Just"===e.$?a(Tu,n.worldModel,e.a):fu("")),function(n){var e,o,i,c=a(Va,"PLAYER.caught",n.worldModel)?wu:n.scene,l=ju,f=a(Tr,"ERROR getting the current location of player from worldmodel",u(hr,"PLAYER","location",n.worldModel));return u(xu,"div",m([ku("game")]),m([function(){switch(c.$){case"Title":return M("title",(t=c.a,a(uu,m([ku("Scene TitleScene")]),m([a(uu,m([ku("TitleContent")]),m([a(Fu,m([ku("Title")]),m([fu(t)])),a(lu,m([ku("StoryLine__continue"),Lu(Jt("LOBBY"))]),m([fu("Continue...")]))]))]))));case"CentralGuardOffice":return M("centralGuardOffice",a(uu,m([ku("Scene CentralGuardOffice")]),m([a(Uu,m([ku("CentralGuardOffice--top")]),m([fu("Central Guard Office")])),a(Ju,m([ku("CentralGuardOffice--content")]),m([a(Ju,g,m([fu("You are caught! ")])),a(Ju,g,m([fu("End of demo, thanks for playing!")])),a(Ju,g,m([fu("Made on the "),a(Gu,m([Ku("http://elmnarrativeengine.com")]),m([fu("Elm Narrative Engine")]))])),a(Ju,g,m([fu("Contact "),a(Gu,m([Ku("mailto:jeff@elmnarrativeengine.com")]),m([fu("jeff@elmnarrativeengine.com")]))]))]))])));case"Lobby":return M("lobby",u(Xu,l,n.worldModel,f));case"Platform":return M("platform",s(es,l,f,e=c.a,n.worldModel));case"Turnstile":return M("turnstile",a(ts,n.worldModel,e=c.a));default:var e=c.a.line;return M("train",(o=(r={arrivingAtStation:L(c.a.status,ar)?Pe(f):xe,line:e,worldModel:n.worldModel}).arrivingAtStation,i=r.worldModel,h=a(Tr,Wu(r.line).name,a(uo,(function(n){return"Arriving at: "+function(n){return a(Tr,"ERRORR getting station: "+n,a(uo,(function(n){return n.name+" Station"}),a(De,n,i)))}(n)}),o)),d=a(uu,m([ku("train__ticker")]),m([a(uu,m([ku("train__info")]),m([fu(h)]))])),m([ku("train__foreground")]),m([a(uu,m([ku("train__top")]),m([a(uu,m([ku("train__ticker")]),m([a(uu,m([ku("train__info")]),m([fu(h)]))]))])),a(uu,m([ku("train__doors")]),m([a(uu,m([ku("train__door train__door--left")]),g),a(uu,m([ku("train__door train__door--right")]),g)]))]),m([ku("train__background")]),a(uu,m([ku("Scene train")]),m([d]))))}var t,r,o,i,h,d}(),M("story",(e=a(Tr,"",Ia(n.story)),Bo(e)?fu(""):(o=e,u(xu,"div",m([ku("StoryLine")]),m([M(o,a(uu,m([ku("StoryLine__content")]),m([a(Hu,g,o),a(lu,m([ku("StoryLine__continue"),Lu(Ut)]),m([fu("Continue...")]))])))]))))),M("notebook",n.showNotebook?(i=n.worldModel,a(uu,m([Lu(qt)]),m([function(n){var e=r((function(n,e,t){return a(cu,m([ku("Notebook__item")]),m([a(uu,m([ku("Notebook__subheading")]),m([fu(n)])),a(hu,m([ku("Notebook__sublist")]),a(Nr,(function(n){return a(cu,m([ku("Notebook__subitem")]),m([fu(n)]))}),a(Mu,t,e)))]))})),o=function(r){return a(hu,m([ku("Notebook__content")]),et(u(nt,t((function(t,r){var o=t.b,i=t.c,s=u(Fe,"PLAYER",t.a,n);if("Just"===s.$){var c=s.a;return c>0?a(Oe,u(e,o,i,c),r):r}return r})),g,r)))};return a(uu,m([ku("Notebook")]),m([a(uu,m([ku("Notebook__page")]),m([a(Pu,m([ku("Notebook__header")]),m([fu("Goals:")])),o($u)])),a(uu,m([ku("Notebook__page")]),m([a(Pu,m([ku("Notebook__header")]),m([fu("Distractions:")])),o(Nu)]))]))}(i)]))):fu("")),M("map",n.showMap?Ou:fu(""))]))}(n)])):a(uu,m([ku("Loading")]),m([fu("Loading...")]));var e}(n.a)]),title:"Subway!"};var e=n.a;return{body:m([a(uu,m([a(bu,"background","black"),a(bu,"color","red"),a(bu,"padding","4em"),a(bu,"display","flex"),a(bu,"flex-direction","column"),a(bu,"align-items","center"),a(bu,"justify-content","center")]),m([a(Fu,g,m([fu("Errors when parsing!  Please fix:")])),a(hu,m([a(bu,"width","100%")]),a(Nr,(function(n){var e=n.a,t=n.b;return a(cu,m([a(bu,"margin-bottom","2em")]),m([fu(Ei(t)),a(Rs,m([a(bu,"background","white"),a(bu,"padding","1em"),a(bu,"color","black"),a(bu,"overflow"," auto"),a(bu,"width","100%")]),m([a(vs,g,m([fu(e)]))]))]))}),e))]))]),title:"Errors found"}}}))(a(Ts,(function(n){return iu({debug:n})}),a(vu,"debug",er)))(0)}})}(this)},function(n,e,t){var r={"./gurad-office.jpg":13,"./icons/briefcase.svg":14,"./icons/cell_phone.svg":15,"./icons/coffee.svg":16,"./icons/enter.svg":17,"./icons/map.svg":18,"./icons/no_entry.svg":19,"./icons/notebook.svg":20,"./icons/red_line_pass.svg":21,"./map-red-yellow-green.jpg":22,"./notebook.jpg":23,"./riding-train.jpg":24,"./subway-lobby.jpg":25,"./subway-map-full.jpg":26,"./subway-turnstile.jpg":27,"./train.jpg":28};function o(n){var e=i(n);return t(e)}function i(n){if(!t.o(r,n)){var e=Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}o.keys=function(){return Object.keys(r)},o.resolve=i,n.exports=o,o.id=12},function(n){n.exports="../../img/gurad-office.jpg"},function(n){n.exports="../../fonts/briefcase.svg"},function(n){n.exports="../../fonts/cell_phone.svg"},function(n){n.exports="../../fonts/coffee.svg"},function(n){n.exports="../../fonts/enter.svg"},function(n){n.exports="../../fonts/map.svg"},function(n){n.exports="../../fonts/no_entry.svg"},function(n){n.exports="../../fonts/notebook.svg"},function(n){n.exports="../../fonts/red_line_pass.svg"},function(n){n.exports="../../img/map-red-yellow-green.jpg"},function(n){n.exports="../../img/notebook.jpg"},function(n){n.exports="../../img/riding-train.jpg"},function(n){n.exports="../../img/subway-lobby.jpg"},function(n){n.exports="../../img/subway-map-full.jpg"},function(n){n.exports="../../img/subway-turnstile.jpg"},function(n){n.exports="../../img/train.jpg"}]);