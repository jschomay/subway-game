!function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(r,i,function(e){return n[e]}.bind(null,i));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){t(1),t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10);const{Elm:r}=t(11),i="/debug"===location.pathname,o=r.Main.init({node:document.getElementById("main"),flags:{selectScene:i}});var a=t(12).keys();a.length||c(),a.map((function(n){var e=new Image;return e.src="img/"+n,e.onload=s,console.log("loading",e.src),e}));var u=0;function s(){++u===a.length&&c()}function c(){o.ports.loaded.send(!0),console.log("loaded")}document.addEventListener("keydown",(function(n){o.ports.keyPress.send(n.key)," "!=n.key&&"Backspace"!==n.key||n.preventDefault()}))},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){!function(n){"use strict";function e(n,e,t){return t.a=n,t.f=e,t}function t(n){return e(2,n,(function(e){return function(t){return n(e,t)}}))}function r(n){return e(3,n,(function(e){return function(t){return function(r){return n(e,t,r)}}}))}function i(n){return e(4,n,(function(e){return function(t){return function(r){return function(i){return n(e,t,r,i)}}}}))}function o(n){return e(5,n,(function(e){return function(t){return function(r){return function(i){return function(o){return n(e,t,r,i,o)}}}}}))}function a(n,e,t){return 2===n.a?n.f(e,t):n(e)(t)}function u(n,e,t,r){return 3===n.a?n.f(e,t,r):n(e)(t)(r)}function s(n,e,t,r,i){return 4===n.a?n.f(e,t,r,i):n(e)(t)(r)(i)}function c(n,e,t,r,i,o){return 5===n.a?n.f(e,t,r,i,o):n(e)(t)(r)(i)(o)}console.warn("Compiled in DEV mode. Follow the advice at https://elm-lang.org/0.19.0/optimize for better performance and smaller assets.");var f=r((function(n,e,t){for(var r=Array(n),i=0;n>i;i++)r[i]=t(e+i);return r})),l=t((function(n,e){for(var t=Array(n),r=0;n>r&&e.b;r++)t[r]=e.a,e=e.b;return t.length=r,F(t,e)})),d=t((function(n,e){return e[n]})),h=r((function(n,e,t){for(var r=t.length-1;r>=0;r--)e=a(n,t[r],e);return e})),g={$:"[]"};function p(n,e){return{$:"::",a:n,b:e}}var b=t(p);function v(n){for(var e=g,t=n.length;t--;)e=p(n[t],e);return e}function m(n){for(var e=[];n.b;n=n.b)e.push(n.a);return e}var y=r((function(n,e,t){for(var r=[];e.b&&t.b;e=e.b,t=t.b)r.push(a(n,e.a,t.a));return v(r)})),_=t((function(n,e){return v(m(e).sort((function(e,t){return O(n(e),n(t))})))})),E=t((function(n,e){return console.log(n+": "+w(e)),e}));function w(n){return function n(e,t){if("function"==typeof t)return S(e,"<function>");if("boolean"==typeof t)return R(e,t?"True":"False");if("number"==typeof t)return function(n,e){return n?"[95m"+e+"[0m":e}(e,t+"");if(t instanceof String)return function(n,e){return n?"[92m"+e+"[0m":e}(e,"'"+$(t,!0)+"'");if("string"==typeof t)return function(n,e){return n?"[93m"+e+"[0m":e}(e,'"'+$(t,!1)+'"');if("object"==typeof t&&"$"in t){var r=t.$;if("number"==typeof r)return S(e,"<internals>");if("#"===r[0]){var i=[];for(var o in t)"$"!==o&&i.push(n(e,t[o]));return"("+i.join(",")+")"}if("Set_elm_builtin"===r)return R(e,"Set")+k(e,".fromList")+" "+n(e,Ne(t));if("RBNode_elm_builtin"===r||"RBEmpty_elm_builtin"===r)return R(e,"Dict")+k(e,".fromList")+" "+n(e,Oe(t));if("Array_elm_builtin"===r)return R(e,"Array")+k(e,".fromList")+" "+n(e,Ce(t));if("::"===r||"[]"===r){for(i="[",t.b&&(i+=n(e,t.a),t=t.b);t.b;t=t.b)i+=","+n(e,t.a);return i+"]"}for(var a in i="",t)if("$"!==a){var u=n(e,t[a]),s=u[0];i+=" "+("{"===s||"("===s||"["===s||"<"===s||'"'===s||0>u.indexOf(" ")?u:"("+u+")")}return R(e,r)+i}if("object"==typeof t){for(var c in i=[],t){var f="_"===c[0]?c.slice(1):c;i.push(k(e,f)+" = "+n(e,t[c]))}return 0===i.length?"{}":"{ "+i.join(", ")+" }"}return S(e,"<internals>")}(!1,n)}function $(n,e){var t=n.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?t.replace(/\'/g,"\\'"):t.replace(/\"/g,'\\"')}function R(n,e){return n?"[96m"+e+"[0m":e}function k(n,e){return n?"[37m"+e+"[0m":e}function S(n,e){return n?"[94m"+e+"[0m":e}function T(n,e,t,r,i){switch(n){case 0:throw Error('What node should I take over? In JavaScript I need something like:\n\n    Elm.Main.init({\n        node: document.getElementById("elm-node")\n    })\n\nYou need to do this with any Browser.sandbox or Browser.element program.');case 1:throw Error("Browser.application programs cannot handle URLs like this:\n\n    "+document.location.href+"\n\nWhat is the root? The root of your file system? Try looking at this program with `elm reactor` or some other server.");case 2:throw Error("Problem with the flags given to your Elm program on initialization.\n\n"+e);case 3:throw Error("There can only be one port named `"+e+"`, but your program has multiple.");case 4:throw Error("Trying to send an unexpected type of value through port `"+e+"`:\n"+t);case 5:throw Error('Trying to use `(==)` on functions.\nThere is no way to know if functions are "the same" in the Elm sense.\nRead more about this at https://package.elm-lang.org/packages/elm/core/latest/Basics#== which describes why it is this way and what the better version will look like.');case 6:throw Error("Your page is loading multiple Elm scripts with a module named "+e+". Maybe a duplicate script is getting loaded accidentally? If not, rename one of them so I know which is which!");case 8:var o=r;throw Error("TODO in module `"+e+"` "+L(t)+"\n\n"+o);case 9:var a=r;throw o=i,Error("TODO in module `"+e+"` from the `case` expression "+L(t)+"\n\nIt received the following value:\n\n    "+w(a).replace("\n","\n    ")+"\n\nBut the branch that handles it says:\n\n    "+o.replace("\n","\n    "));case 10:throw Error("Bug in https://github.com/elm/virtual-dom/issues");case 11:throw Error("Cannot perform mod 0. Division by zero error.")}}function L(n){return n.start.line===n.end.line?"on line "+n.start.line:"on lines "+n.start.line+" through "+n.end.line}function x(n,e){for(var t,r=[],i=C(n,e,0,r);i&&(t=r.pop());i=C(t.a,t.b,0,r));return i}function C(n,e,t,r){if(t>100)return r.push(F(n,e)),!0;if(n===e)return!0;if("object"!=typeof n||null===n||null===e)return"function"==typeof n&&T(5),!1;for(var i in"Set_elm_builtin"===n.$&&(n=Ne(n),e=Ne(e)),"RBNode_elm_builtin"!==n.$&&"RBEmpty_elm_builtin"!==n.$||(n=Oe(n),e=Oe(e)),n)if(!C(n[i],e[i],t+1,r))return!1;return!0}var A=t(x),I=t((function(n,e){return!x(n,e)}));function O(n,e,t){if("object"!=typeof n)return n===e?0:e>n?-1:1;if(n instanceof String){var r=n.valueOf(),i=e.valueOf();return r===i?0:i>r?-1:1}if("#"===n.$[0])return(t=O(n.a,e.a))?t:(t=O(n.b,e.b))?t:O(n.c,e.c);for(;n.b&&e.b&&!(t=O(n.a,e.a));n=n.b,e=e.b);return t||(n.b?1:e.b?-1:0)}var N=t((function(n,e){var t=O(n,e);return 0>t?Le:t?Ae:Te})),M={$:"#0"};function F(n,e){return{$:"#2",a:n,b:e}}function P(n,e,t){return{$:"#3",a:n,b:e,c:t}}function B(n){return new String(n)}function j(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function Y(n,e){if("string"==typeof n)return n+e;if(!n.b)return e;var t=p(n.a,e);n=n.b;for(var r=t;n.b;n=n.b)r=r.b=p(n.a,e);return t}var D=t((function(n,e){return n+e})),H=Math.ceil,G=Math.floor,W=Math.log,J=o((function(n,e,t,r,i){for(var o=n.length,a=i.length>=e+o,u=0;a&&o>u;){var s=i.charCodeAt(e);a=n[u++]===i[e++]&&(10===s?(t++,r=1):(r++,55296==(63488&s)?n[u++]===i[e++]:1))}return P(a?e:-1,t,r)})),q=r((function(n,e,t){return t.length>e?55296==(63488&t.charCodeAt(e))?n(B(t.substr(e,2)))?e+2:-1:n(B(t[e]))?"\n"===t[e]?-2:e+1:-1:-1})),z=o((function(n,e,t,r,i){for(var o=i.indexOf(n,e),a=0>o?i.length:o+n.length;a>e;){var u=i.charCodeAt(e++);10===u?(r=1,t++):(r++,55296==(63488&u)&&e++)}return P(o,t,r)})),K=t((function(n,e){return e.split(n)})),U=t((function(n,e){return e.join(n)})),Q=r((function(n,e,t){return t.slice(n,e)})),V=t((function(n,e){for(var t=e.length;t--;){var r=e[t],i=e.charCodeAt(t);if(56320>i||i>57343||(r=e[--t]+r),!n(B(r)))return!1}return!0}));function X(n){return{$:2,b:n}}X((function(n){return"number"!=typeof n?cn("an INT",n):n>-2147483647&&2147483647>n&&(0|n)===n?br(n):!isFinite(n)||n%1?cn("an INT",n):br(n)}));var Z=X((function(n){return"boolean"==typeof n?br(n):cn("a BOOL",n)})),nn=(X((function(n){return"number"==typeof n?br(n):cn("a FLOAT",n)})),X((function(n){return br(hn(n))})),X((function(n){return"string"==typeof n?br(n):n instanceof String?br(n+""):cn("a STRING",n)}))),en=t((function(n,e){return{$:6,d:n,b:e}})),tn=t((function(n,e){return{$:10,b:e,h:n}})),rn=t((function(n,e){return on(n,gn(e))}));function on(n,e){switch(n.$){case 2:return n.b(e);case 5:return null===e?br(n.c):cn("null",e);case 3:return un(e)?an(n.b,e,v):cn("a LIST",e);case 4:return un(e)?an(n.b,e,sn):cn("an ARRAY",e);case 6:var t=n.d;if("object"!=typeof e||null===e||!(t in e))return cn("an OBJECT with a field named `"+t+"`",e);var r=on(n.b,e[t]);return Lo(r)?r:pr(a(Oo,t,r.a));case 7:var i=n.e;return un(e)?e.length>i?(r=on(n.b,e[i]),Lo(r)?r:pr(a(No,i,r.a))):cn("a LONGER array. Need index "+i+" but only see "+e.length+" entries",e):cn("an ARRAY",e);case 8:if("object"!=typeof e||null===e||un(e))return cn("an OBJECT",e);var o=g;for(var u in e)if(e.hasOwnProperty(u)){if(r=on(n.b,e[u]),!Lo(r))return pr(a(Oo,u,r.a));o=p(F(u,r.a),o)}return br(lr(o));case 9:for(var s=n.f,c=n.g,f=0;c.length>f;f++){if(r=on(c[f],e),!Lo(r))return r;s=s(r.a)}return br(s);case 10:return r=on(n.b,e),Lo(r)?on(n.h(r.a),e):r;case 11:for(var l=g,d=n.g;d.b;d=d.b){if(r=on(d.a,e),Lo(r))return r;l=p(r.a,l)}return pr(Mo(lr(l)));case 1:return pr(a(Io,n.a,hn(e)));case 0:return br(n.a)}}function an(n,e,t){for(var r=e.length,i=Array(r),o=0;r>o;o++){var u=on(n,e[o]);if(!Lo(u))return pr(a(No,o,u.a));i[o]=u.a}return br(t(i))}function un(n){return Array.isArray(n)||"function"==typeof FileList&&n instanceof FileList}function sn(n){return a(Ao,n.length,(function(e){return n[e]}))}function cn(n,e){return pr(a(Io,"Expecting "+n,hn(e)))}function fn(n,e){if(n===e)return!0;if(n.$!==e.$)return!1;switch(n.$){case 0:case 1:return n.a===e.a;case 2:return n.b===e.b;case 5:return n.c===e.c;case 3:case 4:case 8:return fn(n.b,e.b);case 6:return n.d===e.d&&fn(n.b,e.b);case 7:return n.e===e.e&&fn(n.b,e.b);case 9:return n.f===e.f&&ln(n.g,e.g);case 10:return n.h===e.h&&fn(n.b,e.b);case 11:return ln(n.g,e.g)}}function ln(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;t>r;r++)if(!fn(n[r],e[r]))return!1;return!0}var dn=t((function(n,e){return JSON.stringify(gn(e),null,n)+""}));function hn(n){return{$:0,a:n}}function gn(n){return n.a}function pn(n){return{$:0,a:n}}function bn(n){return{$:2,b:n,c:null}}hn(null);var vn=t((function(n,e){return{$:3,b:n,d:e}})),mn=0;function yn(n){var e={$:0,e:mn++,f:n,g:null,h:[]};return wn(e),e}var _n=!1,En=[];function wn(n){if(En.push(n),!_n){for(_n=!0;n=En.shift();)$n(n);_n=!1}}function $n(n){for(;n.f;){var e=n.f.$;if(0===e||1===e){for(;n.g&&n.g.$!==e;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===e)return void(n.f.c=n.f.b((function(e){n.f=e,wn(n)})));if(5===e){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===e?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}var Rn={};function kn(n,e){var t={g:e,h:void 0},r=n.c,i=n.d,o=n.e,c=n.f;return t.h=yn(a(vn,(function n(e){return a(vn,n,{$:5,b:function(n){var a=n.a;return 0===n.$?u(i,t,a,e):o&&c?s(r,t,a.i,a.j,e):u(r,t,o?a.i:a.j,e)}})}),n.b))}var Sn=t((function(n,e){return bn((function(t){n.g(e),t(pn(M))}))}));function Tn(n){return function(e){return{$:1,k:n,l:e}}}function Ln(n){return{$:2,m:n}}function xn(n,e,t){var r,i={};for(var o in Cn(!0,e,i,null),Cn(!1,t,i,null),n)(r=n[o]).h.push({$:"fx",a:i[o]||{i:g,j:g}}),wn(r)}function Cn(n,e,t,r){switch(e.$){case 1:var i=e.k,o=function(n,t,r){return a(n?Rn[t].e:Rn[t].f,(function(n){for(var e=r;e;e=e.q)n=e.p(n);return n}),e.l)}(n,i,r);return void(t[i]=function(n,e,t){return t=t||{i:g,j:g},n?t.i=p(e,t.i):t.j=p(e,t.j),t}(n,o,t[i]));case 2:for(var u=e.m;u.b;u=u.b)Cn(n,u.a,t,r);return;case 3:return void Cn(n,e.o,t,{p:e.n,q:r})}}function An(n,e){return function(n){Rn[n]&&T(3,n)}(n),Rn[n]={f:On,r:e,a:Nn},Tn(n)}var In,On=t((function(n,e){return function(t){return n(e(t))}}));function Nn(n,e){var t=g,i=Rn[n].r,o=pn(null);return Rn[n].b=o,Rn[n].c=r((function(n,e){return t=e,o})),{send:function(r){var o=a(rn,i,hn(r));Lo(o)||T(4,n,o.a);for(var u=o.a,s=t;s.b;s=s.b)e(s.a(u))}}}var Mn="undefined"!=typeof document?document:{};function Fn(n,e){n.appendChild(e)}function Pn(n){return{$:0,a:n}}var Bn,jn=t((function(n,e){return t((function(t,r){for(var i=[],o=0;r.b;r=r.b){var a=r.a;o+=a.b||0,i.push(a)}return o+=i.length,{$:1,c:e,d:Wn(t),e:i,f:n,b:o}}))}))(void 0),Yn=t((function(n,e){return t((function(t,r){for(var i=[],o=0;r.b;r=r.b){var a=r.a;o+=a.b.b||0,i.push(a)}return o+=i.length,{$:2,c:e,d:Wn(t),e:i,f:n,b:o}}))}))(void 0),Dn=t((function(n,e){return{$:"a0",n:n,o:e}})),Hn=t((function(n,e){return{$:"a2",n:n,o:e}})),Gn=t((function(n,e){return{$:"a3",n:n,o:e}}));function Wn(n){for(var e={};n.b;n=n.b){var t=n.a,r=t.$,i=t.n,o=t.o;if("a2"!==r){var a=e[r]||(e[r]={});"a3"===r&&"class"===i?Jn(a,i,o):a[i]=o}else"className"===i?Jn(e,i,gn(o)):e[i]=gn(o)}return e}function Jn(n,e,t){var r=n[e];n[e]=r?r+" "+t:t}function qn(n,e){var t=n.$;if(5===t)return qn(n.k||(n.k=n.m()),e);if(0===t)return Mn.createTextNode(n.a);if(4===t){for(var r=n.k,i=n.j;4===r.$;)"object"!=typeof i?i=[i,r.j]:i.push(r.j),r=r.k;var o={j:i,p:e};return(a=qn(r,o)).elm_event_node_ref=o,a}if(3===t)return zn(a=n.h(n.g),e,n.d),a;var a=n.f?Mn.createElementNS(n.f,n.c):Mn.createElement(n.c);In&&"a"==n.c&&a.addEventListener("click",In(a)),zn(a,e,n.d);for(var u=n.e,s=0;u.length>s;s++)Fn(a,qn(1===t?u[s]:u[s].b,e));return a}function zn(n,e,t){for(var r in t){var i=t[r];"a1"===r?Kn(n,i):"a0"===r?Vn(n,e,i):"a3"===r?Un(n,i):"a4"===r?Qn(n,i):("value"!==r||"checked"!==r||n[r]!==i)&&(n[r]=i)}}function Kn(n,e){var t=n.style;for(var r in e)t[r]=e[r]}function Un(n,e){for(var t in e){var r=e[t];r?n.setAttribute(t,r):n.removeAttribute(t)}}function Qn(n,e){for(var t in e){var r=e[t],i=r.f,o=r.o;o?n.setAttributeNS(i,t,o):n.removeAttributeNS(i,t)}}function Vn(n,e,t){var r=n.elmFs||(n.elmFs={});for(var i in t){var o=t[i],a=r[i];if(o){if(a){if(a.q.$===o.$){a.q=o;continue}n.removeEventListener(i,a)}a=Xn(e,o),n.addEventListener(i,a,Bn&&{passive:2>uu(o)}),r[i]=a}else n.removeEventListener(i,a),r[i]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Bn=!0}}))}catch(n){}function Xn(n,e){function t(e){var r=t.q,i=on(r.a,e);if(Lo(i)){for(var o,a=uu(r),u=i.a,s=a?3>a?u.a:u.message:u,c=1==a?u.b:3==a&&u.stopPropagation,f=(c&&e.stopPropagation(),(2==a?u.b:3==a&&u.preventDefault)&&e.preventDefault(),n);o=f.j;){if("function"==typeof o)s=o(s);else for(var l=o.length;l--;)s=o[l](s);f=f.p}f(s,c)}}return t.q=e,t}function Zn(n,e){return n.$==e.$&&fn(n.a,e.a)}function ne(n,e,t,r){var i={$:e,r:t,s:r,t:void 0,u:void 0};return n.push(i),i}function ee(n,e,t,r){if(n!==e){var i=n.$,o=e.$;if(i!==o){if(1!==i||2!==o)return void ne(t,0,r,e);e=function(n){for(var e=n.e,t=e.length,r=Array(t),i=0;t>i;i++)r[i]=e[i].b;return{$:1,c:n.c,d:n.d,e:r,f:n.f,b:n.b}}(e),o=1}switch(o){case 5:for(var a=n.l,u=e.l,s=a.length,c=s===u.length;c&&s--;)c=a[s]===u[s];if(c)return void(e.k=n.k);e.k=e.m();var f=[];return ee(n.k,e.k,f,0),void(f.length>0&&ne(t,1,r,f));case 4:for(var l=n.j,d=e.j,h=!1,g=n.k;4===g.$;)h=!0,"object"!=typeof l?l=[l,g.j]:l.push(g.j),g=g.k;for(var p=e.k;4===p.$;)h=!0,"object"!=typeof d?d=[d,p.j]:d.push(p.j),p=p.k;return h&&l.length!==d.length?void ne(t,0,r,e):((h?function(n,e){for(var t=0;n.length>t;t++)if(n[t]!==e[t])return!1;return!0}(l,d):l===d)||ne(t,2,r,d),void ee(g,p,t,r+1));case 0:return void(n.a!==e.a&&ne(t,3,r,e.a));case 1:return void te(n,e,t,r,ie);case 2:return void te(n,e,t,r,oe);case 3:if(n.h!==e.h)return void ne(t,0,r,e);var b=re(n.d,e.d);b&&ne(t,4,r,b);var v=e.i(n.g,e.g);return void(v&&ne(t,5,r,v))}}}function te(n,e,t,r,i){if(n.c===e.c&&n.f===e.f){var o=re(n.d,e.d);o&&ne(t,4,r,o),i(n,e,t,r)}else ne(t,0,r,e)}function re(n,e,t){var r;for(var i in n)if("a1"!==i&&"a0"!==i&&"a3"!==i&&"a4"!==i)if(i in e){var o=n[i],a=e[i];o===a&&"value"!==i&&"checked"!==i||"a0"===t&&Zn(o,a)||((r=r||{})[i]=a)}else(r=r||{})[i]=t?"a1"===t?"":"a0"===t||"a3"===t?void 0:{f:n[i].f,o:void 0}:"string"==typeof n[i]?"":null;else{var u=re(n[i],e[i]||{},i);u&&((r=r||{})[i]=u)}for(var s in e)s in n||((r=r||{})[s]=e[s]);return r}function ie(n,e,t,r){var i=n.e,o=e.e,a=i.length,u=o.length;a>u?ne(t,6,r,{v:u,i:a-u}):u>a&&ne(t,7,r,{v:a,e:o});for(var s=u>a?a:u,c=0;s>c;c++){var f=i[c];ee(f,o[c],t,++r),r+=f.b||0}}function oe(n,e,t,r){for(var i=[],o={},a=[],u=n.e,s=e.e,c=u.length,f=s.length,l=0,d=0,h=r;c>l&&f>d;){var g=(S=u[l]).a,p=(T=s[d]).a,b=S.b,v=T.b;if(g!==p){var m=u[l+1],y=s[d+1];if(m)var _=m.a,E=m.b,w=p===_;if(y)var $=y.a,R=y.b,k=g===$;if(k&&w)ee(b,R,i,++h),ue(o,i,g,v,d,a),h+=b.b||0,se(o,i,g,E,++h),h+=E.b||0,l+=2,d+=2;else if(k)h++,ue(o,i,p,v,d,a),ee(b,R,i,h),h+=b.b||0,l+=1,d+=2;else if(w)se(o,i,g,b,++h),h+=b.b||0,ee(E,v,i,++h),h+=E.b||0,l+=2,d+=1;else{if(!m||_!==$)break;se(o,i,g,b,++h),ue(o,i,p,v,d,a),h+=b.b||0,ee(E,R,i,++h),h+=E.b||0,l+=2,d+=2}}else ee(b,v,i,++h),h+=b.b||0,l++,d++}for(;c>l;){var S;se(o,i,(S=u[l]).a,b=S.b,++h),h+=b.b||0,l++}for(;f>d;){var T,L=L||[];ue(o,i,(T=s[d]).a,T.b,void 0,L),d++}(i.length>0||a.length>0||L)&&ne(t,8,r,{w:i,x:a,y:L})}var ae="_elmW6BL";function ue(n,e,t,r,i,o){var a=n[t];if(!a)return o.push({r:i,A:a={c:0,z:r,r:i,s:void 0}}),void(n[t]=a);if(1===a.c){o.push({r:i,A:a}),a.c=2;var u=[];return ee(a.z,r,u,a.r),a.r=i,void(a.s.s={w:u,A:a})}ue(n,e,t+ae,r,i,o)}function se(n,e,t,r,i){var o=n[t];if(o){if(0===o.c){o.c=2;var a=[];return ee(r,o.z,a,i),void ne(e,9,i,{w:a,A:o})}se(n,e,t+ae,r,i)}else{var u=ne(e,9,i,void 0);n[t]={c:1,z:r,r:i,s:u}}}function ce(n,e){for(var t=0;e.length>t;t++){var r=e[t],i=r.t,o=fe(i,r);i===n&&(n=o)}return n}function fe(n,e){switch(e.$){case 0:return function(n){var t=n.parentNode,r=qn(e.s,e.u);return r.elm_event_node_ref||(r.elm_event_node_ref=n.elm_event_node_ref),t&&r!==n&&t.replaceChild(r,n),r}(n);case 4:return zn(n,e.u,e.s),n;case 3:return n.replaceData(0,n.length,e.s),n;case 1:return ce(n,e.s);case 2:return n.elm_event_node_ref?n.elm_event_node_ref.j=e.s:n.elm_event_node_ref={j:e.s,p:e.u},n;case 6:for(var t=e.s,r=0;t.i>r;r++)n.removeChild(n.childNodes[t.v]);return n;case 7:for(var i=(t=e.s).e,o=n.childNodes[r=t.v];i.length>r;r++)n.insertBefore(qn(i[r],e.u),o);return n;case 9:if(!(t=e.s))return n.parentNode.removeChild(n),n;var a=t.A;return void 0!==a.r&&n.parentNode.removeChild(n),a.s=ce(n,t.w),n;case 8:return function(n,e){var t=e.s,r=function(n,e){if(n){for(var t=Mn.createDocumentFragment(),r=0;n.length>r;r++){var i=n[r].A;Fn(t,2===i.c?i.s:qn(i.z,e.u))}return t}}(t.y,e);n=ce(n,t.w);for(var i=t.x,o=0;i.length>o;o++){var a=i[o],u=a.A,s=2===u.c?u.s:qn(u.z,e.u);n.insertBefore(s,n.childNodes[a.r])}return r&&Fn(n,r),n}(n,e);case 5:return e.s(n);default:T(10)}}var le=r((function(n,e,t){return function(n,e,t,r){return{$:3,d:Wn(n),g:e,h:t,i:r}}(e,{a:n,b:t},de,he)}));function de(n){return a(be,n,Mn.createElement("div"))}function he(n,e){return(n.b!==e.b||n.a!==e.a)&&be(e)}var ge,pe,be=t((function(n,e){return e.innerHTML=ve(n.b,{highlight:function(n,e){return!e&&$u(t.defaultHighlighting)&&(e=t.defaultHighlighting.a),"undefined"!=typeof hljs&&e&&hljs.listLanguages().indexOf(e)>=0?hljs.highlight(e,n,!0).value:n},gfm:r=(t=n.a).githubFlavored.a,tables:r&&r.tables,breaks:r&&r.breaks,sanitize:t.sanitize,smartypants:t.smartypants}),e;var t,r})),ve=(pe=(ge={}).exports={},function(){var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function e(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=n.normal,this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=u(n.item,"gm")(/bull/g,n.bullet)(),n.list=u(n.list)(/bull/g,n.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+n.def.source+")")(),n.blockquote=u(n.blockquote)("def",n.def)(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",n.html=u(n.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,n._tag)(),n.paragraph=u(n.paragraph)("hr",n.hr)("heading",n.heading)("lheading",n.lheading)("blockquote",n.blockquote)("tag","<"+n._tag)("def",n.def)(),n.normal=c({},n),n.gfm=c({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=u(n.paragraph)("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|")(),n.tables=c({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=n,e.lex=function(n,t){return new e(t).lex(n)},e.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)},e.prototype.token=function(e,t,r){var i,o,a,u,s,c,f,l,d;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},l=0;c.align.length>l;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;c.cells.length>l;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t,!0),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),this.tokens.push({type:"list_start",ordered:(u=a[2]).length>1}),i=!1,d=(a=a[0].match(this.rules.item)).length,l=0;d>l;l++)f=(c=a[l]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(f-=c.length,c=c.replace(this.options.pedantic?/^ {1,4}/gm:RegExp("^ {1,"+f+"}","gm"),"")),this.options.smartLists&&l!==d-1&&(u===(s=n.bullet.exec(a[l+1])[0])||u.length>1&&s.length>1||(e=a.slice(l+1).join("\n")+e,l=d-1)),o=i||/\n\n(?!\s*$)/.test(c),l!==d-1&&(i="\n"===c.charAt(c.length-1),o||(o=i)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(c,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(!r&&t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),this.tokens.links[a[1].toLowerCase()]={href:a[2],title:a[3]};else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;c.align.length>l;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;c.cells.length>l;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^_\_([\s\S]+?)_\_(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|_\_)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function r(n,e){if(this.options=e||f.defaults,this.links=n,this.rules=t.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?t.breaks:t.gfm:this.options.pedantic&&(this.rules=t.pedantic)}function i(n){this.options=n||{}}function o(n){this.tokens=[],this.token=null,this.options=n||f.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(n,e){return n.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(n,e){return n=n.source,e=e||"",function t(r,i){return r?(i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,i),t):RegExp(n,e)}}function s(){}function c(n){for(var e,t,r=1;arguments.length>r;r++)for(t in e=arguments[r])Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function f(n,t,r){if(r||"function"==typeof t){r||(r=t,t=null);var i,u,s=(t=c({},f.defaults,t||{})).highlight,l=0;try{i=e.lex(n,t)}catch(n){return r(n)}u=i.length;var d=function(n){if(n)return t.highlight=s,r(n);var e;try{e=o.parse(i,t)}catch(e){n=e}return t.highlight=s,n?r(n):r(null,e)};if(!s||3>s.length)return d();if(delete t.highlight,!u)return d();for(;i.length>l;l++)!function(n){"code"!==n.type?--u||d():s(n.text,n.lang,(function(e,t){return e?d(e):null==t||t===n.text?--u||d():(n.text=t,n.escaped=!0,void(--u||d()))}))}(i[l])}else try{return t&&(t=c({},f.defaults,t)),o.parse(e.lex(n,t),t)}catch(n){if(n.message+="\nPlease report this to https://github.com/chjj/marked.",(t||f.defaults).silent)return"<p>An error occured:</p><pre>"+a(n.message+"",!0)+"</pre>";throw n}}t._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,t._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,t.link=u(t.link)("inside",t._inside)("href",t._href)(),t.reflink=u(t.reflink)("inside",t._inside)(),t.normal=c({},t),t.pedantic=c({},t.normal,{strong:/^_\_(?=\S)([\s\S]*?\S)_\_(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),t.gfm=c({},t.normal,{escape:u(t.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(t.text)("]|","~]|")("|","|https?://|")()}),t.breaks=c({},t.gfm,{br:u(t.br)("{2,}","*")(),text:u(t.gfm.text)("{2,}","*")()}),r.rules=t,r.output=function(n,e,t){return new r(e,t).output(n)},r.prototype.output=function(n){for(var e,t,r,i,o="";n;)if(i=this.rules.escape.exec(n))n=n.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(n))n=n.substring(i[0].length),"@"===i[2]?(t=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+t):r=t=a(i[1]),o+=this.renderer.link(r,null,t);else if(this.inLink||!(i=this.rules.url.exec(n))){if(i=this.rules.tag.exec(n))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),n=n.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):a(i[0]):i[0];else if(i=this.rules.link.exec(n))n=n.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(n))||(i=this.rules.nolink.exec(n))){if(n=n.substring(i[0].length),e=(i[2]||i[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=i[0].charAt(0),n=i[0].substring(1)+n;continue}this.inLink=!0,o+=this.outputLink(i,e),this.inLink=!1}else if(i=this.rules.strong.exec(n))n=n.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(n))n=n.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(n))n=n.substring(i[0].length),o+=this.renderer.codespan(a(i[2],!0));else if(i=this.rules.br.exec(n))n=n.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(n))n=n.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(n))n=n.substring(i[0].length),o+=this.renderer.text(a(this.smartypants(i[0])));else if(n)throw Error("Infinite loop on byte: "+n.charCodeAt(0))}else n=n.substring(i[0].length),t=a(i[1]),o+=this.renderer.link(r=t,null,t);return o},r.prototype.outputLink=function(n,e){var t=a(e.href),r=e.title?a(e.title):null;return"!"!==n[0].charAt(0)?this.renderer.link(t,r,this.output(n[1])):this.renderer.image(t,r,a(n[1]))},r.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):n},r.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var e,t="",r=n.length,i=0;r>i;i++)e=n.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),t+="&#"+e+";";return t},i.prototype.code=function(n,e,t){if(this.options.highlight){var r=this.options.highlight(n,e);null!=r&&r!==n&&(t=!0,n=r)}return e?'<pre><code class="'+this.options.langPrefix+a(e,!0)+'">'+(t?n:a(n,!0))+"\n</code></pre>\n":"<pre><code>"+(t?n:a(n,!0))+"\n</code></pre>"},i.prototype.blockquote=function(n){return"<blockquote>\n"+n+"</blockquote>\n"},i.prototype.html=function(n){return n},i.prototype.heading=function(n,e,t){return"<h"+e+' id="'+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"</h"+e+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(n,e){var t=e?"ol":"ul";return"<"+t+">\n"+n+"</"+t+">\n"},i.prototype.listitem=function(n){return"<li>"+n+"</li>\n"},i.prototype.paragraph=function(n){return"<p>"+n+"</p>\n"},i.prototype.table=function(n,e){return"<table>\n<thead>\n"+n+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},i.prototype.tablerow=function(n){return"<tr>\n"+n+"</tr>\n"},i.prototype.tablecell=function(n,e){var t=e.header?"th":"td";return(e.align?"<"+t+' style="text-align:'+e.align+'">':"<"+t+">")+n+"</"+t+">\n"},i.prototype.strong=function(n){return"<strong>"+n+"</strong>"},i.prototype.em=function(n){return"<em>"+n+"</em>"},i.prototype.codespan=function(n){return"<code>"+n+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(n){return"<del>"+n+"</del>"},i.prototype.link=function(n,e,t){if(this.options.sanitize){try{var r=decodeURIComponent((i=n,i.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,(function(n,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})))).replace(/[^\w:]/g,"").toLowerCase()}catch(n){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return""}var i,o='<a href="'+n+'"';return e&&(o+=' title="'+e+'"'),o+">"+t+"</a>"},i.prototype.image=function(n,e,t){var r='<img src="'+n+'" alt="'+t+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},i.prototype.text=function(n){return n},o.parse=function(n,e,t){return new o(e,t).parse(n)},o.prototype.parse=function(n){this.inline=new r(n.links,this.options,this.renderer),this.tokens=n.reverse();for(var e="";this.next();)e+=this.tok();return e},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var n=this.token.text;"text"===this.peek().type;)n+="\n"+this.next().text;return this.inline.output(n)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var n,e,t,r,i="",o="";for(t="",n=0;this.token.header.length>n;n++)t+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(i+=this.renderer.tablerow(t),n=0;this.token.cells.length>n;n++){for(e=this.token.cells[n],t="",r=0;e.length>r;r++)t+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(t)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,f.options=f.setOptions=function(n){return c(f.defaults,n),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},f.Parser=o,f.parser=o.parse,f.Renderer=i,f.Lexer=e,f.lexer=e.lex,f.InlineLexer=r,f.inlineLexer=r.output,f.parse=f,void 0!==ge&&"object"==typeof pe?ge.exports=f:"function"==typeof define&&define.amd?define((function(){return f})):this.marked=f}.call(function(){return this||("undefined"!=typeof window?window:global)}()),ge.exports),me=i((function(n,e,t,r){return function(e,t,r,i,o){var s=a(rn,e,hn(t?t.flags:void 0));Lo(s)||T(2,Wo(s.a));var c={},f=(s=r(s.a)).a,l=function(e,t){var r=n.setup&&n.setup(e),i=n.view,o=Mn.title,s=Mn.body,c=function n(e){if(3===e.nodeType)return Pn(e.textContent);if(1!==e.nodeType)return Pn("");for(var t=g,r=e.attributes,i=r.length;i--;){var o=r[i];t=p(a(Gn,o.name,o.value),t)}var s=e.tagName.toLowerCase(),c=g,f=e.childNodes;for(i=f.length;i--;)c=p(n(f[i]),c);return u(jn,s,t,c)}(s);return function(n,e){e(n);var t=0;function r(){t=1===t?0:(ye(r),e(n),1)}return function(i,o){n=i,o?(e(n),2===t&&(t=1)):(0===t&&ye(r),t=2)}}(t,(function(n){In=r;var t=i(n),a=jn("body")(g)(t.body),u=function(n,e){var t=[];return ee(n,e,t,0),t}(c,a);s=function(n,e,t,r){return 0===t.length?n:(function n(e,t,r,i){!function e(t,r,i,o,a,u,s){for(var c=i[o],f=c.r;f===a;){var l=c.$;if(1===l)n(t,r.k,c.s,s);else if(8===l)c.t=t,c.u=s,(d=c.s.w).length>0&&e(t,r,d,0,a,u,s);else if(9===l){c.t=t,c.u=s;var d,h=c.s;h&&(h.A.s=t,(d=h.w).length>0&&e(t,r,d,0,a,u,s))}else c.t=t,c.u=s;if(!(c=i[++o])||(f=c.r)>u)return o}var g=r.$;if(4===g){for(var p=r.k;4===p.$;)p=p.k;return e(t,p,i,o,a+1,u,t.elm_event_node_ref)}for(var b=r.e,v=t.childNodes,m=0;b.length>m;m++){a++;var y=1===g?b[m]:b[m].b,_=a+(y.b||0);if(!(a>f||f>_||(c=i[o=e(v[m],y,i,o,a,_,s)])&&(f=c.r)<=u))return o;a=_}return o}(e,t,r,0,0,t.b,i)}(n,e,t,r),ce(n,t))}(s,c,u,e),c=a,In=0,o!==t.title&&(Mn.title=o=t.title)}))}(h,f),d=function(n,e){var t;for(var r in Rn){var i=Rn[r];i.a&&((t=t||{})[r]=i.a(r,e)),n[r]=kn(i,e)}return t}(c,h);function h(n,e){l(f=(s=a(i,n,f)).a,e),xn(c,s.b,o(f))}return xn(c,s.b,o(f)),d?{ports:d}:{}}(e,r,n.init,n.update,n.subscriptions)})),ye="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(n){setTimeout(n,1e3/60)};"undefined"!=typeof document&&document,"undefined"!=typeof window&&window;var _e,Ee,we,$e=function(n){return{$:"Title",a:n}},Re=r((function(n,e,t){return e(n(t))})),ke=h,Se=r((function(n,e,r){var i=r.c,o=r.d,a=t((function(e,t){return u(ke,"SubTree"===e.$?a:n,t,e.a)}));return u(ke,a,u(ke,n,e,o),i)})),Te={$:"EQ"},Le={$:"LT"},xe=b,Ce=function(n){return u(Se,xe,g,n)},Ae={$:"GT"},Ie=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.d,i=n,o=u(n,t.b,t.c,u(Ie,n,e,t.e));n=i,e=o,t=r}})),Oe=function(n){return u(Ie,r((function(n,e,t){return a(xe,F(n,e),t)})),g,n)},Ne=function(n){return function(n){return u(Ie,r((function(n,e,t){return a(xe,n,t)})),g,n)}(n.a)},Me=N,Fe=function(n){return{$:"Just",a:n}},Pe={$:"Nothing"},Be=t((function(n,e){n:for(;;){if("RBEmpty_elm_builtin"===e.$)return Pe;var t=e.c,r=e.d,i=e.e;switch(a(Me,n,e.b).$){case"LT":n=n,e=r;continue n;case"EQ":return Fe(t);default:n=n,e=i;continue n}}})),je=t((function(n,e){return"Just"===e.$?n(e.a):Pe})),Ye=r((function(n,e,t){return a(je,a(Re,(function(n){return n.stats}),Be(e)),a(Be,n,t))})),De=function(n){var e=u(Ye,"PLAYER","day",n);n:for(;"Just"===e.$;)switch(e.a){case 1:return"Monday morning";case 2:return"Tuesday morning";case 3:return"Wednesday morning";case 4:return"Thursday morning";case 5:return"Friday morning";default:break n}return"ERROR can't get PLAYER.day"},He=r((function(n,e,t){return F(t.a,{description:e,links:t.b.links,name:n,stats:t.b.stats,tags:t.b.tags})})),Ge=A,We=function(n){return""===n},Je=t((function(n,e){return n(e)})),qe=function(n){return n},ze=t((function(n,e){return{$:"Bad",a:n,b:e}})),Ke=function(n){return{$:"Parser",a:n}},Ue=t((function(n,e){return{$:"AddRight",a:n,b:e}})),Qe=i((function(n,e,t,r){return{col:e,contextStack:r,problem:t,row:n}})),Ve={$:"Empty"},Xe=t((function(n,e){return a(Ue,Ve,s(Qe,n.row,n.col,e,n.context))})),Ze=function(n){return e={$:"Problem",a:n},Ke((function(n){return a(ze,!1,a(Xe,n,e))}));var e},nt=r((function(n,e,t){return{$:"Good",a:n,b:e,c:t}})),et=function(n){return Ke((function(e){return u(nt,!1,n,e)}))},tt=function(n){return We(n)?Ze("cannot be empty"):et(n)},rt=function(n){var e=n.charCodeAt(0);return 55296>e||e>56319?e:1024*(e-55296)+n.charCodeAt(1)-56320+65536},it=function(n){var e=rt(n);return e>=97&&122>=e},ot=function(n){var e=rt(n);return 90>=e&&e>=65},at=function(n){return it(n)||ot(n)},ut=function(n){var e=rt(n);return 57>=e&&e>=48},st=function(n){return it(n)||ot(n)||ut(n)},ct=t((function(n,e){for(;;){if(!e.b)return!1;var t=e.b;if(n(e.a))return!0;n=n,e=t}})),ft=t((function(n,e){return a(ct,(function(e){return x(e,n)}),e)})),lt=t((function(n,e){var t=e.a;return Ke((function(e){var r=t(e);if("Bad"===r.$)return a(ze,r.a,f=r.b);var i=r.a,o=r.c,s=(0,n(r.b).a)(o);if("Bad"===s.$){var c=s.a,f=s.b;return a(ze,i||c,f)}return c=s.a,u(nt,i||c,s.b,s.c)}))})),dt=D,ht=q,gt=t((function(n,e){return Ke((function(t){var r=u(ht,n,t.offset,t.src);return x(r,-1)?a(ze,!1,a(Xe,t,e)):x(r,-2)?u(nt,!0,M,{col:1,context:t.context,indent:t.indent,offset:t.offset+1,row:t.row+1,src:t.src}):u(nt,!0,M,{col:t.col+1,context:t.context,indent:t.indent,offset:r,row:t.row,src:t.src})}))})),pt=o((function(n,e,t,r,i){for(;;){var o=u(ht,n,e,i.src);if(x(o,-1))return u(nt,0>O(i.offset,e),M,{col:r,context:i.context,indent:i.indent,offset:e,row:t,src:i.src});x(o,-2)?(n=n,e+=1,t+=1,r=1,i=i):(n=n,e=o,t=t,r+=1,i=i)}})),bt=function(n){return Ke((function(e){return c(pt,n,e.offset,e.row,e.col,e)}))},vt=bt,mt=t((function(n){return n})),yt=Q,_t=t((function(n,e){var t=e.a;return Ke((function(e){var r=t(e);if("Bad"===r.$)return a(ze,r.a,r.b);var i=r.b,o=r.c;return u(nt,r.a,a(n,u(yt,e.offset,o.offset,e.src),i),o)}))})),Et=function(n){return a(_t,mt,n)},wt=r((function(n,e,t){var r=e.a,i=t.a;return Ke((function(e){var t=r(e);if("Bad"===t.$)return a(ze,t.a,l=t.b);var o=t.a,s=t.b,c=i(t.c);if("Bad"===c.$){var f=c.a,l=c.b;return a(ze,o||f,l)}f=c.a;var d=c.c;return u(nt,o||f,a(n,s,c.b),d)}))})),$t=t((function(n,e){return u(wt,mt,n,e)})),Rt=a(lt,tt,Et(a($t,a($t,et(M),a(gt,at,{$:"UnexpectedChar"})),vt((function(n){return st(n)||a(ft,n,v([B("_"),B("-"),B(":"),B("#"),B("+")]))}))))),kt={$:"Black"},St=o((function(n,e,t,r,i){return{$:"RBNode_elm_builtin",a:n,b:e,c:t,d:r,e:i}})),Tt={$:"RBEmpty_elm_builtin"},Lt={$:"Red"},xt=o((function(n,e,t,r,i){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$){var o=i.b,a=i.c,u=i.d,s=i.e;return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(St,Lt,e,t,c(St,kt,r.b,r.c,r.d,l=r.e),c(St,kt,o,a,u,s)):c(St,n,o,a,c(St,Lt,e,t,r,u),s)}if("RBNode_elm_builtin"===r.$&&"Red"===r.a.$&&"RBNode_elm_builtin"===r.d.$&&"Red"===r.d.a.$){var f=r.d,l=r.e;return c(St,Lt,r.b,r.c,c(St,kt,f.b,f.c,f.d,f.e),c(St,kt,e,t,l,i))}return c(St,n,e,t,r,i)})),Ct=r((function(n,e,t){if("RBEmpty_elm_builtin"===t.$)return c(St,Lt,n,e,Tt,Tt);var r=t.a,i=t.b,o=t.c,s=t.d,f=t.e;switch(a(Me,n,i).$){case"LT":return c(xt,r,i,o,u(Ct,n,e,s),f);case"EQ":return c(St,r,i,e,s,f);default:return c(xt,r,i,o,s,u(Ct,n,e,f))}})),At=r((function(n,e,t){var r=u(Ct,n,e,t);return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(St,kt,r.b,r.c,r.d,r.e):r})),It=function(n){return{$:"Set_elm_builtin",a:n}},Ot=t((function(n,e){return It(u(At,n,M,e.a))})),Nt=t((function(n,e){return j(e,{tags:a(Ot,n,e.tags)})})),Mt=Tt,Ft=Mt,Pt=Mt,Bt=It(Mt),jt=r((function(n,e,t){return j(t,{links:u(At,n,e,t.links)})})),Yt=r((function(n,e,t){return j(t,{stats:u(At,n,e,t.stats)})})),Dt=t((function(n,e){return"Just"===e.$?Fe(n(e.a)):Pe})),Ht=t((function(n,e){return"Just"===e.$?e.a:n})),Gt=t((function(n,e){return u(wt,Je,n,e)})),Wt=t((function(n,e){return{$:"Append",a:n,b:e}})),Jt=r((function(n,e,t){for(;;){if(!t.b)return a(ze,!1,e);var r=t.b,i=(0,t.a.a)(n);if("Good"===i.$)return i;var o,u=(o=i).b;if(o.a)return o;n=n,e=a(Wt,e,u),t=r}})),qt=function(n){return Ke((function(e){return u(Jt,e,Ve,n)}))},zt=t((function(n,e){return{$:"Token",a:n,b:e}})),Kt=function(n){return!n},Ut=J,Qt=function(n){return function(n){var e=n.a,t=n.b,r=!We(e);return Ke((function(n){var i=c(Ut,e,n.offset,n.row,n.col,n.src),o=i.a,s=i.b,f=i.c;return x(o,-1)?a(ze,!1,a(Xe,n,t)):u(nt,r,M,{col:f,context:n.context,indent:n.indent,offset:o,row:s,src:n.src})}))}(a(zt,n,{$:"ExpectingSymbol",a:n}))},Vt=(_e=a(lt,a(Re,(function(n){for(var e=0,t=n.charCodeAt(0),r=43==t||45==t?1:0,i=r;n.length>i;++i){var o=n.charCodeAt(i);if(48>o||o>57)return Pe;e=10*e+o-48}return i==r?Pe:Fe(45==t?-e:e)}),a(Re,Dt(et),Ht(Ze("not an int")))),Et(vt(ut))),qt(v([a(Gt,a($t,et((function(n){return-n})),Qt("-")),_e),_e]))),Xt=a(lt,tt,Et(a($t,et(M),vt((function(n){return st(n)||a(ft,n,v([B("_"),B(":"),B("#")]))}))))),Zt=function(n){return{$:"Done",a:n}},nr=function(n){return{$:"Loop",a:n}},er=t((function(n,e){var t=e.a;return Ke((function(e){var r=t(e);if("Good"===r.$){var i=r.c;return u(nt,r.a,n(r.b),i)}return a(ze,r.a,r.b)}))})),tr=function(n){return"Loop"===n.$?{$:"Loop",a:n.a}:{$:"Done",a:n.a}},rr=i((function(n,e,t,r){n:for(;;){var i=(0,t(e).a)(r);if("Good"===i.$){var o=i.a,s=i.b,c=i.c;if("Loop"===s.$){n=n||o,e=s.a,t=t,r=c;continue n}return u(nt,n||o,s.a,c)}return o=i.a,a(ze,n||o,i.b)}})),ir=t((function(n,e){return Ke((function(t){return s(rr,!1,n,e,t)}))})),or=t((function(n,e){return a(ir,n,(function(n){return a(er,tr,e(n))}))})),ar=bt((function(n){return x(n,B(" "))||x(n,B("\n"))||x(n,B("\r"))})),ur=(Ee=t((function(n,e){return e(n)})),a(or,{links:Ft,stats:Pt,tags:Bt},(function(n){return qt(v([a(Gt,a(Gt,a($t,a($t,et(Ee),ar),Qt(".")),Xt),qt(v([a(Gt,a($t,et(qe),Qt("=")),qt(v([a(er,(function(e){return function(t){return nr(u(jt,t,e,n))}}),Rt),a(er,(function(e){return function(t){return nr(u(Yt,t,e,n))}}),Vt)]))),et((function(e){return nr(a(Nt,e,n))}))]))),et(Zt(n))]))}))),sr=(we={$:"ExpectingEnd"},Ke((function(n){return x(n.src.length,n.offset)?u(nt,!1,M,n):a(ze,!1,a(Xe,n,we))}))),cr=a(Gt,a(Gt,et(t((function(n,e){return F(n,e)}))),Rt),a($t,ur,sr)),fr=r((function(n,e,t){for(;;){if(!t.b)return e;var r=t.b,i=n,o=a(n,t.a,e);n=i,e=o,t=r}})),lr=function(n){return u(fr,xe,g,n)},dr=i((function(n,e,t,r){if(r.b){var i=r.a,o=r.b;if(o.b){var c=o.a,f=o.b;if(f.b){var l=f.a,d=f.b;if(d.b){var h=d.b;return a(n,i,a(n,c,a(n,l,a(n,d.a,t>500?u(fr,n,e,lr(h)):s(dr,n,e,t+1,h)))))}return a(n,i,a(n,c,a(n,l,e)))}return a(n,i,a(n,c,e))}return a(n,i,e)}return e})),hr=r((function(n,e,t){return s(dr,n,e,0,t)})),gr=t((function(n,e){return u(hr,t((function(e,t){return a(xe,n(e),t)})),g,e)})),pr=function(n){return{$:"Err",a:n}},br=function(n){return{$:"Ok",a:n}},vr=r((function(n,e,t){return{col:e,problem:t,row:n}})),mr=function(n){return u(vr,n.row,n.col,n.problem)},yr=t((function(n,e){n:for(;;)switch(n.$){case"Empty":return e;case"AddRight":var t=n.b;n=n.a,e=a(xe,t,e);continue n;default:var r=n.b;n=n.a,e=a(yr,r,e);continue n}})),_r=t((function(n,e){var t=(0,n.a)({col:1,context:g,indent:1,offset:0,row:1,src:e});return"Good"===t.$?br(t.b):pr(a(yr,t.b,g))})),Er=t((function(n,e){var t=a(_r,n,e);return"Ok"===t.$?br(t.a):pr(a(gr,mr,t.a))})),wr=t((function(n,e){return"Ok"===e.$?br(n(e.a)):pr(e.a)})),$r=t((function(n,e){return"Ok"===e.$?br(e.a):pr(n(e.a))})),Rr=r((function(n,e,t){return a($r,(function(e){return F("Entity def: "+n,e)}),a(wr,a(He,e,t),a(Er,cr,n)))})),kr={$:"Green"},Sr={$:"Red"},Tr={$:"Yellow"},Lr=i((function(n,e,t,r){return{alpha:r,blue:t,green:e,red:n}})),xr=s(Lr,115,210,22,1),Cr=s(Lr,204,0,0,1),Ar=s(Lr,237,212,0,1),Ir=function(n){switch(n.$){case"Red":return{color:Cr,id:"RED_LINE",name:"Red Line",number:1,stations:v(["WEST_MULBERRY","EAST_MULBERRY","CHURCH_STREET","METRO_CENTER","FEDERAL_TRIANGLE","SPRING_HILL","TWIN_BROOKS"])};case"Yellow":return{color:Ar,id:"YELLOW_LINE",name:"Yellow Line",number:2,stations:v(["RIVERSIDE","METRO_CENTER","FEDERAL_TRIANGLE","CAPITOL_HEIGHTS","MACARTHURS_PARK"])};default:return{color:xr,id:"GREEN_LINE",name:"Green Line",number:3,stations:v(["BURLINGTON","SAMUAL_STREET","CAPITOL_HEIGHTS","FEDERAL_TRIANGLE"])}}},Or=a(gr,(function(n){return F(n,Ir(n).stations)}),v([Sr,kr,Tr])),Nr=function(n){return n.a},Mr=a(gr,a(Re,Ir,(function(n){return u(Rr,n.id+".line",n.name,n.name)})),a(gr,Nr,Or)),Fr=function(n){return u(fr,t((function(n,e){return u(At,n.a,n.b,e)})),Mt,n)},Pr=Fr(v([F("METRO_CENTER",{name:"Metro Center"}),F("FEDERAL_TRIANGLE",{name:"Federal Triangle"}),F("MACARTHURS_PARK",{name:"MacArthur's Park"}),F("CHURCH_STREET",{name:"Church Street"}),F("SPRING_HILL",{name:"Spring Hill"}),F("TWIN_BROOKS",{name:"Twin Brooks"}),F("CAPITOL_HEIGHTS",{name:"Capitol Heights"}),F("EAST_MULBERRY",{name:"East Mulberry"}),F("WEST_MULBERRY",{name:"West Mulberry"}),F("BURLINGTON",{name:"Burlington"}),F("SAMUAL_STREET",{name:"Samual Street"})])),Br=a(gr,(function(n){var e=n.b.name;return u(Rr,function(n){return n+".loation.station"+("METRO_CENTER"===n?".steves_work":"")}(n.a),e,e)}),Oe(Pr)),jr=Y(v([u(Rr,"PLAYER.chapter=1.day=1.location=WEST_MULBERRY.destination=METRO_CENTER","Steve","Here I am."),u(Rr,"BRIEFCASE.item.location=PLAYER","Briefcase","My portable office, all my work is in it."),u(Rr,"RED_LINE_PASS.item.location=PLAYER.valid_on=RED_LINE","Red Line metro pass","This gets me anywhere on the Red Line, but I really only use it to get to work and back home."),u(Rr,"CELL_PHONE.item.location=PLAYER.unread","Cell phone","I'm never more than a call or email way."),u(Rr,"MAP.item.map.silent","Subway map","The full subway map."),u(Rr,"CENTRAL_GUARD_OFFICE.location","Central Guard Office",""),u(Rr,"LOBBY.location","Station Lobby",""),u(Rr,"COFFEE_CART.character.location=WEST_MULBERRY","Coffee cart","{Huh, that's strange. |}It's closed.{  I really need my coffee.  Today of all days!|  I wonder where Carl is?|  I hope Carl comes back.|}"),u(Rr,"SAFTEY_WARNING_POSTER.item.location=TWIN_BROOKS","Safety Message Poster","It says to watch out for pickpockets and report any suspicious activity."),u(Rr,"MAP_POSTER.item.map.location=TWIN_BROOKS","Map on the wall","This shows the full map of the subway system.")]),Y(Mr,Br)),Yr=t((function(n,e){var t=e.b;return F(n(e.a),t)})),Dr=t((function(n,e){return F(e.a,n(e.b))})),Hr=u(fr,t((function(n,e){if("Ok"===n.$){var t=n.a;return a(Yr,a(At,t.a,t.b),e)}return a(Dr,xe(n.a),e)})),F(Mt,g),jr),Gr=Qt("|"),Wr=Qt("}"),Jr=function(n){return We(n)?Ze("string is empty"):et(n)},qr=Qt("{"),zr=function(n){return"Ok"===n.$?et(n.a):Ze(n.a)},Kr=t((function(n,e){return a(U,n,m(e))})),Ur=t((function(n,e){return v(a(K,n,e))})),Qr=r((function(n,e,t){return a(Kr,e,a(Ur,n,t))})),Vr=a(lt,Jr,Et(a($t,et(M),vt((function(n){return!a(ft,n,v([B("{"),B("}"),B("|")]))}))))),Xr=i((function(n,e,t,r){return x(a(Me,a(Ht,0,a(Be,n,r.stats)),t),e)})),Zr=t((function(n,e){return"Just"===a(Be,n,e).$})),ni=t((function(n,e){return a(Zr,n,e.a)})),ei=t((function(n,e){return a(ni,n,e.tags)})),ti=r((function(n,e,t){return n(e(t))})),ri=t((function(n,e){return!a(ct,a(ti,Kt,n),e)})),ii=function(n){return!n.b},oi=r((function(n,e,t){return a(Ht,g,a(Dt,(function(r){return a(ri,(function(n){return u(ui,n,t,r)}),e)?v([F(n,r)]):g}),a(Be,n,t)))})),ai=i((function(n,e,t,r){return a(Ht,!1,a(Dt,(function(n){if("Match"===e.$){var r=e.b;return x(e.a,n)&&!ii(u(oi,n,r,t))}return!ii(u(oi,n,r=e.a,t))}),a(Be,n,r.links)))})),ui=t((function(n,e){switch(n.$){case"HasTag":return ei(n.a);case"HasStat":return u(Xr,n.a,n.b,n.c);case"HasLink":return u(ai,n.a,n.b,e);default:return a(ti,Kt,a(ui,n.a,e))}})),si=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.e,i=n,o=u(n,t.b,t.c,u(si,n,e,t.d));n=i,e=o,t=r}})),ci=t((function(n,e){return u(si,r((function(e,t,r){return a(n,e,t)?u(At,e,t,r):r})),Mt,e)})),fi=t((function(n,e){return Oe(a(ci,t((function(t,r){return a(ri,(function(n){return u(ui,n,e,r)}),n)})),e))})),li=t((function(n,e){return"Match"===n.$?u(oi,n.a,n.b,e):a(fi,n.a,e)})),di=t((function(n,e){return{$:"HasLink",a:n,b:e}})),hi=t((function(n,e){return{$:"Match",a:n,b:e}})),gi=function(n){return{$:"MatchAny",a:n}},pi=t((function(n,e){var t=function(e){return"HasLink"===e.$&&"Match"===e.b.$&&"$"===e.b.a?a(di,e.a,a(hi,n,e.b.b)):e};if("MatchAny"===e.$)return gi(a(gr,t,r=e.a));var r=e.b;return a(hi,function(e){return"$"===e?n:e}(e.a),a(gr,t,r))})),bi=t((function(n,e){if(e.b){var r=e.b;return a(xe,e.a,u(hr,t((function(e,t){return a(xe,n,a(xe,e,t))})),g,r))}return g})),vi=function(n){return n+""},mi=function(n){return a(Kr,"",a(bi,"; ",a(gr,(function(n){return function(n){switch(n.$){case"Expecting":return"expecting '"+n.a+"'";case"ExpectingInt":return"expecting int";case"ExpectingHex":return"expecting hex";case"ExpectingOctal":return"expecting octal";case"ExpectingBinary":return"expecting binary";case"ExpectingFloat":return"expecting float";case"ExpectingNumber":return"expecting number";case"ExpectingVariable":return"expecting variable";case"ExpectingSymbol":return"expecting symbol '"+n.a+"'";case"ExpectingKeyword":return"expecting keyword '"+n.a+"'";case"ExpectingEnd":return"expecting end";case"UnexpectedChar":return"unexpected char";case"Problem":return"problem "+n.a;default:return"bad repeat"}}(n.problem)+" at row "+vi(n.row)+", col "+vi(n.col)}),n)))},yi=r((function(n,e,t){return{$:"HasStat",a:n,b:e,c:t}})),_i=function(n){return{$:"HasTag",a:n}},Ei=function(n){return{$:"Not",a:n}},wi=qt(v([a(er,mt(gi),Qt("*")),a(er,mt(hi("$")),Qt("$")),a(er,hi,Rt)]));function $i(){return a(Gt,a(Gt,et(t((function(n,e){return n(e)}))),wi),Ri())}function Ri(){var n=i((function(n,e,t,r){return nr(a(xe,e?Ei(r(t)):r(t),n))}));return a(or,g,(function(e){return qt(v([a(Gt,a(Gt,a(Gt,a($t,a($t,et(n(e)),vt(Ge(B(" ")))),Qt(".")),qt(v([a(er,mt(!0),Qt("!")),et(!1)]))),Xt),qt(v([a(Gt,a($t,et(qe),Qt(">")),a(er,(function(n){return function(e){return u(yi,e,Ae,n)}}),Vt)),a(Gt,a($t,et(qe),Qt("<")),a(er,(function(n){return function(e){return u(yi,e,Le,n)}}),Vt)),a(Gt,a($t,et(qe),Qt("=")),qt(v([a(er,(function(n){return function(e){return u(yi,e,Te,n)}}),Vt),a(er,(function(){return function(n){return a(di,n,a(hi,"$",g))}}),Qt("$")),a(er,(function(n){return function(e){return a(di,e,a(hi,n,g))}}),Rt),a(Gt,a($t,et(qe),Qt("(")),a($t,a(er,(function(n){return function(e){return a(di,e,n)}}),$i()),Qt(")")))]))),et((function(n){return _i(n)}))]))),et(Zt(e))]))}))}try{var ki=$i();$i=function(){return ki};var Si=Ri();Ri=function(){return Si}}catch(n){throw"Some top-level definitions from `Rules.Parser` are causing infinite recursion:\n\n  ┌─────┐\n  │    matcherParser\n  │     ↓\n  │    queriesParser\n  └─────┘\n\nThese errors are very tricky, so read https://elm-lang.org/0.19.0/halting-problem to learn how to fix it!"}var Ti,Li,xi=function(n){return a(Er,a($t,ki,sr),n)},Ci=t((function(n,e){return r=a(gr,n,e),u(fr,t((function(n,e){return"Ok"===n.$?a(wr,xe(n.a),e):pr(n.a)})),br(g),r);var r})),Ai=i((function(n,e,t,r){return{$:"Array_elm_builtin",a:n,b:e,c:t,d:r}})),Ii=H,Oi=t((function(n,e){return W(e)/W(n)})),Ni=Ii(a(Oi,2,32)),Mi=[],Fi=s(Ai,0,Ni,Mi,Mi),Pi=function(n){return{$:"Leaf",a:n}},Bi=l,ji=t((function(n,e){for(;;){var t=a(Bi,32,n),r=t.b,i=a(xe,{$:"SubTree",a:t.a},e);if(!r.b)return lr(i);n=r,e=i}})),Yi=t((function(n,e){for(;;){var t=Ii(e/32);if(1===t)return a(Bi,32,n).a;n=a(ji,n,g),e=t}})),Di=G,Hi=t((function(n,e){return O(n,e)>0?n:e})),Gi=function(n){return n.length},Wi=t((function(n,e){if(e.nodeListSize){var t=32*e.nodeListSize,r=Di(a(Oi,32,t-1)),i=n?lr(e.nodeList):e.nodeList,o=a(Yi,i,e.nodeListSize);return s(Ai,Gi(e.tail)+t,a(Hi,5,r*Ni),o,e.tail)}return s(Ai,Gi(e.tail),Ni,Mi,e.tail)})),Ji=r((function(n,e,t){for(;;){var r=a(Bi,32,n),i=r.a,o=r.b;if(0>O(Gi(i),32))return a(Wi,!0,{nodeList:e,nodeListSize:t,tail:i});n=o,e=a(xe,Pi(i),e),t+=1}})),qi=function(n){return n.b?u(Ji,n,g,0):Fi},zi=4294967295>>>32-Ni,Ki=d,Ui=r((function(n,e,t){for(;;){var r=a(Ki,zi&e>>>n,t);if("SubTree"!==r.$)return a(Ki,zi&e,r.a);n-=Ni,e=e,t=r.a}})),Qi=t((function(n,e){var t=e.a,r=e.b,i=e.c,o=e.d;return 0>n||O(n,t)>-1?Pe:O(n,function(n){return n>>>5<<5}(t))>-1?Fe(a(Ki,zi&n,o)):Fe(u(Ui,r,n,i))})),Vi=t((function(n,e){return 0>O(n,e)?n:e})),Xi=function(n){return u(fr,t((function(n,e){return e+1})),0,n)},Zi=function(n){return n.trim()},no=function(n){var e=n.a;return Ke((function(n){var t=e(n);return"Bad"===t.$?a(ze,!1,t.b):u(nt,!1,t.b,t.c)}))},eo=z,to=i((function(n,e,t,r){return a(Ue,Ve,s(Qe,n,e,t,r))})),ro=function(n){return Ke((function(e){return(0,n(M).a)(e)}))},io=function(n){var e=qt(v([a(Gt,a($t,et(qe),qr),qt(v([no(function(n){var e=function(e){return!ii(a(li,e,n.worldModel))};return a(lt,(function(t){var r,i,o=t.a,s=t.b,c=t.c;return"Ok"===(r=a(wr,ri(a(Re,pi(n.trigger),e)),a(Ci,xi,a(gr,Zi,a(Ur,"&",o))))).$?(i=r.a?s:c,Ke((function(n){return u(nt,!0,i,n)}))):Ze(mi(r.a))}),a(Gt,a(Gt,a(Gt,et(r((function(n,e,t){return P(n,e,t)}))),a($t,a(lt,Jr,Et(function(n){var e=n.a,t=n.b;return Ke((function(n){var r=c(eo,e,n.offset,n.row,n.col,n.src),i=r.a,o=r.b,f=r.c;return x(i,-1)?a(ze,!1,s(to,o,f,t,n.context)):u(nt,0>O(n.offset,i),M,{col:f,context:n.context,indent:n.indent,offset:i,row:o,src:n.src})}))}(a(zt,"?",{$:"Expecting",a:"?"})))),Qt("?"))),ro((function(){return io(n)}))),qt(v([a(Gt,a($t,et(qe),Gr),a($t,ro((function(){return io(n)})),Wr)),a(er,mt(""),Wr)]))))}(n)),no(function(n){var e=a(gr,(function(n){var e,t=n.a;return a($t,et(n.b),function(n){var e=n.a,t=n.b,r=!We(e);return Ke((function(n){var i=c(Ut,e,n.offset,n.row,n.col,n.src),o=i.a,s=i.b,f=i.c;return x(o,-1)||u(ht,(function(n){return st(n)||x(n,B("_"))}),o,n.src)>=0?a(ze,!1,a(Xe,n,t)):u(nt,r,M,{col:f,context:n.context,indent:n.indent,offset:o,row:s,src:n.src})}))}(a(zt,e=t,{$:"ExpectingKeyword",a:e})))}),Oe(n.propKeywords));return a(lt,zr,a(Gt,a(Gt,et(t((function(e,t){return t(u(Qr,"$",n.trigger,e))}))),a($t,a(lt,Jr,Et(vt((function(n){return!a(ft,n,v([B("{"),B("."),B("|"),B("}")]))})))),Qt("."))),a($t,qt(e),Wr)))}(n)),no(function(n){return a(er,(function(e){return a(Ht,"ERROR finding correct cycling text",a(Qi,a(Vi,Xi(e)-1,n.cycleIndex),qi(e)))}),a(or,g,(function(e){return qt(v([a(er,mt(nr(a(xe,"",e))),Gr),a(er,mt(Zt(lr(a(xe,"",e)))),Wr),a(Gt,a(Gt,et(t((function(n,e){return e(n)}))),ro((function(){return io(n)}))),qt(v([a(er,mt((function(n){return nr(a(xe,n,e))})),Gr),a(er,mt((function(n){return Zt(lr(a(xe,n,e)))})),Wr)])))]))})))}(n))]))),Vr])),i=t((function(n,e){return nr(Y(n,e))}));return a(Gt,et(qe),a(or,"",(function(n){return qt(v([a(er,i(n),e),et(Zt(n))]))})))},oo=t((function(n,e){var t=a($t,io(n),sr);return a(wr,mt(M),a(Er,t,e))})),ao=u(At,"coffeeCartThursday",'\n{Instead of Carl, there\'s some young lady behind the stand, looking at her phone.\n\n"You\'re not Carl."\n\n"Nope. Was called in last minute. Guess his wife just went into labor or somethin\'. Can I get you anything?"\n\n"Carl\'s married?"\n\n"Guess so,  I don\'t know the guy. You getting something or not?"\n\n"Sure. Coffee. Black."\n\n"Here you go. See ya."\n|I miss Carl.}\n',u(At,"coffeeCartWednesday",'\n{"Morning Steve.  You alright?"\n\n"Fill it up to the top, Carl. I\'m going to need every last drop today."\n\n"You got it.  Take it easy Steve. Don\'t want to work too hard."\n\n"Easy for you to say, Carl. But I\'ll try. Thanks!"\n|I\'ve got plenty already, and plenty of work to do too.}\n',u(At,"coffeeCartTuesday",'\n{"The usual for you today, Steve?"\n\n"Yes please."\n\n"Enjoy."\n|"Need anything else?"\n\n"No, I\'m fine."}\n',u(At,"coffeeCartMonday",'\n{Carl runs the little coffee stand at my local station.  The coffee is decent, and it\'s nice to see his smiling face each morning.\n\nMorning, Carl! Can I just get the usual?"\n\n"Sure thing, Steve. That\'ll be a buck twenty five."\n\n"Here you go, Carl, exact change. Thanks. Have a good one."\n|"See you tomorrow."|"See you tomorrow."|"Don\'t miss your train."}\n',u(At,"CELL_PHONE","\n{There's no service, but I can view my emails.\n---\n|}\n{PLAYER.day=1?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Sunday, 4:00 pm\n    Subject: I've Got a Job for You\n\n    Steve,\n    Just got word that some very important clients are coming in in the next few weeks.\n    The boys up stairs want me to put together a new proposal to bring to them. \n    Steve, you're one of our senior agents and you've been in the department for, what, 6 years?\n    I need you to work on this and really make it shine.\n    Be at my office at 6:30 am Monday and we can talk over the details.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply -\n\n    From: Steve Kerry\n    To: Dennis Ferbs\n    Sent: Sunday, 4:01 pm\n    Subject: RE: I've Got a Job for You\n    \n    Dear Mr. Ferbs,\n    I've actually been with the company for eight years, but no need to worry, sir. I'm happy for the \n    opportunity. I've got a few big ideas that I've been wanting to try out.\n    I'll be there bright and early, sir.\n    \n    Steve Kerry\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Janice Franz\n    To: Steve Kerry\n    Sent: Monday, 6:05am\n    Subject: Job Opportunity\n    \n    Hi Mr. Steve Kerry\n\n    My name is Janis and I'm reaching out on behalf of Embrace Insurance. I came across your resume\n    in our system and I believe you would make a perfect fit for our team here at Embrace Insurance.\n    If you're looking for a job change or would just simply like to see what your options are we would\n    love to set up a meeting with you and see what your future could hold.\n\n    We look forward to your response!\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n{PLAYER.day=2?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Monday, 6:26pm\n    Subject: Good Things!\n\n    Steve,\n\n    I like a few of the ideas that you brought to me this morning.  But I just got word that our clients are\n    pushing up the meeting and will be here on Friday! You're going to have to put this thing in high gear, Steve.\n    I can't hand them half assed work.\n\n    Don't let me down.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply-\n\n    From: Steve Kerry\n    To: Dennis Ferbs\n    Sent: Monday, 6:32pm\n    Subject: RE: Good Things!\n\n    Dear Mr. Ferbs,\n\n    Thank you for the update.  I'll do my best, but Friday is a little soon isn't it? I just want to be able to\n    put together something that will really help our customers.  I'll have to cut a lot of the ideas we spoke about.\n    But I'll do my best, sir.\n\n    See you tomorrow, Mr. Ferbs\n\n    Steve Kerry\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Henry Thorne\n    To: Steve Kerry\n    Sent: Monday, 8:25pm\n    Subject: Stevey!\n\n    Hey Steve!\n\n    How's it going? Long time no talk! Just checking in with you and letting you know I'm going to be\n    in the city in a few days. It's supposed to be a business trip and it's just for a day, but I\n    thought it's be nice to drop by and see how things were and maybe grab a few drinks somewhere.\n    I know things have been difficult since we last talked. Just let me know when you're free and I'll\n    make something work.\n\n    See you soon!\n\n    Henry\n\n}\n{PLAYER.day=3?\n\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Tuesday, 4:48pm\n    Subject: No good\n\n    Steve,\n\n    What you handed me today WON'T work. The Premiums we offer will NOT cover these plans. Half of these\n    seem like life quality expenses. We need to think about the bottom dollar here, Steve. \"Pet Insurance\n    Plan\", \"Kidnap/Ransom Insurance\", \"Divorce Insurance\"? These benefits not only expose us to\n    unwarranted risk of loss, but also far out weigh our customers premiums. You've got to do better than\n    this, Steve. We're two two days from the proposal meeting. Do NOT fuck this up.\n\n    Put something better together tonight and get it to me in the morning. You're running out of time.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply- (unsent)\n\n    From: Steve Kerry\n    To: Dennis Ferbs\n    Sent: Tuesday, 5:00pm\n    Subject: RE: No good\n\n    Dear Mr. Ferbs,\n\n    Sir, I have to disagree. I feel that these plans are essential for our customers. If you'd just\n    look over the papers I sent you about the\n}\n{PLAYER.day=4?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Wednesday, 4:27pm\n    Subject: (Subject)\n\n    Steve, our clients are going to be here tomorrow whether you're ready or not. You're going to need\n    to push harder. I don't care what you have to do to put this thing together, just get it done.\n\n    Bring me what you have in the morning.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Henry Thorne\n    To: Steve Kerry\n    Sent: Thursday, 5:45am\n    Subject: Today?\n\n    Hey Steve,\n    I'm in the city today and I haven't heard back from you. I'm sure you're busy, but it would \n    really be nice to see you while I'm down. My plane leaves tomorrow, so today is probably it. You \n    can call me at my old number if you get this in time and we can plan something out. It hasn't \n    changed.\n\n    Hope to talk to you soon.\n}\n{PLAYER.day=5?\n    From: Dennis Ferbs\n    To: Steve Kerry\n    Sent: Friday, 6:00am\n    Subject: where the hell are you?\n\n    I want to run through the presentation once before the clients are here.\n    Get your ass down here right away.\n\n    Dennis Ferbs\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Janice Franz\n    To: Steve Kerry\n    Sent: Friday, 6:09am\n    Subject: RE: Job Opportunity\n\n    Hi Steve!\n\n    Hope you're having a great day!  I just wanted to reach out to you one more time to set up a \n    quick chat.  How's Tuesday morning next week?  Let me know either way.  I'm excited to talk\n    to you!\n\n    Have a wonderful weekend.\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n",Mt))))),uo={cycleIndex:0,propKeywords:Mt,trigger:"",worldModel:Mt},so=u(si,r((function(n,e,t){var r=a(oo,uo,e);return"Err"===r.$?a(xe,F("Narrative content: "+n+" "+e+" ",r.a),t):t})),g,ao),co=t((function(n,e){return{$:"DecStat",a:n,b:e}})),fo=t((function(n,e){return{$:"IncStat",a:n,b:e}})),lo=t((function(n,e){return{$:"SetLink",a:n,b:e}})),ho=t((function(n,e){return{$:"SetStat",a:n,b:e}})),go=(Ti=r((function(n,e,t){return nr(a(xe,t(e),n))})),a(or,g,(function(n){return qt(v([a(Gt,a($t,a($t,et(qe),vt(Ge(B(" ")))),Qt(".")),qt(v([a(Gt,a($t,et((function(e){return nr(a(xe,{$:"RemoveTag",a:e},n))})),Qt("-")),Xt),a(Gt,a(Gt,et(Ti(n)),Xt),qt(v([a(Gt,a($t,et(qe),Qt("+")),a(er,(function(n){return function(e){return a(fo,e,n)}}),Vt)),a(Gt,a($t,et(qe),Qt("-")),a(er,(function(n){return function(e){return a(co,e,n)}}),Vt)),a(Gt,a($t,et(qe),Qt("=")),qt(v([a(er,(function(n){return function(e){return a(ho,e,n)}}),Vt),a(er,(function(){return function(n){return a(lo,n,"$")}}),Qt("$")),a(er,(function(n){return function(e){return a(lo,e,n)}}),Rt)]))),et((function(n){return{$:"AddTag",a:n}}))])))]))),et(Zt(n))]))}))),po=t((function(n,e){return{$:"Update",a:n,b:e}})),bo=t((function(n,e){return{$:"UpdateAll",a:n,b:e}})),vo=qt(v([a(er,mt(po("$")),Qt("$")),a(er,po,Rt),a(Gt,a($t,a($t,et(qe),Qt("(")),Qt("*")),a($t,a(er,(function(n){return bo(n)}),Si),Qt(")")))])),mo=a(Gt,a(Gt,et(t((function(n,e){return n(e)}))),vo),go),yo=function(n){return a(Er,a($t,mo,sr),n)},_o=o((function(n,e,t,r,i){if("Err"===e.$)return pr(e.a);var o=e.a;if("Err"===t.$)return pr(t.a);var a=t.a;if("Err"===r.$)return pr(r.a);var u=r.a;return"Err"===i.$?pr(i.a):br(s(n,o,a,u,i.a))})),Eo=t((function(n,e){return F(n,e)})),wo=Y(g,v([a(Eo,"ridingTheTrain",{changes:v(["PLAYER.location=$"]),conditions:g,narrative:"The train hurtles through the dark tunnel towards the next stop.",trigger:"*.station"}),a(Eo,"goToLobby",{changes:v(["PLAYER.-at_turnstile"]),conditions:g,narrative:"",trigger:"LOBBY"}),a(Eo,"goToLineTurnstile",{changes:v(["PLAYER.line=$","PLAYER.at_turnstile"]),conditions:v(["PLAYER.!at_turnstile"]),narrative:"",trigger:"*.line"}),a(Eo,"goToLinePlatform",{changes:v(["PLAYER.-at_turnstile"]),conditions:v(["PLAYER.at_turnstile","*.valid_on=$.location=PLAYER"]),narrative:"",trigger:"*.line"}),a(Eo,"jumpTurnstileFail",{changes:v(["PLAYER.-at_turnstile"]),conditions:g,narrative:"{I've never jumped a turnstile in my life, and I'm not about to start now.|I don't want to get caught.|Better to stick to the lines I have passes for.}",trigger:"*.line"}),a(Eo,"getMap",{changes:v(["MAP.location=PLAYER"]),conditions:v(["MAP.!location=PLAYER"]),narrative:'\n{I might need the full subway map.  They have a printed one I can take.\n\n(Press "M" to view the map)|}\n',trigger:"MAP_POSTER"}),a(Eo,"checkMap",{changes:g,conditions:g,narrative:"",trigger:"*.map"})])),$o=function(n){return a(Ht,"ERROR: can't find content for key "+n,a(Be,n,ao))},Ro=Y(g,v([a(Eo,"notGoingToWork",{changes:g,conditions:v(["PLAYER.destination=METRO_CENTER.chapter=1"]),narrative:"{That's not my station. |}I have to go to {the office|work}{ at Metro Center Station|}.",trigger:"*.station"}),a(Eo,"checkMorningEmails",{changes:v(["CELL_PHONE.-unread"]),conditions:g,narrative:$o("CELL_PHONE"),trigger:"CELL_PHONE"}),a(Eo,"forcePlayerToReadEmails",{changes:g,conditions:v(["CELL_PHONE.unread","PLAYER.chapter=1"]),narrative:"{I have a few minutes before my train arrives.  I could check my emails while I wait.|It's kind of my routine to reread my emails before heading in.}",trigger:"*.line"}),a(Eo,"goToWorkAndResetToNextDay",{changes:v(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread"]),conditions:v(["PLAYER.day<5.chapter=1"]),narrative:"Another day at the office...",trigger:"METRO_CENTER"}),a(Eo,"coffeeCartMonday",{changes:g,conditions:v(["PLAYER.day=1"]),narrative:$o("coffeeCartMonday"),trigger:"COFFEE_CART"}),a(Eo,"coffeeCartTuesday",{changes:g,conditions:v(["PLAYER.day=2"]),narrative:$o("coffeeCartTuesday"),trigger:"COFFEE_CART"}),a(Eo,"coffeeCartWednesday",{changes:g,conditions:v(["PLAYER.day=3"]),narrative:$o("coffeeCartWednesday"),trigger:"COFFEE_CART"}),a(Eo,"coffeeCartThursday",{changes:g,conditions:v(["PLAYER.day=4"]),narrative:$o("coffeeCartThursday"),trigger:"COFFEE_CART"}),a(Eo,"fallAsleep",{changes:v(["PLAYER.location=TWIN_BROOKS.chapter+1.destination=xxx"]),conditions:v(["PLAYER.day=5.chapter=1"]),narrative:"So tired... fall alseep!",trigger:"METRO_CENTER"})])),ko=u(fr,t((function(n,e){var t=n.a,r=n.b,o=function(){var n=r.trigger,e=r.conditions,t=r.changes,o=r.narrative;return c(_o,i((function(n,e,t,r){return{changes:t,conditions:e,narrative:r,trigger:n}})),xi(n),a(Ci,xi,e),a(Ci,yo,t),br(o))}();if("Ok"===o.$)return a(Yr,a(At,t,o.a),e);var u,s,f=o.a;return a(Dr,xe(F("Rule: "+t+" "+(s=(u=r).changes,u.trigger+" | "+a(Kr,", ",u.conditions)+" | "+a(Kr,", ",s)+" "),f)),e)})),F(Mt,g),Y(Ro,wo)),So=function(n){return n.b},To=ko.b,Lo=function(n){return"Ok"===n.$},xo=f,Co=o((function(n,e,t,r,i){for(;;){if(0>e)return a(Wi,!1,{nodeList:r,nodeListSize:t/32|0,tail:i});var o=Pi(u(xo,32,e,n));n=n,e-=32,t=t,r=a(xe,o,r),i=i}})),Ao=t((function(n,e){if(n>0){var t=n%32;return c(Co,e,n-t-32,n,g,u(xo,t,n-t,e))}return Fi})),Io=t((function(n,e){return{$:"Failure",a:n,b:e}})),Oo=t((function(n,e){return{$:"Field",a:n,b:e}})),No=t((function(n,e){return{$:"Index",a:n,b:e}})),Mo=function(n){return{$:"OneOf",a:n}},Fo=y,Po=r((function(n,e,t){for(;;){if(O(n,e)>=1)return t;var r=n,i=e-1,o=a(xe,e,t);n=r,e=i,t=o}})),Bo=t((function(n,e){return u(Po,n,e,g)})),jo=t((function(n,e){return u(Fo,n,a(Bo,0,Xi(e)-1),e)})),Yo=V,Do=function(n){return a(Kr,"\n    ",a(Ur,"\n",n))},Ho=dn,Go=t((function(n,e){return"\n\n("+vi(n+1)+") "+Do(Wo(e))})),Wo=function(n){return a(Jo,n,g)},Jo=t((function(n,e){n:for(;;)switch(n.$){case"Field":var t=n.a,r=n.b,i=function(){var n,e,r=(e=(n=t).charCodeAt(0))?Fe(55296>e||e>56319?F(B(n[0]),n.slice(1)):F(B(n[0]+n[1]),n.slice(2))):Pe;if("Nothing"===r.$)return!1;var i=r.a,o=i.b;return at(i.a)&&a(Yo,st,o)}();n=r,e=a(xe,i?"."+t:"['"+t+"']",e);continue n;case"Index":r=n.b;var o="["+vi(n.a)+"]";n=r,e=a(xe,o,e);continue n;case"OneOf":var u=n.a;if(u.b){if(u.b.b){var s=(e.b?"The Json.Decode.oneOf at json"+a(Kr,"",lr(e)):"Json.Decode.oneOf")+" failed in the following "+vi(Xi(u))+" ways:";return a(Kr,"\n\n",a(xe,s,a(jo,Go,u)))}n=r=u.a,e=e;continue n}return"Ran into a Json.Decode.oneOf with no possibilities"+(e.b?" at json"+a(Kr,"",lr(e)):"!");default:var c=n.a,f=n.b;return(s=e.b?"Problem with the value at json"+a(Kr,"",lr(e))+":\n\n    ":"Problem with the given value:\n\n")+Do(a(Ho,4,f))+"\n\n"+c}})),qo=Ln,zo=qo(g),Ko={$:"Loaded"},Uo={$:"Continue"},Qo=function(n){return{$:"Interact",a:n}},Vo={$:"NoOp"},Xo={$:"ToggleMap"},Zo=t((function(n,e){var t="Title"===n.scene.$;if(!n.loaded||n.selectScene)return Vo;switch(e){case" ":return t?Qo("LOBBY"):n.showMap?Xo:ii(n.story)?Vo:Uo;case"m":return Xo;default:return Vo}})),na=An("keyPress",nn),ea=Z,ta=An("loaded",ea),ra=Ln,ia={$:"Arriving"},oa={$:"Disembark"},aa={$:"InTransit"},ua={$:"Lobby"},sa=function(n){return{$:"Train",a:n}},ca=r((function(n,e,t){return a(je,(function(n){return a(Zr,n,t)?Fe(n):Pe}),a(je,a(Re,(function(n){return n.links}),Be(e)),a(Be,n,t)))})),fa=function(n){switch(n){case"RED_LINE":return Fe(Sr);case"YELLOW_LINE":return Fe(Tr);case"GREEN_LINE":return Fe(kr);default:return Pe}},la=function(n){return a(je,fa,u(ca,"PLAYER","line",n))},da=t((function(n,e){switch(n){case"checkMap":return F(j(e,{showMap:!e.showMap}),zo);case"goToWorkAndResetToNextDay":return F(j(e,{scene:$e(De(e.worldModel))}),zo);case"goToLineTurnstile":return F(j(e,{scene:(t=a(Ht,Sr,la(e.worldModel)),{$:"Turnstile",a:t})}),zo);case"goToLobby":return F(j(e,{scene:ua}),zo);default:return a(ft,n,v(["goToLinePlatform"]))?F(j(e,{scene:{$:"Platform",a:a(Ht,Sr,la(e.worldModel))}}),zo):F(e,zo)}var t})),ha=t((function(n,e){var t=e.b;return a(Dr,(function(n){return qo(v([n,t]))}),n(e.a))})),ga=r((function(n,e,t){return j(t,{stats:u(At,n,a(Ht,0,a(Be,n,t.stats))-e,t.stats)})})),pa=r((function(n,e,t){return j(t,{stats:u(At,n,a(Ht,0,a(Be,n,t.stats))+e,t.stats)})})),ba=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.e.d.$&&"Red"===n.e.d.a.$){var e=n.d,t=n.e,r=t.b,i=t.c,o=(l=t.d).d,a=l.e,u=t.e;return c(St,Lt,l.b,l.c,c(St,kt,n.b,n.c,c(St,Lt,e.b,e.c,e.d,e.e),o),c(St,kt,r,i,a,u))}var s=n.d,f=n.e,l=(r=f.b,i=f.c,f.d);return u=f.e,c(St,kt,n.b,n.c,c(St,Lt,s.b,s.c,s.d,s.e),c(St,Lt,r,i,l,u))}return n},va=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.d.d.$&&"Red"===n.d.d.a.$){var e=n.b,t=n.c,r=n.d,i=r.d,o=r.e,a=n.e,u=a.b,s=a.c,f=a.d,l=a.e;return c(St,Lt,r.b,r.c,c(St,kt,i.b,i.c,i.d,i.e),c(St,kt,e,t,o,c(St,Lt,u,s,f,l)))}var d=n.d,h=n.e;return u=h.b,s=h.c,f=h.d,l=h.e,c(St,kt,e=n.b,t=n.c,c(St,Lt,d.b,d.c,d.d,o=d.e),c(St,Lt,u,s,f,l))}return n},ma=e(7,Li=function(n,e,t,r,i,o,a){if("RBNode_elm_builtin"===o.$&&"Red"===o.a.$)return c(St,t,o.b,o.c,o.d,c(St,Lt,r,i,o.e,a));n:for(;;){if("RBNode_elm_builtin"===a.$&&"Black"===a.a.$){if("RBNode_elm_builtin"===a.d.$){if("Black"===a.d.a.$)return va(e);break n}return va(e)}break n}return e},(function(){return function(n){return function(e){return function(t){return function(r){return function(i){return function(o){return Li(0,n,e,t,r,i,o)}}}}}}})),ya=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$){var e=n.a,t=n.b,r=n.c,i=n.d,o=i.d,a=n.e;if("Black"===i.a.$){if("RBNode_elm_builtin"===o.$&&"Red"===o.a.$)return c(St,e,t,r,ya(i),a);var u=ba(n);if("RBNode_elm_builtin"===u.$){var s=u.e;return c(xt,u.a,u.b,u.c,ya(u.d),s)}return Tt}return c(St,e,t,r,ya(i),a)}return Tt},_a=t((function(n,e){if("RBEmpty_elm_builtin"===e.$)return Tt;var t,r,i,o,u,s,f,l,d=e.a,h=e.b,g=e.c,p=e.d,b=e.e;if(0>O(n,h)){if("RBNode_elm_builtin"===p.$&&"Black"===p.a.$){var v=p.d;if("RBNode_elm_builtin"===v.$&&"Red"===v.a.$)return c(St,d,h,g,a(_a,n,p),b);var m=ba(e);if("RBNode_elm_builtin"===m.$){var y=m.e;return c(xt,m.a,m.b,m.c,a(_a,n,m.d),y)}return Tt}return c(St,d,h,g,a(_a,n,p),b)}return a(Ea,n,(r=n,i=e,o=d,u=h,s=g,f=p,l=b,7===(t=ma).a?t.f(r,i,o,u,s,f,l):t(r)(i)(o)(u)(s)(f)(l)))})),Ea=t((function(n,e){if("RBNode_elm_builtin"===e.$){var t=e.a,r=e.b,i=e.c,o=e.d,u=e.e;if(x(n,r)){var s=function(n){for(;;){if("RBNode_elm_builtin"!==n.$||"RBNode_elm_builtin"!==n.d.$)return n;n=n.d}}(u);return"RBNode_elm_builtin"===s.$?c(xt,t,s.b,s.c,o,ya(u)):Tt}return c(xt,t,r,i,o,a(_a,n,u))}return Tt})),wa=t((function(n,e){var t=a(_a,n,e);return"RBNode_elm_builtin"===t.$&&"Red"===t.a.$?c(St,kt,t.b,t.c,t.d,t.e):t})),$a=t((function(n,e){return It(a(wa,n,e.a))})),Ra=t((function(n,e){return j(e,{tags:a($a,n,e.tags)})})),ka=r((function(n,e,t){var r=e(a(Be,n,t));return"Just"===r.$?u(At,n,r.a,t):a(wa,n,t)})),Sa=r((function(n,e,t){return u(ka,n,Dt(e),t)})),Ta=r((function(n,e,i){var o=function(n){return"$"===n?e:n},s=r((function(n,e,t){switch(e.$){case"AddTag":return u(Sa,n,Nt(e.a),t);case"RemoveTag":return u(Sa,n,Ra(e.a),t);case"SetStat":return u(Sa,n,a(Yt,e.a,e.b),t);case"IncStat":return u(Sa,n,a(pa,e.a,e.b),t);case"DecStat":return u(Sa,n,a(ga,e.a,e.b),t);default:return u(Sa,n,a(jt,e.a,o(e.b)),t)}})),c=function(n){return fr(s(n))};return u(fr,t((function(n,e){if("Update"===n.$){var r=n.b;return u(c,o(n.a),e,r)}var i=n.a;return r=n.b,u(fr,t((function(n,e){return u(c,n.a,e,r)})),e,a(li,gi(i),e))})),i,n)})),La=function(n){var e=n.pendingChanges;if("Just"===e.$){var t=e.a,r=t.a,i=t.b;return a(ha,da(t.c),F(j(n,{pendingChanges:Pe,worldModel:u(Ta,i,r,n.worldModel)}),zo))}return F(n,zo)},xa=t((function(n,e){return j(e,{status:n})})),Ca=function(n){return bn((function(e){var t=setTimeout((function(){e(pn(M))}),n);return function(){clearTimeout(t)}}))},Aa=function(n){return{$:"Perform",a:n}},Ia=pn,Oa=Ia(M),Na=vn,Ma=t((function(n,e){return a(Na,(function(e){return Ia(n(e))}),e)})),Fa=r((function(n,e,t){return a(Na,(function(e){return a(Na,(function(t){return Ia(a(n,e,t))}),t)}),e)})),Pa=Sn,Ba=t((function(n,e){var t=e.a;return function(n){return bn((function(e){e(pn(yn(n)))}))}(a(Na,Pa(n),t))}));Rn.Task={b:Oa,c:r((function(n,e){return a(Ma,(function(){return M}),(t=a(gr,Ba(n),e),u(hr,Fa(xe),Ia(g),t)));var t})),d:r((function(){return Ia(M)})),e:t((function(n,e){return Aa(a(Ma,n,e.a))})),f:void 0};var ja=Tn("Task"),Ya=t((function(n,e){return ja(Aa(a(Ma,n,e)))})),Da=t((function(n,e){return a(Ya,mt(e),Ca(n))})),Ha=function(n){return F(n,zo)},Ga=E,Wa=t((function(n,e){return u(hr,t((function(e,t){return n(e)?a(xe,e,t):t})),g,e)})),Ja=t((function(n,e){var t=a($t,io(n),sr),r=a(Er,t,e);if("Ok"===r.$){var i=r.a;return a(Wa,a(ti,Kt,We),a(Ur,"---",i))}return v(["ERROR could not parse: "+e+"\n(see console for specific error)"])})),qa=i((function(n,e,r,i){var o=function(n){return"$"===n?r:n},s=t((function(e,t){return F(e,a(Re,o,(function(e){return a(Ht,pr("Unable to find entity for id: "+e),a(Dt,a(Re,t,br),a(Be,e,n.worldModel)))})))})),c=Fr(v([a(s,"name",(function(n){return n.name})),a(s,"description",(function(n){return n.description}))])),f=u(ka,e,(function(n){return Fe(a(Ht,1,a(Dt,dt(1),n)))}),n.ruleMatchCounts);return F(a(Ja,{cycleIndex:a(Ht,0,a(Be,e,n.ruleMatchCounts)),propKeywords:c,trigger:r,worldModel:n.worldModel},i),f)})),za=r((function(n,e,t){return!ii(a(li,a(pi,n,t),e))})),Ka=r((function(n,e,t){return"Match"===(r=a(pi,e,t)).$?x(r.a,e)&&!ii(a(li,r,n)):!ii(a(li,a(hi,e,r.a),n));var r})),Ua=function(n){var e=n.trigger,r=n.conditions,i=function(n){return Xi("Match"===n.$?n.b:n.a)},o="Match"===e.$?100+i(e):0+i(e);return u(fr,t((function(n,e){return"Match"===n.$?10+i(n)+e:0+i(n)+e})),0,r)+o},Qa=function(n){return n.b?Fe(n.a):Pe},Va=_,Xa=r((function(n,e,r){return Qa(lr(a(Va,a(Re,So,Ua),Oe(a(ci,t((function(e,t){return u(Ka,r,n,t.trigger)&&a(ri,a(za,n,r),t.conditions)})),e)))))})),Za=ko.a,nu=t((function(n,e){return t="Ok"===(i=xi(r=n)).$?i.a:a(Ga,"ERROR parsing matcher:"+r+"\n"+mi(i.a),a(hi,"PARSING_ERROR",g)),a(li,t,e);var t,r,i})),eu=t((function(n,e){return!ii(a(nu,n,e))})),tu=t((function(n,e){var t=u(Xa,n,Za,e.worldModel);if("Nothing"===t.$){var r=a(eu,n+".silent",e.worldModel)?F(g,e.ruleMatchCounts):a(Ht,F(v(["ERROR: unablle to find entity for "+n]),e.ruleMatchCounts),a(Dt,a(Re,(function(n){return n.description}),u(qa,e,n,n)),a(Be,n,e.worldModel)));return F(j(e,{ruleMatchCounts:d=r.b,story:i=r.a}),zo)}var i,o=t.a,c=o.a,f=o.b,l=s(qa,e,c,n,f.narrative),d=l.b;return a(ha,ii(i=l.a)?La:Ha,F(j(e,{pendingChanges:Fe(P(n,f.changes,c)),ruleMatchCounts:d,story:i}),zo))})),ru=t((function(n,e){n:for(;;){if(n>0){if(e.b){n-=1,e=e.b;continue n}return e}return e}})),iu=t((function(n,e){if(e.gameOver)return Ha(e);switch(n.$){case"NoOp":return Ha(e);case"Loaded":return F(j(e,{loaded:!0}),zo);case"LoadScene":var r=n.a,i=r.a,o=r.b;return u(fr,t((function(n,e){return a(ha,La,a(ha,iu(Qo(n)),e))})),F(j(i,{selectScene:!1}),zo),o);case"Interact":var s=n.a;return a(ha,tu(s),F(j(e,{history:a(Ga,"history\n",Y(e.history,v([s])))}),zo));case"Delay":var c=n.a;return F(e,a(Ya,mt(n.b),Ca(c)));case"ToggleMap":return F(a(eu,"MAP.location=PLAYER",e.worldModel)?j(e,{showMap:!e.showMap}):e,zo);case"Go":return F(j(e,{scene:n.a}),zo);case"BoardTrain":var f=n.b;return F(j(e,{scene:sa({line:n.a,status:aa})}),a(Da,800,Qo(f)));case"Continue":return Xi(e.story)>1?F(j(e,{story:a(ru,1,e.story)}),zo):a(ha,(function(n){var e=n.scene;return"Train"===e.$?F(j(n,{scene:sa(a(xa,ia,e.a))}),a(Da,900,oa)):F(n,zo)}),a(ha,La,F(j(e,{story:g}),zo)));default:return F(j(e,{scene:ua}),zo)}})),ou={$:"CentralGuardOffice"},au=function(n){return{$:0,a:n}},uu=function(n){switch(n.$){case"Normal":return 0;case"MayStopPropagation":return 1;case"MayPreventDefault":return 2;default:return 3}},su=jn("div"),cu=jn("img"),fu=hn,lu=t((function(n,e){return a(Hn,n,fu(e))})),du=lu("className"),hu=Dn,gu=t((function(n,e){return a(hu,n,{$:"Normal",a:e})})),pu=function(n){return a(gu,"click",au(n))},bu=a(su,v([pu(Xo),du("map")]),v([a(cu,v([du("map__image"),("img/map-red-yellow-green.jpg",a(lu,"src",/^\s*(javascript:|data:text\/html)/i.test("img/map-red-yellow-green.jpg")?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':"img/map-red-yellow-green.jpg"))]),g)])),vu=jn("h1"),mu=jn("li"),yu=Pn,_u=jn("ul"),Eu=jn("span"),wu=function(n){return Yn(function(n){return"script"==n?"p":n}(n))},$u=function(n){return"Just"===n.$},Ru=le({defaultHighlighting:Pe,githubFlavored:Fe({breaks:!1,tables:!1}),sanitize:!0,smartypants:!1}),ku=jn("a"),Su=jn("h2"),Tu=jn("p"),Lu=function(n){return a(lu,"href",/^javascript:/i.test((e=n).replace(/\s/g,""))?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':e);var e},xu=qi(v([F("The daily grind",v(["Go to work"])),F("Deadline",v(["Get back to the office in time","Give your presentation"]))])),Cu=v([{chapters:qi(v(["Who was that girl in the yellow dress?"])),id:"down_the_rabbit_hole",name:"Down the rabbit hole"}]),Au=function(n){return a(Ht,{name:"ERRORR getting station: "+n},a(Be,n,Pr))},Iu=function(n){var e=n.a,t=n.b;return a(su,v([du("Sign__item Sign__item--interactable"),pu(Qo(e))]),v([yu(t)]))},Ou=function(n){return a(su,v([du("Sign__item")]),v([yu(n)]))},Nu=t((function(n,e){return u(fr,t((function(n,t){var r=n.a;return a(ft,e,n.b)?a(xe,r,t):t})),g,n)})),Mu=function(n){var e=Ir(n);return a(su,v([du("Connection "+e.id),pu(Qo(e.id))]),v([yu(vi(e.number))]))},Fu=t((function(n,e){return a(su,v([du("Connections")]),a(gr,Mu,a(Va,a(Re,Ir,(function(n){return n.number})),a(Nu,n,e))))})),Pu=r((function(n,e,t){var r=n(e);return"Just"===r.$?a(xe,r.a,t):t})),Bu=t((function(n,e){return u(hr,Pu(n),g,e)})),ju=r((function(n,e,r){var i=Au(r).name+" Station",o=t((function(n,e){return ii(e)?yu(""):a(su,v([du("Sign__section")]),v([a(su,v([du("Sign__header3")]),v([yu(n)])),a(su,v([du("Sign__list")]),e)]))})),s=a(nu,"*.item.location="+r,e),c=a(nu,"*.item.location=PLAYER",e),f=a(su,v([du("Sign Sign--inventory")]),v([a(su,v([du("Sign__header2")]),v([yu("Inventory")])),a(su,v([du("Inventory")]),a(gr,(function(n){var e=n.a;return a(su,v([du("Inventory__item icon--"+e),pu(Qo(e))]),g)}),c))])),l=a(Bu,(function(n){return a(Dt,mt(n.name),u(Ye,"PLAYER",n.id,e))}),Cu),d=a(nu,"*.character.location="+r,e),h=a(su,v([du("Sign Sign--station")]),v([a(su,v([du("Sign__header1")]),v([yu(i)])),a(su,v([du("Sign__split")]),v([a(su,v([du("Sign__left")]),v([a(Fu,n,r)])),a(su,v([du("Sign__right")]),a(gr,a(Re,Dr((function(n){return n.name})),Iu),Y(d,s)))]))])),p=a(Ht,P(0,"Error, can't find current chapter",g),a(je,(function(n){return a(Dt,(function(e){return P(n,e.a,e.b)}),a(Qi,n-1,xu))}),u(Ye,"PLAYER","chapter",e))),b=p.b,m=p.c,y="Chapter "+vi(p.a)+": "+b,_=a(su,v([du("Sign Sign--chapter")]),v([a(su,v([du("Sign__header2")]),v([yu(y)])),a(o,"Goals",a(gr,Ou,m)),a(o,"Distractions",a(gr,Ou,l))]));return a(su,v([du("Scene Lobby")]),v([a(su,v([du("Lobby__scene")]),v([h,_,f]))]))})),Yu=t((function(n,e){return{$:"BoardTrain",a:n,b:e}})),Du=I,Hu=function(n){return du(a(Kr," ",a(gr,Nr,a(Wa,So,n))))},Gu=i((function(n,e,r,i){var o,u=Ir(r),s=a(su,v([du("Line_map__info")]),v([Mu(r),yu(u.name)])),c=t((function(t,o){return a(su,v([du("Stop"),pu(x(o,e)?Vo:x(i,Pe)?a(Yu,r,o):x(i,Fe(o))?a(Yu,r,o):Qo(o))]),v([a(su,v([du("Stop__connections")]),a(gr,Mu,a(Wa,Du(t),function(e){return a(Va,a(Re,Ir,(function(n){return n.number})),a(Nu,n,e))}(o)))),a(su,v([Hu(v([F("Stop__dot",!0),F(Ir(r).id,!0),F("Stop__dot--current",x(o,e))]))]),g),a(su,v([Hu(v([F("Stop__name",!0),F("Stop__name--current",x(o,e))]))]),v([yu(Au(o).name)]))]))}));return a(su,v([du("Scene Platform")]),v([(o=Qo("LOBBY"),a(su,v([du("Exit"),pu(o)]),v([a(su,v([du("Arrow")]),v([yu(" ")])),a(su,v([du("Exit__text")]),v([yu("Exit")]))]))),a(su,v([du("Line_map")]),v([s,a(su,v([du("Line_map__stops")]),Y(v([a(su,v([du("Line_map__line "+u.id)]),g)]),a(gr,c(r),u.stations)))]))]))})),Wu=t((function(n,e){var t=Ir(e),r=!ii(a(nu,"*.valid_on="+t.id+".location=PLAYER",n));return a(su,v([du("Scene Turnstile")]),v([a(su,v([du("Turnstile__dialog")]),v(r?[a(su,v([du("Turnstile__status")]),v([a(su,v([du("Turnstile__icon icon--enter")]),g),a(su,v([du("Turnstile__status_text")]),v([yu("Please proceed")]))])),a(su,v([du("Turnstile__buttons")]),v([a(su,v([du("Turnstile__button"),pu(Qo(t.id))]),v([yu("Continue")]))]))]:[a(su,v([du("Turnstile__status")]),v([a(su,v([du("Turnstile__icon icon--no-enter")]),g),a(su,v([du("Turnstile__status_text")]),v([yu("Invalid ticket")]))])),a(su,v([du("Turnstile__buttons")]),v([a(su,v([du("Turnstile__button"),pu(Qo("LOBBY"))]),v([yu("Go back")])),a(su,v([du("Turnstile__button"),pu(Qo(t.id))]),v([yu("Jump turnstile")]))]))]))]))})),Ju=jn("code"),qu=jn("pre"),zu=tn,Ku=en;!function(e){n.Elm?function n(e,t,r){for(var i in r)i in t?"init"==i?T(6,e):n(e+"."+i,t[i],r[i]):t[i]=r[i]}("Elm",n.Elm,e):n.Elm=e}({Main:{init:me({init:function(n){var e=Hr.a;return F({gameOver:!1,history:g,loaded:!1,parseErrors:Y(Hr.b,Y(To,so)),pendingChanges:Pe,ruleMatchCounts:Mt,scene:$e(De(e)),selectScene:n.selectScene,showMap:!1,story:g,worldModel:e},zo)},subscriptions:function(n){return ra(v([ta(mt(Ko)),na(Zo(n))]))},update:iu,view:function(n){return{body:v([function(n){var e,t,r=a(eu,"PLAYER.caught",n.worldModel)?ou:n.scene,i=Or,o=a(Ht,"ERROR getting the current location of player from worldmodel",u(ca,"PLAYER","location",n.worldModel));return n.loaded?ii(n.parseErrors)?n.selectScene?function(n){var e=v([F("Intro",F(n,g)),F("Arrive at Twin Brooks",F(n,v(["LOBBY","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","COFFEE_CART","COFFEE_CART","COFFEE_CART","CELL_PHONE","COFFEE_CART","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","RED_LINE","CELL_PHONE","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","LOBBY","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE_CART","CELL_PHONE","RED_LINE","RED_LINE","METRO_CENTER","MAP_POSTER","MAP","LOBBY"])))]);return a(su,v([du("SelectScene")]),v([a(vu,g,v([yu("Select a scene to jump to:")])),a(_u,g,a(gr,(function(n){var e,t=n.a;return a(mu,v([pu((e=n.b,{$:"LoadScene",a:e}))]),v([yu(t)]))}),e))]))}(n):u(wu,"div",v([du("game")]),v([function(){switch(r.$){case"Title":return F("title",(t=r.a,a(su,v([du("Scene TitleScene")]),v([a(su,v([du("TitleContent")]),v([a(vu,v([du("Title")]),v([yu(t)])),a(Eu,v([du("StoryLine__continue"),pu(Qo("LOBBY"))]),v([yu("Continue...")]))]))]))));case"CentralGuardOffice":return F("centralGuardOffice",a(su,v([du("Scene CentralGuardOffice")]),v([a(Su,v([du("CentralGuardOffice--top")]),v([yu("Central Guard Office")])),a(Tu,v([du("CentralGuardOffice--content")]),v([a(Tu,g,v([yu("You are caught! ")])),a(Tu,g,v([yu("End of demo, thanks for playing!")])),a(Tu,g,v([yu("Made on the "),a(ku,v([Lu("http://elmnarrativeengine.com")]),v([yu("Elm Narrative Engine")]))])),a(Tu,g,v([yu("Contact "),a(ku,v([Lu("mailto:jeff@elmnarrativeengine.com")]),v([yu("jeff@elmnarrativeengine.com")]))]))]))])));case"Lobby":return F("lobby",u(ju,i,n.worldModel,o));case"Platform":return F("platform",s(Gu,i,o,e=r.a,u(ca,"PLAYER","destination",n.worldModel)));case"Turnstile":return F("turnstile",a(Wu,n.worldModel,e=r.a));default:var e=r.a.line;return F("train",(f=(c={arrivingAtStation:x(r.a.status,ia)?Fe(o):Pe,line:e}).arrivingAtStation,l=a(Ht,Ir(c.line).name,a(Dt,(function(n){return"Arriving at: "+Au(n).name}),f)),d=a(su,v([du("train__ticker")]),v([a(su,v([du("train__info")]),v([yu(l)]))])),v([du("train__foreground")]),v([a(su,v([du("train__top")]),v([a(su,v([du("train__ticker")]),v([a(su,v([du("train__info")]),v([yu(l)]))]))])),a(su,v([du("train__doors")]),v([a(su,v([du("train__door train__door--left")]),g),a(su,v([du("train__door train__door--right")]),g)]))]),v([du("train__background")]),a(su,v([du("Scene train")]),v([d]))))}var t,c,f,l,d}(),F("story",(e=a(Ht,"",Qa(n.story)),We(e)?yu(""):(t=e,u(wu,"div",v([du("StoryLine")]),v([F(t,a(su,v([du("StoryLine__content")]),v([a(Ru,g,t),a(Eu,v([du("StoryLine__continue"),pu(Uo)]),v([yu("Continue...")]))])))]))))),F("map",n.showMap?bu:yu(""))])):a(su,v([du("SelectScene Errors")]),v([a(vu,g,v([yu("Errors when parsing!  Please fix:")])),a(_u,g,a(gr,(function(n){var e=n.b;return a(mu,g,v([a(qu,g,v([a(Ju,g,v([yu(n.a)]))])),yu(mi(e))]))}),n.parseErrors))])):a(su,v([du("Loading")]),v([yu("Loading...")]))}(n)]),title:"Subway!"}}})(a(zu,(function(n){return au({selectScene:n})}),a(Ku,"selectScene",ea)))(0)}})}(this)},function(n,e,t){var r={"./gurad-office.jpg":13,"./map-red-yellow-green.jpg":14,"./riding-train.jpg":15,"./subway-lobby.jpg":16,"./subway-turnstile.jpg":17,"./train.jpg":18};function i(n){var e=o(n);return t(e)}function o(n){if(!t.o(r,n)){var e=Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}i.keys=function(){return Object.keys(r)},i.resolve=o,n.exports=i,i.id=12},function(n){n.exports="../../img/gurad-office.jpg"},function(n){n.exports="../../img/map-red-yellow-green.jpg"},function(n){n.exports="../../img/riding-train.jpg"},function(n){n.exports="../../img/subway-lobby.jpg"},function(n){n.exports="../../img/subway-turnstile.jpg"},function(n){n.exports="../../img/train.jpg"}]);