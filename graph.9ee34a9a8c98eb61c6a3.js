!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=34)}({34:function(e,n,t){t(35);const{Elm:r}=t(37);r.RuleGraph.init({node:document.getElementById("main")}).ports.drawGraph.subscribe(function(e){setTimeout(function(){var n=Viz(e,options={format:"svg",engine:"dot",scale:void 0,images:[],totalMemory:16777216}),t=(new DOMParser).parseFromString(n,"image/svg+xml"),r=document.querySelector("#graph");r.replaceChild(t.documentElement,r.firstChild)})},0)},35:function(){},37:function(){!function(e){"use strict";function n(e,n,t){return t.a=e,t.f=n,t}function t(e){return n(2,e,function(n){return function(t){return e(n,t)}})}function r(e){return n(3,e,function(n){return function(t){return function(r){return e(n,t,r)}}})}function o(e){return n(4,e,function(n){return function(t){return function(r){return function(o){return e(n,t,r,o)}}}})}function i(e){return n(5,e,function(n){return function(t){return function(r){return function(o){return function(i){return e(n,t,r,o,i)}}}}})}function a(e,n,t){return 2===e.a?e.f(n,t):e(n)(t)}function u(e,n,t,r){return 3===e.a?e.f(n,t,r):e(n)(t)(r)}function c(e,n,t,r,o){return 4===e.a?e.f(n,t,r,o):e(n)(t)(r)(o)}function s(e,n,t,r,o,i){return 5===e.a?e.f(n,t,r,o,i):e(n)(t)(r)(o)(i)}console.warn("Compiled in DEV mode. Follow the advice at https://elm-lang.org/0.19.0/optimize for better performance and smaller assets.");var l=r(function(e,n,t){for(var r=Array(e),o=0;e>o;o++)r[o]=t(n+o);return r}),f=t(function(e,n){for(var t=Array(e),r=0;e>r&&n.b;r++)t[r]=n.a,n=n.b;return t.length=r,j(t,n)}),h=r(function(e,n,t){for(var r=t.length-1;r>=0;r--)n=a(e,t[r],n);return n}),d={$:"[]"};function g(e,n){return{$:"::",a:e,b:n}}var b=t(g);function y(e){for(var n=d,t=e.length;t--;)n=g(e[t],n);return n}function p(e){for(var n=[];e.b;e=e.b)n.push(e.a);return n}var v=r(function(e,n,t){for(var r=[];n.b&&t.b;n=n.b,t=t.b)r.push(a(e,n.a,t.a));return y(r)}),m=t(function(e,n){return y(p(n).sort(function(n,t){return L(e(n),e(t))}))}),w=t(function(e,n){return console.log(e+": "+k(n)),n});function k(e){return function e(n,t){if("function"==typeof t)return Y(n,"<function>");if("boolean"==typeof t)return T(n,t?"True":"False");if("number"==typeof t)return function(e,n){return e?"[95m"+n+"[0m":n}(n,t+"");if(t instanceof String)return function(e,n){return e?"[92m"+n+"[0m":n}(n,"'"+$(t,!0)+"'");if("string"==typeof t)return function(e,n){return e?"[93m"+n+"[0m":n}(n,'"'+$(t,!1)+'"');if("object"==typeof t&&"$"in t){var r=t.$;if("number"==typeof r)return Y(n,"<internals>");if("#"===r[0]){var o=[];for(var i in t)"$"!==i&&o.push(e(n,t[i]));return"("+o.join(",")+")"}if("Set_elm_builtin"===r)return T(n,"Set")+_(n,".fromList")+" "+e(n,$n(t));if("RBNode_elm_builtin"===r||"RBEmpty_elm_builtin"===r)return T(n,"Dict")+_(n,".fromList")+" "+e(n,wn(t));if("Array_elm_builtin"===r)return T(n,"Array")+_(n,".fromList")+" "+e(n,pn(t));if("::"===r||"[]"===r){for(o="[",t.b&&(o+=e(n,t.a),t=t.b);t.b;t=t.b)o+=","+e(n,t.a);return o+"]"}for(var a in o="",t)if("$"!==a){var u=e(n,t[a]),c=u[0];o+=" "+("{"===c||"("===c||"["===c||"<"===c||'"'===c||0>u.indexOf(" ")?u:"("+u+")")}return T(n,r)+o}if("object"==typeof t){for(var s in o=[],t){var l="_"===s[0]?s.slice(1):s;o.push(_(n,l)+" = "+e(n,t[s]))}return 0===o.length?"{}":"{ "+o.join(", ")+" }"}return Y(n,"<internals>")}(!1,e)}function $(e,n){var t=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return n?t.replace(/\'/g,"\\'"):t.replace(/\"/g,'\\"')}function T(e,n){return e?"[96m"+n+"[0m":n}function _(e,n){return e?"[37m"+n+"[0m":n}function Y(e,n){return e?"[94m"+n+"[0m":n}function B(e,n,t,r,o){switch(e){case 0:throw Error('What node should I take over? In JavaScript I need something like:\n\n    Elm.Main.init({\n        node: document.getElementById("elm-node")\n    })\n\nYou need to do this with any Browser.sandbox or Browser.element program.');case 1:throw Error("Browser.application programs cannot handle URLs like this:\n\n    "+document.location.href+"\n\nWhat is the root? The root of your file system? Try looking at this program with `elm reactor` or some other server.");case 2:throw Error("Problem with the flags given to your Elm program on initialization.\n\n"+n);case 3:throw Error("There can only be one port named `"+n+"`, but your program has multiple.");case 4:throw Error("Trying to send an unexpected type of value through port `"+n+"`:\n"+t);case 5:throw Error('Trying to use `(==)` on functions.\nThere is no way to know if functions are "the same" in the Elm sense.\nRead more about this at https://package.elm-lang.org/packages/elm/core/latest/Basics#== which describes why it is this way and what the better version will look like.');case 6:throw Error("Your page is loading multiple Elm scripts with a module named "+n+". Maybe a duplicate script is getting loaded accidentally? If not, rename one of them so I know which is which!");case 8:var i=r;throw Error("TODO in module `"+n+"` "+R(t)+"\n\n"+i);case 9:var a=r;throw i=o,Error("TODO in module `"+n+"` from the `case` expression "+R(t)+"\n\nIt received the following value:\n\n    "+k(a).replace("\n","\n    ")+"\n\nBut the branch that handles it says:\n\n    "+i.replace("\n","\n    "));case 10:throw Error("Bug in https://github.com/elm/virtual-dom/issues");case 11:throw Error("Cannot perform mod 0. Division by zero error.")}}function R(e){return e.start.line===e.end.line?"on line "+e.start.line:"on lines "+e.start.line+" through "+e.end.line}function S(e,n){for(var t,r=[],o=A(e,n,0,r);o&&(t=r.pop());o=A(t.a,t.b,0,r));return o}function A(e,n,t,r){if(t>100)return r.push(j(e,n)),!0;if(e===n)return!0;if("object"!=typeof e||null===e||null===n)return"function"==typeof e&&B(5),!1;for(var o in"Set_elm_builtin"===e.$&&(e=$n(e),n=$n(n)),"RBNode_elm_builtin"!==e.$&&"RBEmpty_elm_builtin"!==e.$||(e=wn(e),n=wn(n)),e)if(!A(e[o],n[o],t+1,r))return!1;return!0}function L(e,n,t){if("object"!=typeof e)return e===n?0:n>e?-1:1;if(e instanceof String){var r=e.valueOf(),o=n.valueOf();return r===o?0:o>r?-1:1}if("#"===e.$[0])return(t=L(e.a,n.a))?t:(t=L(e.b,n.b))?t:L(e.c,n.c);for(;e.b&&n.b&&!(t=L(e.a,n.a));e=e.b,n=n.b);return t||(e.b?1:n.b?-1:0)}var M=t(function(e,n){var t=L(e,n);return 0>t?bn:t?vn:gn}),N={$:"#0"};function j(e,n){return{$:"#2",a:e,b:n}}function E(e){return new String(e)}function O(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function P(e,n){if("string"==typeof e)return e+n;if(!e.b)return n;var t=g(e.a,n);e=e.b;for(var r=t;e.b;e=e.b)r=r.b=g(e.a,n);return t}var C=t(function(e,n){return n.split(e)}),x=t(function(e,n){return n.join(e)}),F=t(function(e,n){for(var t=n.length;t--;){var r=n[t],o=n.charCodeAt(t);if(56320>o||o>57343||(r=n[--t]+r),!e(E(r)))return!1}return!0}),I=Math.ceil,H=Math.floor,D=Math.log;function z(e){return{$:2,b:e}}z(function(e){return"number"!=typeof e?Z("an INT",e):e>-2147483647&&2147483647>e&&(0|e)===e?Yr(e):!isFinite(e)||e%1?Z("an INT",e):Yr(e)}),z(function(e){return"boolean"==typeof e?Yr(e):Z("a BOOL",e)}),z(function(e){return"number"==typeof e?Yr(e):Z("a FLOAT",e)}),z(function(e){return Yr(te(e))});var W=z(function(e){return"string"==typeof e?Yr(e):e instanceof String?Yr(e+""):Z("a STRING",e)}),G=t(function(e,n){return{$:6,d:e,b:n}}),q=r(function(e,n,t){return function(e){return{$:9,f:e,g:[n,t]}}(e)}),J=t(function(e,n){return U(e,re(n))});function U(e,n){switch(e.$){case 2:return e.b(n);case 5:return null===n?Yr(e.c):Z("null",n);case 3:return Q(n)?K(e.b,n,y):Z("a LIST",n);case 4:return Q(n)?K(e.b,n,V):Z("an ARRAY",n);case 6:var t=e.d;if("object"!=typeof n||null===n||!(t in n))return Z("an OBJECT with a field named `"+t+"`",n);var r=U(e.b,n[t]);return Br(r)?r:_r(a(Sr,t,r.a));case 7:var o=e.e;return Q(n)?n.length>o?(r=U(e.b,n[o]),Br(r)?r:_r(a(Ar,o,r.a))):Z("a LONGER array. Need index "+o+" but only see "+n.length+" entries",n):Z("an ARRAY",n);case 8:if("object"!=typeof n||null===n||Q(n))return Z("an OBJECT",n);var i=d;for(var u in n)if(n.hasOwnProperty(u)){if(r=U(e.b,n[u]),!Br(r))return _r(a(Sr,u,r.a));i=g(j(u,r.a),i)}return Yr(Cn(i));case 9:for(var c=e.f,s=e.g,l=0;s.length>l;l++){if(r=U(s[l],n),!Br(r))return r;c=c(r.a)}return Yr(c);case 10:return r=U(e.b,n),Br(r)?U(e.h(r.a),n):r;case 11:for(var f=d,h=e.g;h.b;h=h.b){if(r=U(h.a,n),Br(r))return r;f=g(r.a,f)}return _r(Lr(Cn(f)));case 1:return _r(a(Rr,e.a,te(n)));case 0:return Yr(e.a)}}function K(e,n,t){for(var r=n.length,o=Array(r),i=0;r>i;i++){var u=U(e,n[i]);if(!Br(u))return _r(a(Ar,i,u.a));o[i]=u.a}return Yr(t(o))}function Q(e){return Array.isArray(e)||"function"==typeof FileList&&e instanceof FileList}function V(e){return a(Tr,e.length,function(n){return e[n]})}function Z(e,n){return _r(a(Rr,"Expecting "+e,te(n)))}function X(e,n){if(e===n)return!0;if(e.$!==n.$)return!1;switch(e.$){case 0:case 1:return e.a===n.a;case 2:return e.b===n.b;case 5:return e.c===n.c;case 3:case 4:case 8:return X(e.b,n.b);case 6:return e.d===n.d&&X(e.b,n.b);case 7:return e.e===n.e&&X(e.b,n.b);case 9:return e.f===n.f&&ee(e.g,n.g);case 10:return e.h===n.h&&X(e.b,n.b);case 11:return ee(e.g,n.g)}}function ee(e,n){var t=e.length;if(t!==n.length)return!1;for(var r=0;t>r;r++)if(!X(e[r],n[r]))return!1;return!0}var ne=t(function(e,n){return JSON.stringify(re(n),null,e)+""});function te(e){return{$:0,a:e}}function re(e){return e.a}function oe(e){return{$:0,a:e}}function ie(e){return{$:2,b:e,c:null}}te(null);var ae=t(function(e,n){return{$:3,b:e,d:n}}),ue=0;function ce(e){var n={$:0,e:ue++,f:e,g:null,h:[]};return fe(n),n}var se=!1,le=[];function fe(e){if(le.push(e),!se){for(se=!0;e=le.shift();)he(e);se=!1}}function he(e){for(;e.f;){var n=e.f.$;if(0===n||1===n){for(;e.g&&e.g.$!==n;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else{if(2===n)return void(e.f.c=e.f.b(function(n){e.f=n,fe(e)}));if(5===n){if(0===e.h.length)return;e.f=e.f.b(e.h.shift())}else e.g={$:3===n?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}}var de={};function ge(e,n){var t={g:n,h:void 0},r=e.c,o=e.d,i=e.e,s=e.f;return t.h=ce(a(ae,function e(n){return a(ae,e,{$:5,b:function(e){var a=e.a;return 0===e.$?u(o,t,a,n):i&&s?c(r,t,a.i,a.j,n):u(r,t,i?a.i:a.j,n)}})},e.b))}var be=t(function(e,n){return ie(function(t){e.g(n),t(oe(N))})});function ye(e){return function(n){return{$:1,k:e,l:n}}}function pe(e,n,t){var r,o={};for(var i in ve(!0,n,o,null),ve(!1,t,o,null),e)(r=e[i]).h.push({$:"fx",a:o[i]||{i:d,j:d}}),fe(r)}function ve(e,n,t,r){switch(n.$){case 1:var o=n.k,i=function(e,t,r){return a(e?de[t].e:de[t].f,function(e){for(var n=r;n;n=n.q)e=n.p(e);return e},n.l)}(e,o,r);return void(t[o]=function(e,n,t){return t=t||{i:d,j:d},e?t.i=g(n,t.i):t.j=g(n,t.j),t}(e,i,t[o]));case 2:for(var u=n.m;u.b;u=u.b)ve(e,u.a,t,r);return;case 3:return void ve(e,n.o,t,{p:n.n,q:r})}}var me,we=t(function(e,n){return n}),ke="undefined"!=typeof document?document:{};function $e(e,n){e.appendChild(n)}function Te(e){return{$:0,a:e}}var _e=t(function(e,n){return t(function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b||0,o.push(a)}return i+=o.length,{$:1,c:n,d:Ae(t),e:o,f:e,b:i}})})(void 0);t(function(e,n){return t(function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b.b||0,o.push(a)}return i+=o.length,{$:2,c:n,d:Ae(t),e:o,f:e,b:i}})})(void 0);var Ye,Be=t(function(e,n){return{$:"a0",n:e,o:n}}),Re=t(function(e,n){return{$:"a2",n:e,o:n}}),Se=t(function(e,n){return{$:"a3",n:e,o:n}});function Ae(e){for(var n={};e.b;e=e.b){var t=e.a,r=t.$,o=t.n,i=t.o;if("a2"!==r){var a=n[r]||(n[r]={});"a3"===r&&"class"===o?Le(a,o,i):a[o]=i}else"className"===o?Le(n,o,re(i)):n[o]=re(i)}return n}function Le(e,n,t){var r=e[n];e[n]=r?r+" "+t:t}function Me(e,n){var t=e.$;if(5===t)return Me(e.k||(e.k=e.m()),n);if(0===t)return ke.createTextNode(e.a);if(4===t){for(var r=e.k,o=e.j;4===r.$;)"object"!=typeof o?o=[o,r.j]:o.push(r.j),r=r.k;var i={j:o,p:n};return(a=Me(r,i)).elm_event_node_ref=i,a}if(3===t)return Ne(a=e.h(e.g),n,e.d),a;var a=e.f?ke.createElementNS(e.f,e.c):ke.createElement(e.c);me&&"a"==e.c&&a.addEventListener("click",me(a)),Ne(a,n,e.d);for(var u=e.e,c=0;u.length>c;c++)$e(a,Me(1===t?u[c]:u[c].b,n));return a}function Ne(e,n,t){for(var r in t){var o=t[r];"a1"===r?je(e,o):"a0"===r?Pe(e,n,o):"a3"===r?Ee(e,o):"a4"===r?Oe(e,o):("value"!==r||"checked"!==r||e[r]!==o)&&(e[r]=o)}}function je(e,n){var t=e.style;for(var r in n)t[r]=n[r]}function Ee(e,n){for(var t in n){var r=n[t];r?e.setAttribute(t,r):e.removeAttribute(t)}}function Oe(e,n){for(var t in n){var r=n[t],o=r.f,i=r.o;i?e.setAttributeNS(o,t,i):e.removeAttributeNS(o,t)}}function Pe(e,n,t){var r=e.elmFs||(e.elmFs={});for(var o in t){var i=t[o],a=r[o];if(i){if(a){if(a.q.$===i.$){a.q=i;continue}e.removeEventListener(o,a)}a=Ce(n,i),e.addEventListener(o,a,Ye&&{passive:2>fi(i)}),r[o]=a}else e.removeEventListener(o,a),r[o]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Ye=!0}}))}catch(Ze){}function Ce(e,n){function t(n){var r=t.q,o=U(r.a,n);if(Br(o)){for(var i,a=fi(r),u=o.a,c=a?3>a?u.a:u.message:u,s=1==a?u.b:3==a&&u.stopPropagation,l=(s&&n.stopPropagation(),(2==a?u.b:3==a&&u.preventDefault)&&n.preventDefault(),e);i=l.j;){if("function"==typeof i)c=i(c);else for(var f=i.length;f--;)c=i[f](c);l=l.p}l(c,s)}}return t.q=n,t}function xe(e,n){return e.$==n.$&&X(e.a,n.a)}function Fe(e,n,t,r){var o={$:n,r:t,s:r,t:void 0,u:void 0};return e.push(o),o}function Ie(e,n,t,r){if(e!==n){var o=e.$,i=n.$;if(o!==i){if(1!==o||2!==i)return void Fe(t,0,r,n);n=function(e){for(var n=e.e,t=n.length,r=Array(t),o=0;t>o;o++)r[o]=n[o].b;return{$:1,c:e.c,d:e.d,e:r,f:e.f,b:e.b}}(n),i=1}switch(i){case 5:for(var a=e.l,u=n.l,c=a.length,s=c===u.length;s&&c--;)s=a[c]===u[c];if(s)return void(n.k=e.k);n.k=n.m();var l=[];return Ie(e.k,n.k,l,0),void(l.length>0&&Fe(t,1,r,l));case 4:for(var f=e.j,h=n.j,d=!1,g=e.k;4===g.$;)d=!0,"object"!=typeof f?f=[f,g.j]:f.push(g.j),g=g.k;for(var b=n.k;4===b.$;)d=!0,"object"!=typeof h?h=[h,b.j]:h.push(b.j),b=b.k;return d&&f.length!==h.length?void Fe(t,0,r,n):((d?function(e,n){for(var t=0;e.length>t;t++)if(e[t]!==n[t])return!1;return!0}(f,h):f===h)||Fe(t,2,r,h),void Ie(g,b,t,r+1));case 0:return void(e.a!==n.a&&Fe(t,3,r,n.a));case 1:return void He(e,n,t,r,ze);case 2:return void He(e,n,t,r,We);case 3:if(e.h!==n.h)return void Fe(t,0,r,n);var y=De(e.d,n.d);y&&Fe(t,4,r,y);var p=n.i(e.g,n.g);return void(p&&Fe(t,5,r,p))}}}function He(e,n,t,r,o){if(e.c===n.c&&e.f===n.f){var i=De(e.d,n.d);i&&Fe(t,4,r,i),o(e,n,t,r)}else Fe(t,0,r,n)}function De(e,n,t){var r;for(var o in e)if("a1"!==o&&"a0"!==o&&"a3"!==o&&"a4"!==o)if(o in n){var i=e[o],a=n[o];i===a&&"value"!==o&&"checked"!==o||"a0"===t&&xe(i,a)||((r=r||{})[o]=a)}else(r=r||{})[o]=t?"a1"===t?"":"a0"===t||"a3"===t?void 0:{f:e[o].f,o:void 0}:"string"==typeof e[o]?"":null;else{var u=De(e[o],n[o]||{},o);u&&((r=r||{})[o]=u)}for(var c in n)c in e||((r=r||{})[c]=n[c]);return r}function ze(e,n,t,r){var o=e.e,i=n.e,a=o.length,u=i.length;a>u?Fe(t,6,r,{v:u,i:a-u}):u>a&&Fe(t,7,r,{v:a,e:i});for(var c=u>a?a:u,s=0;c>s;s++){var l=o[s];Ie(l,i[s],t,++r),r+=l.b||0}}function We(e,n,t,r){for(var o=[],i={},a=[],u=e.e,c=n.e,s=u.length,l=c.length,f=0,h=0,d=r;s>f&&l>h;){var g=(B=u[f]).a,b=(R=c[h]).a,y=B.b,p=R.b;if(g!==b){var v=u[f+1],m=c[h+1];if(v)var w=v.a,k=v.b,$=b===w;if(m)var T=m.a,_=m.b,Y=g===T;if(Y&&$)Ie(y,_,o,++d),qe(i,o,g,p,h,a),d+=y.b||0,Je(i,o,g,k,++d),d+=k.b||0,f+=2,h+=2;else if(Y)d++,qe(i,o,b,p,h,a),Ie(y,_,o,d),d+=y.b||0,f+=1,h+=2;else if($)Je(i,o,g,y,++d),d+=y.b||0,Ie(k,p,o,++d),d+=k.b||0,f+=2,h+=1;else{if(!v||w!==T)break;Je(i,o,g,y,++d),qe(i,o,b,p,h,a),d+=y.b||0,Ie(k,_,o,++d),d+=k.b||0,f+=2,h+=2}}else Ie(y,p,o,++d),d+=y.b||0,f++,h++}for(;s>f;){var B;Je(i,o,(B=u[f]).a,y=B.b,++d),d+=y.b||0,f++}for(;l>h;){var R,S=S||[];qe(i,o,(R=c[h]).a,R.b,void 0,S),h++}(o.length>0||a.length>0||S)&&Fe(t,8,r,{w:o,x:a,y:S})}var Ge="_elmW6BL";function qe(e,n,t,r,o,i){var a=e[t];if(!a)return i.push({r:o,A:a={c:0,z:r,r:o,s:void 0}}),void(e[t]=a);if(1===a.c){i.push({r:o,A:a}),a.c=2;var u=[];return Ie(a.z,r,u,a.r),a.r=o,void(a.s.s={w:u,A:a})}qe(e,n,t+Ge,r,o,i)}function Je(e,n,t,r,o){var i=e[t];if(i){if(0===i.c){i.c=2;var a=[];return Ie(r,i.z,a,o),void Fe(n,9,o,{w:a,A:i})}Je(e,n,t+Ge,r,o)}else{var u=Fe(n,9,o,void 0);e[t]={c:1,z:r,r:o,s:u}}}function Ue(e,n){for(var t=0;n.length>t;t++){var r=n[t],o=r.t,i=Ke(o,r);o===e&&(e=i)}return e}function Ke(e,n){switch(n.$){case 0:return function(e){var t=e.parentNode,r=Me(n.s,n.u);return r.elm_event_node_ref||(r.elm_event_node_ref=e.elm_event_node_ref),t&&r!==e&&t.replaceChild(r,e),r}(e);case 4:return Ne(e,n.u,n.s),e;case 3:return e.replaceData(0,e.length,n.s),e;case 1:return Ue(e,n.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=n.s:e.elm_event_node_ref={j:n.s,p:n.u},e;case 6:for(var t=n.s,r=0;t.i>r;r++)e.removeChild(e.childNodes[t.v]);return e;case 7:for(var o=(t=n.s).e,i=e.childNodes[r=t.v];o.length>r;r++)e.insertBefore(Me(o[r],n.u),i);return e;case 9:if(!(t=n.s))return e.parentNode.removeChild(e),e;var a=t.A;return void 0!==a.r&&e.parentNode.removeChild(e),a.s=Ue(e,t.w),e;case 8:return function(e,n){var t=n.s,r=function(e,n){if(e){for(var t=ke.createDocumentFragment(),r=0;e.length>r;r++){var o=e[r].A;$e(t,2===o.c?o.s:Me(o.z,n.u))}return t}}(t.y,n);e=Ue(e,t.w);for(var o=t.x,i=0;o.length>i;i++){var a=o[i],u=a.A,c=2===u.c?u.s:Me(u.z,n.u);e.insertBefore(c,e.childNodes[a.r])}return r&&$e(e,r),e}(e,n);case 5:return n.s(e);default:B(10)}}var Qe=o(function(e,n,t,r){return function(n,t,r,o,i){var c=a(J,n,te(t?t.flags:void 0));Br(c)||B(2,Jr(c.a));var s={},l=(c=r(c.a)).a,f=function(n,t){var r=e.setup&&e.setup(n),o=e.view,i=ke.title,c=ke.body,s=function e(n){if(3===n.nodeType)return Te(n.textContent);if(1!==n.nodeType)return Te("");for(var t=d,r=n.attributes,o=r.length;o--;){var i=r[o];t=g(a(Se,i.name,i.value),t)}var c=n.tagName.toLowerCase(),s=d,l=n.childNodes;for(o=l.length;o--;)s=g(e(l[o]),s);return u(_e,c,t,s)}(c);return function(e,n){n(e);var t=0;function r(){t=1===t?0:(Ve(r),n(e),1)}return function(o,i){e=o,i?(n(e),2===t&&(t=1)):(0===t&&Ve(r),t=2)}}(t,function(e){me=r;var t=o(e),a=_e("body")(d)(t.body),u=function(e,n){var t=[];return Ie(s,a,t,0),t}();c=function(e,n,t,r){return 0===t.length?e:(function e(n,t,r,o){!function n(t,r,o,i,a,u,c){for(var s=o[i],l=s.r;l===a;){var f=s.$;if(1===f)e(t,r.k,s.s,c);else if(8===f)s.t=t,s.u=c,(h=s.s.w).length>0&&n(t,r,h,0,a,u,c);else if(9===f){s.t=t,s.u=c;var h,d=s.s;d&&(d.A.s=t,(h=d.w).length>0&&n(t,r,h,0,a,u,c))}else s.t=t,s.u=c;if(!(s=o[++i])||(l=s.r)>u)return i}var g=r.$;if(4===g){for(var b=r.k;4===b.$;)b=b.k;return n(t,b,o,i,a+1,u,t.elm_event_node_ref)}for(var y=r.e,p=t.childNodes,v=0;y.length>v;v++){a++;var m=1===g?y[v]:y[v].b,w=a+(m.b||0);if(!(a>l||l>w||(s=o[i=n(p[v],m,o,i,a,w,c)])&&(l=s.r)<=u))return i;a=w}return i}(n,t,r,0,0,t.b,o)}(e,n,t,r),Ue(e,t))}(c,s,u,n),s=a,me=0,i!==t.title&&(ke.title=i=t.title)})}(b,l),h=function(e,n){var t;for(var r in de){var o=de[r];o.a&&((t=t||{})[r]=o.a(r,n)),e[r]=ge(o,n)}return t}(s,b);function b(e,n){f(l=(c=a(o,e,l)).a,n),pe(s,c.b,i(l))}return pe(s,c.b,i(l)),h?{ports:h}:{}}(n,r,e.init,e.update,e.subscriptions)}),Ve="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(e){setTimeout(e,1e3/60)};"undefined"!=typeof document&&document,"undefined"!=typeof window&&window;var Ze,Xe,en,nn,tn,rn,on,an,un,cn={$:"EastMulberry"},sn={$:"MetroCenter"},ln={$:"TwinBrooks"},fn={$:"WestMulberry"},hn=h,dn=r(function(e,n,r){var o=r.c,i=r.d,a=t(function(n,t){return u(hn,"SubTree"===n.$?a:e,t,n.a)});return u(hn,a,u(hn,e,n,i),o)}),gn={$:"EQ"},bn={$:"LT"},yn=b,pn=function(e){return u(dn,yn,d,e)},vn={$:"GT"},mn=r(function(e,n,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return n;var r=t.d,o=e,i=u(e,t.b,t.c,u(mn,e,n,t.e));e=o,n=i,t=r}}),wn=function(e){return u(mn,r(function(e,n,t){return a(yn,j(e,n),t)}),d,e)},kn=function(e){return u(mn,r(function(e,n,t){return a(yn,e,t)}),d,e)},$n=function(e){return kn(e.a)},Tn={$:"RBEmpty_elm_builtin"},_n=Tn,Yn=_n,Bn=_n,Rn=function(e){return{$:"Set_elm_builtin",a:e}},Sn=Rn(_n),An=Sn,Ln=r(function(e,n,t){return j(e,{description:t,links:Yn,name:n,stats:Bn,tags:An})}),Mn=function(e){switch(e.$){case"MetroCenter":return{id:1,name:"Metro Center"};case"FederalTriangle":return{id:2,name:"Federal Triangle"};case"MacArthursPark":return{id:3,name:"MacArthur's Park"};case"ChurchStreet":return{id:4,name:"Church Street"};case"SpringHill":return{id:5,name:"Spring Hill"};case"TwinBrooks":return{id:6,name:"Twin Brooks"};case"CapitolHeights":return{id:7,name:"Capitol Heights"};case"EastMulberry":return{id:8,name:"East Mulberry"};case"WestMulberry":return{id:9,name:"West Mulberry"};case"Burlington":return{id:10,name:"Burlington"};default:return{id:11,name:"Samual Street"}}},Nn=function(e){return{$:"Just",a:e}},jn={$:"Nothing"},En=function(e){return e+""},On=function(e){return En(Mn(e).id)},Pn=r(function(e,n,t){for(;;){if(!t.b)return n;var r=t.b,o=e,i=a(e,t.a,n);e=o,n=i,t=r}}),Cn=function(e){return u(Pn,yn,d,e)},xn=o(function(e,n,t,r){if(r.b){var o=r.a,i=r.b;if(i.b){var s=i.a,l=i.b;if(l.b){var f=l.a,h=l.b;if(h.b){var d=h.b;return a(e,o,a(e,s,a(e,f,a(e,h.a,t>500?u(Pn,e,n,Cn(d)):c(xn,e,n,t+1,d)))))}return a(e,o,a(e,s,a(e,f,n)))}return a(e,o,a(e,s,n))}return a(e,o,n)}return n}),Fn=r(function(e,n,t){return c(xn,e,n,0,t)}),In=t(function(e,n){return u(Fn,t(function(n,t){return a(yn,e(n),t)}),d,n)}),Hn={$:"Black"},Dn=i(function(e,n,t,r,o){return{$:"RBNode_elm_builtin",a:e,b:n,c:t,d:r,e:o}}),zn=M,Wn={$:"Red"},Gn=i(function(e,n,t,r,o){if("RBNode_elm_builtin"===o.$&&"Red"===o.a.$){var i=o.b,a=o.c,u=o.d,c=o.e;return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?s(Dn,Wn,n,t,s(Dn,Hn,r.b,r.c,r.d,f=r.e),s(Dn,Hn,i,a,u,c)):s(Dn,e,i,a,s(Dn,Wn,n,t,r,u),c)}if("RBNode_elm_builtin"===r.$&&"Red"===r.a.$&&"RBNode_elm_builtin"===r.d.$&&"Red"===r.d.a.$){var l=r.d,f=r.e;return s(Dn,Wn,r.b,r.c,s(Dn,Hn,l.b,l.c,l.d,l.e),s(Dn,Hn,n,t,f,o))}return s(Dn,e,n,t,r,o)}),qn=r(function(e,n,t){if("RBEmpty_elm_builtin"===t.$)return s(Dn,Wn,e,n,Tn,Tn);var r=t.a,o=t.b,i=t.c,c=t.d,l=t.e;switch(a(zn,e,o).$){case"LT":return s(Gn,r,o,i,u(qn,e,n,c),l);case"EQ":return s(Dn,r,o,n,c,l);default:return s(Gn,r,o,i,c,u(qn,e,n,l))}}),Jn=r(function(e,n,t){var r=u(qn,e,n,t);return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?s(Dn,Hn,r.b,r.c,r.d,r.e):r}),Un=r(function(e,n,t){return O(t,{links:u(Jn,e,n,t.links)})}),Kn=r(function(e,n,t){return j(t.a,u(Un,e,n,t.b))}),Qn=t(function(e,n){return Rn(u(Jn,e,N,n.a))}),Vn=t(function(e,n){return O(n,{tags:a(Qn,e,n.tags)})}),Zn=t(function(e,n){return j(n.a,a(Vn,e,n.b))}),Xn=a(In,Zn("character"),y([u(Kn,"location",On(ln),u(Ln,"maintenanceMan","Maintenance man","He's probably busy, you don't really have any reason to bother him.")),u(Kn,"location",On(sn),u(Ln,"largeCrowd","A large crowd","They ignore you for the most part, occupied with the situation at hand.")),u(Kn,"location",On(sn),u(Ln,"securityOfficers","Security officers","Two of them, looking official, but not really all that helpful over all.")),u(Kn,"location",On(cn),u(Ln,"commuter1","Commuter","Another commuter, waiting for the train.")),u(Kn,"location",On(fn),u(Ln,"commuter2","Commuter","Another commuter, waiting for the train."))])),et=y([{$:"Red"},{$:"Yellow"},{$:"Green"}]),nt={$:"Burlington"},tt={$:"CapitolHeights"},rt={$:"ChurchStreet"},ot={$:"FederalTriangle"},it={$:"MacArthursPark"},at={$:"SamualStreet"},ut={$:"SpringHill"},ct=o(function(e,n,t,r){return{alpha:r,blue:t,green:n,red:e}}),st=c(ct,115,210,22,1),lt=c(ct,204,0,0,1),ft=c(ct,237,212,0,1),ht=function(e){switch(e.$){case"Red":return{color:lt,id:"redLine",name:"Red Line",number:1,stations:y([fn,cn,rt,sn,ot,ut,ln])};case"Yellow":return{color:ft,id:"yellowLine",name:"Yellow Line",number:2,stations:y([sn,ot,tt,it])};default:return{color:st,id:"greenLine",name:"Green Line",number:3,stations:y([nt,at,tt,ot])}}},dt=y([{id:"bravery",name:"Bravery",starting:0},{id:"ruleBreaker",name:"Rule breaker",starting:0}]),gt=r(function(e,n,t){return n(e(t))}),bt=r(function(e,n,t){return O(t,{stats:u(Jn,e,n,t.stats)})}),yt=r(function(e,n,t){return j(t.a,u(bt,e,n,t.b))}),pt=P(y([(Ze=u(Kn,"location",On(ln),u(yt,"mainPlot",1,u(Ln,"player","Steve","A guy just trying to get ahead by following the rules."))),u(Pn,function(e){return a(yt,e.id,e.starting)},Ze,dt))]),a(In,a(gt,ht,function(e){return a(Zn,"line",u(Ln,e.id,e.name,e.name))}),et)),vt=function(e){return In(a(Kn,"location",e))},mt=a(In,Zn("item"),P(y([a(Zn,"silent",u(Ln,"map","Subway map","A map of all of the subway lines you know about."))]),P(a(vt,"home",y([u(Ln,"briefcase","Briefcase","The tool of your trade, and more than that, a badge of honor.  Yours is a tasteful brown leather, perfectly organized (usually), and always by your side."),u(Kn,"validOn","redLine",u(Kn,"location","home",u(Ln,"redLinePass","Red Line metro pass","This will get you to any station along the Red Line.  Expires in 8 months."))),u(Ln,"cellPhone","Cell phone","It's not one of those $800 ones, but it does everything you need."),a(Zn,"fixed",u(Ln,"coffee cup","Empty coffee cup","You've gone through a few of these while trying to finish the presentation.")),u(Ln,"presentation","Scattered papers","Your desk is littered with the printed out copies of your presentation, covered in scribbles and sticky notes."),a(Zn,"fixed",u(Ln,"laptop","Laptop","Your laptop battery is almost dead, but you don't need it, you've got the hard copy of your presentation with your notes on it.")),a(Zn,"fixed",u(Ln,"deskPhone","Desk phone","You still have an old school landline in your home office, though you rarely use it."))])),P(a(vt,On(ln),y([u(Ln,"safteyWarningPoster","Safety Message Poster","A poster that warns you to watch out for pickpockets and report any suspicious activity. "),u(Ln,"mapPoster","Map on the wall","This shows the full map of the subway system.")])),P(a(vt,On(ot),y([u(Ln,"policeOffice","Police Office","A small police office."),u(Ln,"ticketMachine","Ticket Machine","You can buy tickets and passes here.")])),P(a(vt,On(rt),y([u(Ln,"paperScrap","Scrap of paper","It's just trash.")])),P(a(vt,On(fn),y([u(Ln,"maintenanceDoor","Maintenance door",'The sign on it says "Maintenance access only".')])),a(vt,"maintenanceMan",y([u(Ln,"keyCard","Maintenance Key Card","This will get you in to maintenance areas.")]))))))))),wt=t(function(e,n){return n.b?u(Fn,yn,n,e):e}),kt=function(e){return u(Fn,wt,d,e)},$t=t(function(e,n){return kt(a(In,e,n))}),Tt=function(e){return u(Pn,t(function(e,n){return u(Jn,e.a,e.b,n)}),_n,e)},_t=Tt(P(mt,P(Xn,P((Xe=a(In,a(gt,Mn,function(e){return n=a(Zn,"station",a(Zn,"location",u(Ln,En(e.id),e.name,e.name))),S(En(e.id),On(sn))?a(Zn,"stevesWork",n):n;var n}),a($t,a(gt,ht,function(e){return e.stations}),et)),a(yn,a(Zn,"location",u(Ln,"home","Desk","Your home office desk is trashed from preparing the presentation all week.")),Xe)),pt)))),Yt=t(function(e){return e}),Bt=t(function(e,n){return 0>L(e,n)?e:n}),Rt=function(e){return!e},St=r(function(e,n,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return n;var r=t.e,o=e,i=u(e,t.b,t.c,u(St,e,n,t.d));e=o,n=i,t=r}}),At=t(function(e,n){return u(St,r(function(n,t,r){return a(e,n,t)?u(Jn,n,t,r):r}),_n,n)}),Lt=t(function(e,n){e:for(;;){if("RBEmpty_elm_builtin"===n.$)return jn;var t=n.c,r=n.d,o=n.e;switch(a(zn,e,n.b).$){case"LT":e=e,n=r;continue e;case"EQ":return Nn(t);default:e=e,n=o;continue e}}}),Mt=t(function(e,n){return"Just"===a(Lt,e,n).$}),Nt=t(function(e,n){return s(Dn,Hn,e,n,Tn,Tn)}),jt=function(e){if("RBNode_elm_builtin"===e.$&&"RBNode_elm_builtin"===e.d.$&&"RBNode_elm_builtin"===e.e.$){if("RBNode_elm_builtin"===e.e.d.$&&"Red"===e.e.d.a.$){var n=e.d,t=e.e,r=t.b,o=t.c,i=(f=t.d).d,a=f.e,u=t.e;return s(Dn,Wn,f.b,f.c,s(Dn,Hn,e.b,e.c,s(Dn,Wn,n.b,n.c,n.d,n.e),i),s(Dn,Hn,r,o,a,u))}var c=e.d,l=e.e,f=(r=l.b,o=l.c,l.d);return u=l.e,s(Dn,Hn,e.b,e.c,s(Dn,Wn,c.b,c.c,c.d,c.e),s(Dn,Wn,r,o,f,u))}return e},Et=function(e){if("RBNode_elm_builtin"===e.$&&"RBNode_elm_builtin"===e.d.$&&"RBNode_elm_builtin"===e.e.$){if("RBNode_elm_builtin"===e.d.d.$&&"Red"===e.d.d.a.$){var n=e.b,t=e.c,r=e.d,o=r.d,i=r.e,a=e.e,u=a.b,c=a.c,l=a.d,f=a.e;return s(Dn,Wn,r.b,r.c,s(Dn,Hn,o.b,o.c,o.d,o.e),s(Dn,Hn,n,t,i,s(Dn,Wn,u,c,l,f)))}var h=e.d,d=e.e;return u=d.b,c=d.c,l=d.d,f=d.e,s(Dn,Hn,n=e.b,t=e.c,s(Dn,Wn,h.b,h.c,h.d,i=h.e),s(Dn,Wn,u,c,l,f))}return e},Ot=n(7,an=function(e,n,t,r,o,i,a){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return s(Dn,t,i.b,i.c,i.d,s(Dn,Wn,r,o,i.e,a));e:for(;;){if("RBNode_elm_builtin"===a.$&&"Black"===a.a.$){if("RBNode_elm_builtin"===a.d.$){if("Black"===a.d.a.$)return Et(n);break e}return Et(n)}break e}return n},function(){return function(e){return function(n){return function(t){return function(r){return function(o){return function(i){return an(0,e,n,t,r,o,i)}}}}}}}),Pt=function(e){if("RBNode_elm_builtin"===e.$&&"RBNode_elm_builtin"===e.d.$){var n=e.a,t=e.b,r=e.c,o=e.d,i=o.d,a=e.e;if("Black"===o.a.$){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return s(Dn,n,t,r,Pt(o),a);var u=jt(e);if("RBNode_elm_builtin"===u.$){var c=u.e;return s(Gn,u.a,u.b,u.c,Pt(u.d),c)}return Tn}return s(Dn,n,t,r,Pt(o),a)}return Tn},Ct=t(function(e,n){if("RBEmpty_elm_builtin"===n.$)return Tn;var t,r,o,i,u,c,l,f,h=n.a,d=n.b,g=n.c,b=n.d,y=n.e;if(0>L(e,d)){if("RBNode_elm_builtin"===b.$&&"Black"===b.a.$){var p=b.d;if("RBNode_elm_builtin"===p.$&&"Red"===p.a.$)return s(Dn,h,d,g,a(Ct,e,b),y);var v=jt(n);if("RBNode_elm_builtin"===v.$){var m=v.e;return s(Gn,v.a,v.b,v.c,a(Ct,e,v.d),m)}return Tn}return s(Dn,h,d,g,a(Ct,e,b),y)}return a(xt,e,(r=e,o=n,i=h,u=d,c=g,l=b,f=y,7===(t=Ot).a?t.f(r,o,i,u,c,l,f):t(r)(o)(i)(u)(c)(l)(f)))}),xt=t(function(e,n){if("RBNode_elm_builtin"===n.$){var t=n.a,r=n.b,o=n.c,i=n.d,u=n.e;if(S(e,r)){var c=function(e){for(;;){if("RBNode_elm_builtin"!==e.$||"RBNode_elm_builtin"!==e.d.$)return e;e=e.d}}(u);return"RBNode_elm_builtin"===c.$?s(Gn,t,c.b,c.c,i,Pt(u)):Tn}return s(Gn,t,r,o,i,a(Ct,e,u))}return Tn}),Ft=t(function(e,n){var t=a(Ct,e,n);return"RBNode_elm_builtin"===t.$&&"Red"===t.a.$?s(Dn,Hn,t.b,t.c,t.d,t.e):t}),It=r(function(e,n,t){var r=n(a(Lt,e,t));return"Just"===r.$?u(Jn,e,r.a,t):a(Ft,e,t)}),Ht=r(function(e,n,t){return e(n(t))}),Dt=t(function(e,n){for(;;){if(!n.b)return!1;var t=n.b;if(e(n.a))return!0;e=e,n=t}}),zt=t(function(e,n){return!a(Dt,a(Ht,Rt,e),n)}),Wt=function(e){return!e.b},Gt=t(function(e,n){return"Just"===n.$?Nn(e(n.a)):jn}),qt=t(function(e,n){return"Just"===n.$?n.a:e}),Jt=r(function(e,n,t){return O(t,{stats:u(Jn,e,a(qt,0,a(Lt,e,t.stats))-n,t.stats)})}),Ut=r(function(e,n,t){return O(t,{stats:u(Jn,e,a(qt,0,a(Lt,e,t.stats))+n,t.stats)})}),Kt=o(function(e,n,t,r){return S(a(zn,a(qt,0,a(Lt,e,r.stats)),t),n)}),Qt=t(function(e,n){return a(Mt,e,n.a)}),Vt=t(function(e,n){return a(Qt,e,n.tags)}),Zt=r(function(e,n,t){return a(qt,!1,a(Gt,function(e){return a(zt,function(n){return u(nr,n,t,e)},n)},a(Lt,e,t)))}),Xt=r(function(e,n,t){if("Match"===e.$){var r=e.a,o=e.b;return S(r,t)&&u(Zt,r,o,n)}return u(Zt,t,o=e.a,n)}),er=o(function(e,n,t,r){return a(qt,!1,a(Gt,a(Xt,n,t),a(Lt,e,r.links)))}),nr=t(function(e,n){switch(e.$){case"HasTag":return Vt(e.a);case"HasStat":return u(Kt,e.a,e.b,e.c);case"HasLink":return u(er,e.a,e.b,n);default:return a(Ht,Rt,a(nr,e.a,n))}}),tr=t(function(e,n){return wn(a(At,t(function(t,r){return a(zt,function(e){return u(nr,e,n,r)},e)}),n))}),rr=t(function(e,n){return Rn(a(Ft,e,n.a))}),or=t(function(e,n){return O(n,{tags:a(rr,e,n.tags)})}),ir=r(function(e,n,t){return u(It,e,Gt(n),t)}),ar=r(function(e,n,o){var i=function(e){return"$"===e?n:e},c=r(function(e,n,t){switch(n.$){case"AddTag":return u(ir,e,Vn(n.a),t);case"RemoveTag":return u(ir,e,or(n.a),t);case"SetStat":return u(ir,e,a(bt,n.a,n.b),t);case"IncStat":return u(ir,e,a(Ut,n.a,n.b),t);case"DecStat":return u(ir,e,a(Jt,n.a,n.b),t);default:return u(ir,e,a(Un,n.a,i(n.b)),t)}}),s=function(e){return Pn(c(e))};return u(Pn,t(function(e,n){if("Update"===e.$){var r=e.b;return u(s,i(e.a),n,r)}var o=e.a;return r=e.b,u(Pn,t(function(e,n){return u(s,e.a,n,r)}),n,a(tr,o,n))}),o,e)}),ur=o(function(e,n,t,r){return{$:"Array_elm_builtin",a:e,b:n,c:t,d:r}}),cr=I,sr=t(function(e,n){return D(n)/D(e)}),lr=cr(a(sr,2,32)),fr=[],hr=c(ur,0,lr,fr,fr),dr=f,gr=t(function(e,n){for(;;){var t=a(dr,32,e),r=t.b,o=a(yn,{$:"SubTree",a:t.a},n);if(!r.b)return Cn(o);e=r,n=o}}),br=function(e){return e.a},yr=t(function(e,n){for(;;){var t=cr(n/32);if(1===t)return a(dr,32,e).a;e=a(gr,e,d),n=t}}),pr=H,vr=t(function(e,n){return L(e,n)>0?e:n}),mr=function(e){return e.length},wr=t(function(e,n){if(n.nodeListSize){var t=32*n.nodeListSize,r=pr(a(sr,32,t-1)),o=e?Cn(n.nodeList):n.nodeList,i=a(yr,o,n.nodeListSize);return c(ur,mr(n.tail)+t,a(vr,5,r*lr),i,n.tail)}return c(ur,mr(n.tail),lr,fr,n.tail)}),kr=l,$r=i(function(e,n,t,r,o){for(;;){if(0>n)return a(wr,!1,{nodeList:r,nodeListSize:t/32|0,tail:o});var i={$:"Leaf",a:u(kr,32,n,e)};e=e,n-=32,t=t,r=a(yn,i,r),o=o}}),Tr=t(function(e,n){if(e>0){var t=e%32;return s($r,n,e-t-32,e,d,u(kr,t,e-t,n))}return hr}),_r=function(e){return{$:"Err",a:e}},Yr=function(e){return{$:"Ok",a:e}},Br=function(e){return"Ok"===e.$},Rr=t(function(e,n){return{$:"Failure",a:e,b:n}}),Sr=t(function(e,n){return{$:"Field",a:e,b:n}}),Ar=t(function(e,n){return{$:"Index",a:e,b:n}}),Lr=function(e){return{$:"OneOf",a:e}},Mr=function(e){var n=e.charCodeAt(0);return 55296>n||n>56319?n:1024*(n-55296)+e.charCodeAt(1)-56320+65536},Nr=function(e){var n=Mr(e);return n>=97&&122>=n},jr=function(e){var n=Mr(e);return 90>=n&&n>=65},Er=function(e){return Nr(e)||jr(e)},Or=function(e){return Nr(e)||jr(e)||function(e){var n=Mr(e);return 57>=n&&n>=48}(e)},Pr=function(e){return u(Pn,t(function(e,n){return n+1}),0,e)},Cr=v,xr=r(function(e,n,t){for(;;){if(L(e,n)>=1)return t;var r=e,o=n-1,i=a(yn,n,t);e=r,n=o,t=i}}),Fr=t(function(e,n){return u(xr,e,n,d)}),Ir=t(function(e,n){return u(Cr,e,a(Fr,0,Pr(n)-1),n)}),Hr=F,Dr=t(function(e,n){return a(x,e,p(n))}),zr=t(function(e,n){return y(a(C,e,n))}),Wr=function(e){return a(Dr,"\n    ",a(zr,"\n",e))},Gr=ne,qr=t(function(e,n){return"\n\n("+En(e+1)+") "+Wr(Jr(n))}),Jr=function(e){return a(Ur,e,d)},Ur=t(function(e,n){e:for(;;)switch(e.$){case"Field":var t=e.a,r=e.b,o=function(){var e,n,r=(n=(e=t).charCodeAt(0))?Nn(55296>n||n>56319?j(E(e[0]),e.slice(1)):j(E(e[0]+e[1]),e.slice(2))):jn;if("Nothing"===r.$)return!1;var o=r.a,i=o.b;return Er(o.a)&&a(Hr,Or,i)}();e=r,n=a(yn,o?"."+t:"['"+t+"']",n);continue e;case"Index":r=e.b;var i="["+En(e.a)+"]";e=r,n=a(yn,i,n);continue e;case"OneOf":var u=e.a;if(u.b){if(u.b.b){var c=(n.b?"The Json.Decode.oneOf at json"+a(Dr,"",Cn(n)):"Json.Decode.oneOf")+" failed in the following "+En(Pr(u))+" ways:";return a(Dr,"\n\n",a(yn,c,a(Ir,qr,u)))}e=r=u.a,n=n;continue e}return"Ran into a Json.Decode.oneOf with no possibilities"+(n.b?" at json"+a(Dr,"",Cn(n)):"!");default:var s=e.a,l=e.b;return(c=n.b?"Problem with the value at json"+a(Dr,"",Cn(n))+":\n\n    ":"Problem with the given value:\n\n")+Wr(a(Gr,4,l))+"\n\n"+s}}),Kr=te,Qr=(nn=Kr,function(e){de[e]&&B(3,e)}(en="drawGraph"),de[en]={e:we,r:nn,a:function(e){var n=[],t=de[e].r,o=ie(function(e){var n=setTimeout(function(){e(oe(N))},0);return function(){clearTimeout(n)}});return de[e].b=o,de[e].c=r(function(e,r){for(;r.b;r=r.b)for(var i=n,a=re(t(r.a)),u=0;i.length>u;u++)i[u](a);return o}),{subscribe:function(e){n.push(e)},unsubscribe:function(e){var t=(n=n.slice()).indexOf(e);0>t||n.splice(t,1)}}}},ye(en)),Vr=t(function(e,n){return u(St,r(function(e,n,t){return a(Ft,e,t)}),e,n)}),Zr=m,Xr=t(function(e,n){return j(n.a,e(n.b))}),eo=r(function(e,n,t){if(t.b){var r=t.a,o=t.b;if(a(e,n,r)){var i=u(eo,e,r,o),c=i.b;return j(a(yn,r,i.a),c)}return j(d,t)}return j(d,d)}),no=r(function(e,n,t){for(;;){if(!n.b)return Cn(t);var r=n.a,o=u(eo,e,r,n.b);e=e,n=o.b,t=a(yn,j(r,o.a),t)}}),to=t(function(e,n){return u(no,e,n,d)}),ro=function(e){var n=e.selectedRule,o=e.rules,i=e.graph,c="fontsize=20, style=filled, fontcolor=white, color=blue",s=u(St,r(function(e,t,r){return'"'+e+'" ['+(S(e,n)?c:"")+"]\n"+r}),"\n",a(Vr,o,i)),l=t(function(){return"fontsize=14"}),f=t(function(e){return a(qt,!1,a(Gt,a(gt,function(e){return e.changes},Wt),a(Lt,e,o)))}),h=t(function(e){return S(e,"__start__")}),d=a(At,t(function(e,n){return Wt(n.conditions)}),o),g=t(function(e){return"Nothing"!==a(Lt,e,d).$}),b=t(function(e,n){if(a(f,e,_n))return"1";switch(n){case 0:return"9";case 1:return"6";case 2:return"3";default:return"1"}}),y=r(function(e,t,r){if(S(e,n))return"red";if(S(t,n))return"green";switch(r){case 0:return'"#000000"';case 1:return'"#333333"';case 2:return'"#666666"';case 3:return'"#999999"';default:return'"#bbbbbb"'}}),p=t(function(e,n){return a(Dr,"",a(In,function(n){var t=n.a,r=n.b,o=r.a,i=r.b;return'"'+t+'" -> "'+e+'" [penwidth='+a(b,e,o)+", color="+u(y,t,e,o)+', tooltip="'+a(Dr,"\n",i.reachableRules)+'"]\n'},(r=n,kt(a(Ir,t(function(e,n){return a(In,Xr(function(n){return j(e,n)}),n)}),a(In,function(e){return a(yn,e.a,e.b)},a(to,t(function(e,n){return S(e.b.pathLength,n.b.pathLength)}),a(Zr,function(e){return e.b.pathLength},wn(r)))))))));var r}),v=u(St,r(function(e,n,t){return P(t,a(p,e,n))}),"",i),m=u(St,r(function(e,n,t){return a(Mt,e,d)?t:u(St,r(function(e,n,t){return a(Qn,e,t)}),t,n)}),Sn,i),w=t(function(e){return!a(Qt,e,m)}),k=t(function(e,t){return S(n,e)?c:a(h,e,t)?"style=filled, fontcolor=white, color=green":a(g,e,t)?"style=filled, fontcolor=white, color=orange":a(w,e,t)?"style=filled, fontcolor=white, color=red":a(f,e,t)?"style=filled, fontcolor=white, color=lightblue":""}),$=t(function(e,n){return a(l,e,n)+", "+a(k,e,n)});return'\n    digraph G {\n\n      subgraph cluster_0 {\n        node [style=filled, color=red, fontcolor=white];\n        label = "Unreachable rules";\n        '+s+"\n      }\n\n    node [style=filled]\n    "+v+u(Pn,t(function(e,n){var t=e.a;return'"'+t+'" [id="'+t+'", '+a($,t,e.b)+"]\n"+n}),"\n",wn(i))+"\n}"},oo=r(function(e,n,t){return{$:"Zipper",a:e,b:n,c:t}}),io=function(e){return qt(function(e){return u(oo,d,e,d)}(e))},ao=function(e){return{$:"InOrder",a:a(io,"",(n=e).b?Nn(u(oo,d,n.a,n.b)):jn)};var n},uo=ao(y(["\nYou pick up a subway map.\n\n(It is now in your inventory and you can view it at any time by clicking on it or pressing 'M')\n"])),co=ao(d),so=ao(y(["You've never jumped a turnstile in your life, and you're not about to start now. ","Better to stick to the lines you have passes for.","You're too afraid you'll get caught."])),lo=ao(y(["\nThe train hurtles through the dark tunnel towards the next stop.\n","\nYou stare at the floor, avoiding the gaze of the other passengers, waiting for your next stop.\n    "])),fo=t(function(e,n){return j(e,n)}),ho=t(function(e,n){return{$:"HasLink",a:e,b:n}}),go=function(e){return{$:"HasTag",a:e}},bo=t(function(e,n){return{$:"Match",a:e,b:n}}),yo=function(e){return{$:"MatchAny",a:e}},po=function(e){return{$:"Not",a:e}},vo=t(function(e,n){return{$:"SetLink",a:e,b:n}}),mo=t(function(e,n){return{$:"Update",a:e,b:n}}),wo=P(d,y([a(fo,"pickingThingsUp",{changes:y([a(mo,"$",y([a(vo,"location","player")]))]),conditions:d,narrative:ao(y(["You take it."])),trigger:yo(y([go("item"),po(go("fixed")),po(a(ho,"location",a(bo,"player",d)))]))}),a(fo,"ridingTheTrain",{changes:d,conditions:d,narrative:lo,trigger:yo(y([go("station")]))}),a(fo,"goToLinePlatform",{changes:y([a(mo,"player",y([a(vo,"line","$")]))]),conditions:y([yo(y([a(ho,"validOn",a(bo,"$",d)),a(ho,"location",a(bo,"player",d))]))]),narrative:co,trigger:yo(y([go("line")]))}),a(fo,"jumpTurnstileFail",{changes:d,conditions:d,narrative:so,trigger:yo(y([go("line")]))}),a(fo,"getMap",{changes:y([a(mo,"map",y([a(vo,"location","player")]))]),conditions:y([a(bo,"map",y([po(a(ho,"location",a(bo,"player",d)))]))]),narrative:uo,trigger:a(bo,"mapPoster",d)}),a(fo,"checkMap",{changes:d,conditions:d,narrative:ao(d),trigger:a(bo,"mapPoster",d)})])),ko=r(function(e,n,t){return{$:"HasStat",a:e,b:n,c:t}}),$o=r(function(e,n,t){return a(bo,"player",y([u(ko,e,n,t)]))}),To=t(function(e,n){return a(In,function(n){var t=n.b,r=t.conditions;return j(n.a,O(t,{conditions:P(y([u($o,"mainPlot",gn,e)]),r)}))},n)}),_o=function(e){return En(Mn(e).id)},Yo=ao(y(['\n"Excuse me, can you tell me what\'s going on here?"\n\nThe officers are preoccupied trying to keep everyone calm.  "Nothing to worry about, please try a different station."\n"But this is my stop."\n"We\'re asking people to use a different station."\n\nThey brush past you.  This is ridiculous.  Maybe one of the people in the crowd knows what\'s going on.\n  '])),Bo=ao(y(["\nYou're back on track now.  Hopefully your boss won't even notice.\n\nYour thoughts are interrupted by a crackle over the loudspeaker.  You realize the conductor is making an announcement, but it's so garbled that you only catch part of it.\n---\nSomething about a delay... That doesn't sound good.  Some kind of problem at one of the stations... You just hope it won't make you any later.\n","\nAs the train pulls in to the station, you can see that the exists are still closed.\n  "])),Ro=ao(y(["\nFrom the angry shouting, you gather that station's exits are locked.  But that doesn't make sense, why would they lock the exits during the morning commute?\n\nYou feel a shot of panic as you realize you can't get out.  And then you feel a tug at your arm and look down, and see someone run off with your briefcase!\n\nYour presentation is in that briefcase.  You need it!  \"Stop, thief!\"\n---\nThe thief runs down the tunnel for the Red line heading towards West Mulberry.  The security officers don't seem to notice a crime has occurred.\n\nYou need that briefcase back.\n  "])),So=ao(y(["\nYou board the red line train and find a seat.  You have to get off at the \"Metro Center Station\" stop.  You have about twenty minutes before you'll get there.\n---\nThe train rushes through the dark underground tunnels.  Your boss is probably right, preparing before the clients get in is a good idea.  You're just so damned tired!\n---\nIf all goes well, you should get the promotion you've been promised for so long.\n\nYou yawn, and decide to go over the presentation in your head.\n---\nYour eyes start to droop, but you force them open and focus on how you are going to present.  Hopefully you can follow all of your scribbles.\n\nYou're so tired...\n---\n...\n---\nSomeone is shaking your arm.\n\n\"Hey, buddy, wake up.  We're pulling in to the last stop, everyone has to get up.\"\n---\nOh shit!!\n\nYou fell asleep!\n---\nYou missed your stop!\n---\nYou're going to be late!\n---\nOk, don't panic.  There's still plenty of time.  You just have to get back to Metro Center Station as quick as you can.\n    "])),Ao=ao(y(["\nYou pick up a subway map and try to figure out how to get back to the Metro Center.\n\n(It is now in your inventory and you can view it at any time by clicking on it or pressing 'M')\n"])),Lo=ao(y(['\nYou see a maintenance man at the end of the platform, working on some broken panel.  He looks very focused, but he is the only other person on this platform.\n\nYou have to get back to your stop as soon as possible, so you ask him, "Excuse me?  Do you know the quickest way to get back to Metro Center?"\n\nHe looks up from his work, obviously annoyed.  "No clue, I don\'t run the trains.  Check the map."  He goes back to his work, totally ignoring you.\n',"\nYou look in his direction again, but you know better than to bother him.  You should be on your way too, you need to get back to your stop.\n  "])),Mo=ao(y(["\n6:23AM.  Friday.  Your apartment.\n\nYou are sleeping at your desk, snoring and drooling, face down in a pile of papers and other work littered across the desk.\n\nA phone rings, startling you awake.\n"])),No=ao(y(["\nWait, what are you doing?  You need to get off at the Metro Center station to get to work.  What is wrong with you today!?\n    "])),jo=ao(y(['\n"Where the hell are you?"\n\nIt\'s your boss.\n\nThe only thought in your mind is, "It\'s six twenty-five in the morning."\n---\n"This presentation is important, I don\'t want to screw it up.  I want to run through it before the clients arrive, so get your ass down here."\n\nThe presentation.  You\'ve been killing yourself all week trying to get it done. But you\'re sure the hard work you put in will finally land you the promotion you\'ve been promised for over a year now.\n---\nHe seems to notice your pause.  "Steve... it\'s done, right?"\n\n"Of course," you blurt out.  "I\'m on my way."\n\nYou hang up and get ready as quick as you can.\n\n(Tip: You can press "space key" to continue)\n'])),Eo=function(e){return{$:"AddTag",a:e}},Oo=t(function(e,n){return{$:"IncStat",a:e,b:n}}),Po=function(e){return{$:"RemoveTag",a:e}},Co=a(To,1,P(d,P(y([a(fo,"intro",{changes:y([a(mo,"cellPhone",y([Eo("ringing")]))]),conditions:d,narrative:Mo,trigger:a(bo,"player",d)})]),P(y([a(fo,"wrong phone",{changes:d,conditions:y([a(bo,"cellPhone",y([go("ringing")]))]),narrative:ao(y(['\nYou pick up your desk phone.  "Hello?"\n\nSilence on the other line.\n\nThe ringing continues.  Wrong phone!'])),trigger:a(bo,"deskPhone",d)})]),P(y([a(fo,"anything other than the phone",{changes:d,conditions:y([a(bo,"cellPhone",y([go("ringing")]))]),narrative:ao(y(["The ringing is giving you a headache, you have to stop it first."])),trigger:yo(d)})]),P(y([a(fo,"answer phone",{changes:y([a(mo,"cellPhone",y([Po("ringing")]))]),conditions:d,narrative:jo,trigger:a(bo,"cellPhone",y([go("ringing")]))})]),P(y([a(fo,"pack briefcase",{changes:y([a(mo,"$",y([a(vo,"location","player")]))]),conditions:y([a(bo,"cellPhone",y([po(go("ringing"))]))]),narrative:ao(y(["You grab your trusty briefcase.  Its contents are a jumble now, but you'll organize it later when then presentation is over."])),trigger:a(bo,"briefcase",y([po(a(ho,"location",a(bo,"player",d)))]))})]),P(y([a(fo,"pack cell phone",{changes:y([a(mo,"$",y([a(vo,"location","player")]))]),conditions:y([a(bo,"cellPhone",y([po(go("ringing"))]))]),narrative:ao(y(["Luckily you remembered to charge it and the battery is at full.\n                    \nThere's one new email that came in -- a job offer from a very persistent recruiter.  You don't have time to even look at it right now, so you put it in your coat pocket.\n\nBesides, you've built up five years of loyalty at your current job, and you wouldn't want to lose that.  Even if your boss is a jerk."])),trigger:a(bo,"cellPhone",y([po(a(ho,"location",a(bo,"player",d)))]))})]),P(y([a(fo,"pack presentation",{changes:y([a(mo,"$",y([a(vo,"location","briefcase")]))]),conditions:y([a(bo,"cellPhone",y([po(go("ringing"))]))]),narrative:ao(y(["\nYour presentation is scattered all over your desk.  It's covered in scribbles and sticky notes.  Some pages are wrinkled and a little smudged from when you fell asleep on them. \n\nYou put them back in order and carefully stack them, then slip them into your briefcase. Hopefully it's all worth it.\n                    "])),trigger:a(bo,"presentation",y([po(a(ho,"location",a(bo,"briefcase",d)))]))})]),P(y([a(fo,"pack metro pass",{changes:y([a(mo,"$",y([a(vo,"location","player")]))]),conditions:y([a(bo,"cellPhone",y([po(go("ringing"))]))]),narrative:ao(y(["You ride the metro to work every day.  You had to buy the pass yourself, but it's cheaper than paying each way.  You throw it in your pocket."])),trigger:a(bo,"redLinePass",y([po(a(ho,"location",a(bo,"player",d)))]))})]),P(y([a(fo,"fall asleep",{changes:y([a(mo,"player",y([Eo("late")]))]),conditions:y([a(bo,"player",y([po(go("late"))]))]),narrative:So,trigger:a(bo,_o(ln),d)})]),P(y([a(fo,"figure out how to get back to metro center",{changes:y([a(mo,"map",y([a(vo,"location","player")]))]),conditions:y([a(bo,"map",y([po(a(ho,"location",a(bo,"player",d)))]))]),narrative:Ao,trigger:a(bo,"mapPoster",d)})]),P(y([a(fo,"delayAhead",{changes:d,conditions:d,narrative:Bo,trigger:a(bo,_o(sn),d)}),a(fo,"missedStopAgain",{changes:d,conditions:d,narrative:No,trigger:yo(y([go("station"),po(go("stevesWork"))]))})]),P(y([a(fo,"inquireHowToGetBack",{changes:d,conditions:d,narrative:Lo,trigger:a(bo,"maintenanceMan",d)})]),P(y([a(fo,"exitClosedBriefcaseStolen",{changes:y([a(mo,"player",y([a(Oo,"mainPlot",1)])),a(mo,"briefcase",y([a(vo,"location","thief")])),a(mo,"thief",y([a(vo,"location",_o(fn))])),a(mo,_o(rt),y([Eo("possibleThiefLocation")])),a(mo,_o(cn),y([Eo("possibleThiefLocation")])),a(mo,_o(fn),y([Eo("possibleThiefLocation")]))]),conditions:d,narrative:Ro,trigger:a(bo,"largeCrowd",d)})]),y([a(fo,"askAboutDelay",{changes:d,conditions:d,narrative:Yo,trigger:a(bo,"securityOfficers",d)})])))))))))))))))),xo=ao(y(['\n"Excuse me - did you happen to see a man with a briefcase get off at this stop a few minutes ago?  No?  Are you sure?  OK, fine, thanks anyway."\n        ',"\nYou don't want to bother him any more.\n"])),Fo=ao(y(['\n"Hi, did a man with a briefcase get off at this stop a few minutes ago?  Yes!?  Where did he go?"\n\nThe young woman points at the maintenance door, then boards the train.\n\nThis is it, you\'ve found him now!  You can just go right in and get your briefcase back, and go to work and give your presentation and get your promotion and all will be well.  All you have to do is confront him.  And that, is why your hands are shaking.\n'])),Io=ao(y(["\nYou've never ridden without a ticket before.  You don't like it.  You're sure you'll be caught.\n\nYou count the stops to your destination, sinking low in your chair each time.  People get on and off.  You're getting close.\n\nYou feel someone staring at you.  You look over.  He grins.  Ticket inspector!  You're caught!.\n\nYou try to plead your case, but the inspector escorts you to the place where they take all the people who break the rules.\n\nThe Central Guard Station.\n"])),Ho=ao(y(["\nYou can't believe you ran after the thief.  That's not like you.  But you do need to get the presentation back.\n\nAnd what will you do if you find him?  This could be dangerous.  Maybe you should have thought about that before jumping on this train.  Maybe you won't even find him, he could have gotten off at any of these stations. \n","\nThis is crazy.  You're actually hunting him down.  You're out of your mind.\n","\nDid you actually think you would find him?  He had a head start, he could be anywhere by now.  Your briefcase could be anywhere by now.\n\nNo, you have to keep trying.  Maybe this he'll be at this station.\n"])),Do=ao(y(["\nThe door is locked.  You notice a key card reader near the door.  How did the thief get in?  He must have a key card.  If you had a maintenance key card you could get in too.  But where would you find one of those?\n        "])),zo=ao(y(["\nMaybe the thief was here and it fell from your suitcase.\n\nBut on closer inspection it is just a piece of trash.  You throw it in the rubbish bin.\n"])),Wo=ao(y(["\nYou find a police office.  But the door is closed, no one is in there.  You see a note on the door:\n\n\"CLOSED.  We are busy attending to other issues at the moment.  Please come back later.  You can also try the Lost and Found at the MacArthur's Park station.\"\n\nWell that's not very helpful.  You don't even know where the MacArthur's Park station is.  It's not on your map.  Oh, there it is.  It's on the Yellow line.\n\nThe lost and found seems like a long shot.  But you don't know what else to do.\n\nThere's just one problem.  You don't have a ticket to ride on the Yellow line.\n","\nThey are still closed.  You could try the Lost and Found at MacArthur's Park station.\n"])),Go=ao(y(["\nYou consider jumping the turnstile.  You don't want to, but this is a special\ncircumstance.  You need to get your briefcase back, so maybe just this once.\n\nYou take a look around and when it looks safe you make your move.\n\nNo one seems to have noticed.  In fact, it was pretty easy.\n        "])),qo=ao(y(["\nYou make sure no one is around, then you slide the key card through the reader.  The door clicks open.\n\nThis is it.  One more step and you are officially trespassing.  You could turn back now, and forget the whole thing.\n\nBut what would you tell your boss?  You've come this far.  You must press forward.\n\nYou wind down a long, dirty hall, wondering where the thief could have gone, and once again, you wonder what will you do if you catch him?\n\nAnd then you hear footsteps behind you.  There's no where to go.  A flashlight shines in your eyes and you realize a security guard has seen you.  You try to plead your case, but he escorts you to the place where they take all the people who break the rules.\n\nThe Central Guard Station.\n        "])),Jo=ao(y(["\nYou can't help thinking about the locked maintenance door.  Normally, you would leave it well enough alone.  But now...\n\nAn striking sight stirs you from your thoughts.  Just before pulling out of the station, you spotted a woman in a sunny yellow dress standing on the platform.   It might just be your imagination, but it looked like she was smiling at you.  The contrast of her bright dress against the dark, artificial underground tunnels sticks in your mind as you move closer to your next stop.\n        "])),Uo=ao(y(["\nWhat have you done?  You've stolen.  You've committed robbery.  You illegally possess private property that isn't yours.  You'll never get away with this.\n\nYou'll bring it back.  No one will be hurt.  The hard part is over.  Even still, you feel sick in your stomach.\n        "])),Ko=ao(y(['\n"That guy stole my briefcase!  Help!"\n\nThe officers barely take notice.  "We\'ve got our own problems right now."\n\n"But...  He stole my briefcase, aren\'t you going to do something?"\n\n"You can report it at the police station in the Federal Triangle station if you want.  Now we need everyone to clear this station."\n','\n"Where did you say the police office was?"\n"Federal Triangle.  Now get moving."\n\nThose are the most unhelpful security officers you\'ve ever seen.\n'])),Qo=ao(y(["\nThe maintenance man is still busy working at the end of the platform.  He doesn't even seem to know you are there.  You can see his bag next to him.  And in the bag, you see his key card.\n\nThis is your chance.  You tip toe over there and slip your hand into his bag.  You've never ever done anything like this before.  But it's not really stealing, you are just borrowing it.  You'll bring it back as soon as you get your briefcase back, you promise yourself that much.\n\nYou've got it.  The poor guy still has his head buried under the machinery he is working on.  Best to get away from here and fast.\n"])),Vo=ao(y(["\nYou didn't get caught the first time, no point arousing suspicion.\n"])),Zo=ao(y(["\nYou saw the thief head in this direction.  Maybe if you went after him right away you could have caught him, but by now he would have escaped.\n"])),Xo=ao(y(["\nYou can't believe it.  This is the worst thing that could happen.  You always do everything right. Why can't something just work out for you for once.  If you don't get your presentation back you'll be ruined.\n\nHopefully the police station that the guards told you about can help you.\n","\nYou suppose you could try the police station again.\n"])),ei=ao(y(["\nYou could buy a ticket here... except your wallet is in your briefcase!\n        "])),ni=t(function(e,n){return{$:"SetStat",a:e,b:n}}),ti=t(function(e,n){return{$:"UpdateAll",a:e,b:n}}),ri=Tt(P(Co,P(a(To,2,P(d,P(y([a(fo,"reportStolenBriefcase",{changes:y([a(mo,"player",y([a(ni,"lostAndFound",1)]))]),conditions:y([u($o,"chaseThief",gn,0),u($o,"lostAndFound",bn,2)]),narrative:Ko,trigger:a(bo,"securityOfficers",d)})]),P(y([a(fo,"travelToPoliceOffice",{changes:d,conditions:y([u($o,"lostAndFound",gn,1)]),narrative:Xo,trigger:a(bo,_o(ot),d)})]),P(y([a(fo,"findClosedPoliceOffice",{changes:y([a(mo,"player",y([a(ni,"lostAndFound",2)]))]),conditions:d,narrative:Wo,trigger:a(bo,"policeOffice",d)})]),P(y([a(fo,"tryToBuyTickets",{changes:d,conditions:y([a(bo,"briefcase",y([po(a(ho,"location",a(bo,"player",d)))]))]),narrative:ei,trigger:a(bo,"ticketMachine",d)})]),P(y([a(fo,"jumpYellowLineTurnstile",{changes:y([a(mo,"player",y([a(vo,"line","yellowLine")]))]),conditions:y([u($o,"lostAndFound",gn,2)]),narrative:Go,trigger:a(bo,"yellowLine",d)})]),P(y([a(fo,"caughtOnYellowLine",{changes:y([a(mo,"player",y([a(Oo,"ruleBreaker",1),a(Oo,"mainPlot",1),a(Oo,"lostAndFound",1),Eo("caught")]))]),conditions:y([u($o,"lostAndFound",gn,2),a(bo,"player",y([a(ho,"line",a(bo,"yellowLine",d))]))]),narrative:Io,trigger:yo(y([go("station")]))})]),y([a(fo,"chaseAfterThief",{changes:y([a(mo,"player",y([a(ni,"chaseThief",1),a(Oo,"bravery",1)])),a(mo,"$",y([Po("possibleThiefLocation")]))]),conditions:y([u($o,"lostAndFound",gn,0)]),narrative:Ho,trigger:yo(y([go("station"),go("possibleThiefLocation")]))}),a(fo,"thiefHasEscaped",{changes:y([a(ti,y([go("possibleThiefLocation")]),y([Po("possibleThiefLocation")])),a(mo,"player",y([a(ni,"chaseThief",0)]))]),conditions:y([u($o,"lostAndFound",vn,0)]),narrative:Zo,trigger:yo(y([go("station"),go("possibleThiefLocation")]))}),a(fo,"examinePaperScrap",{changes:y([a(mo,"paperScrap",y([a(vo,"location","offscreen")]))]),conditions:y([u($o,"chaseThief",gn,1),u($o,"lostAndFound",gn,0)]),narrative:zo,trigger:a(bo,"paperScrap",y([po(a(ho,"location",a(bo,"offscreen",d)))]))}),a(fo,"askAboutThiefFail",{changes:d,conditions:y([u($o,"chaseThief",gn,1),u($o,"lostAndFound",gn,0)]),narrative:xo,trigger:a(bo,"commuter1",d)}),a(fo,"askAboutThiefSucceed",{changes:y([a(mo,"player",y([a(ni,"chaseThief",2)])),a(mo,"commuter2",y([a(vo,"location","offscreen")])),a(ti,y([go("possibleThiefLocation")]),y([Po("possibleThiefLocation")]))]),conditions:y([u($o,"chaseThief",gn,1),u($o,"lostAndFound",gn,0)]),narrative:Fo,trigger:a(bo,"commuter2",y([a(ho,"location",a(bo,_o(fn),d))]))}),a(fo,"examineMaintenanceDoor",{changes:y([a(mo,"player",y([a(ni,"chaseThief",3)]))]),conditions:y([u($o,"chaseThief",gn,2)]),narrative:Do,trigger:a(bo,"maintenanceDoor",d)}),a(fo,"reflectOnMaintenanceDoor",{changes:y([a(mo,"player",y([a(ni,"downTheRabbitHole",1)]))]),conditions:y([u($o,"chaseThief",gn,3),a(bo,"player",y([u(ko,"downTheRabbitHole",gn,0)]))]),narrative:Jo,trigger:yo(y([go("station")]))}),a(fo,"stealMaintenanceKeyCard",{changes:y([a(mo,"player",y([a(Oo,"ruleBreaker",2),a(ni,"chaseThief",4)])),a(mo,"keyCard",y([a(vo,"location","player")]))]),conditions:y([u($o,"chaseThief",gn,3)]),narrative:Qo,trigger:a(bo,"maintenanceMan",d)}),a(fo,"tauntMaintenanceMan",{changes:d,conditions:y([a(bo,"keyCard",y([a(ho,"location",a(bo,"player",d))]))]),narrative:Vo,trigger:a(bo,"maintenanceMan",d)}),a(fo,"reflectOnStolenKeyCard",{changes:d,conditions:y([a(bo,"keyCard",y([a(ho,"location",a(bo,"player",d))]))]),narrative:Uo,trigger:yo(y([go("station")]))}),a(fo,"openMaintenanceDoor",{changes:y([a(mo,"keyCard",y([a(vo,"location","offscreen")])),a(mo,"player",y([Eo("caught"),a(Oo,"mainPlot",1),a(Oo,"chaseThief",1)]))]),conditions:y([a(bo,"keyCard",y([a(ho,"location",a(bo,"player",d))]))]),narrative:qo,trigger:a(bo,"maintenanceDoor",d)})]))))))))),wo))),oi=w,ii=j(on=O(tn={graph:_n,rules:ri,selectedRule:"",startingState:_t},{graph:function(e){var r,l=o(function(e,n,t,r){return Wt(t.conditions)||a(qt,!1,a(Gt,Mt(e),a(Lt,n,r)))}),f=function(e){if("MatchAny"===e.$){var n=e.a;return a(In,t(function(e,n){return!Wt(a(tr,y([e]),n))}),n)}var r=e.a;return Wt(n=e.b)?y([Yt(!0)]):a(In,t(function(e,n){return u(Zt,r,y([e]),n)}),n)},h=t(function(e,n){return a(zt,function(n){return n(e)},function(e){return a($t,f,a(yn,e.trigger,e.conditions))}(n))}),g=function(n){return a(At,t(function(e,t){return a(h,n,t)}),e.rules)},b=t(function(e,n){return u(ar,e.changes,"TODO this will never match",n)}),p=i(function(e,n,t,r,o){return u(Jn,n,u(Jn,e,{pathLength:t,reachableRules:r},a(qt,_n,a(Lt,n,o))),o)}),v=n(6,r=function(e,n,t,r,o,i){return c(l,n,r,o,i)?u(It,r,Gt(a(It,n,Gt(function(n){return O(n,{pathLength:a(Bt,n.pathLength,e)})}))),i):Wt(o.changes)?s(p,r,r,e+1,d,s(p,n,r,e,d,i)):(f=g(a(b,o,t)),u(St,u(v,e+1,r,a(b,o,t)),s(p,n,r,e,kn(f),i),f));var f},function(e){return function(n){return function(t){return function(o){return function(i){return function(a){return r(e,n,t,o,i,a)}}}}}});return u(St,u(v,0,"__start__",e.startingState),a(Nt,"__start__",_n),g(e.startingState))}(tn)}),Qr((rn=ro(on),a(Yt,rn,a(oi,rn,""))))),ai={$:2,m:d},ui=t(function(e,n){return j(t=O(n,"SelectRule"===e.$?{selectedRule:e.a}:{selectedRule:""}),Qr(ro(t)));var t}),ci=function(e){return{$:"SelectRule",a:e}},si=q,li=function(e){return{$:0,a:e}},fi=function(e){switch(e.$){case"Normal":return 0;case"MayStopPropagation":return 1;case"MayPreventDefault":return 2;default:return 3}},hi=_e("div"),di=_e("li"),gi=Te,bi=_e("ul"),yi=t(function(e,n){return a(Re,e,Kr(n))}),pi=yi("className"),vi=t(function(e,n){return u(Fn,t(function(n,t){return e(n)?a(yn,n,t):t}),d,n)}),mi=function(e){return e.b},wi=yi("id"),ki=Be,$i=t(function(e,n){return a(ki,e,{$:"Normal",a:n})}),Ti=G,_i=t(function(e,n){return u(Fn,Ti,n,e)}),Yi=W,Bi=oe,Ri=Bi(N),Si=ae,Ai=t(function(e,n){return a(Si,function(n){return Bi(e(n))},n)}),Li=r(function(e,n,t){return a(Si,function(n){return a(Si,function(t){return Bi(a(e,n,t))},t)},n)}),Mi=be,Ni=t(function(e,n){var t=n.a;return function(e){return ie(function(n){n(oe(ce(e)))})}(a(Si,Mi(e),t))});de.Task={b:Ri,c:r(function(e,n){return a(Ai,function(){return N},(t=a(In,Ni(e),n),u(Fn,Li(yn),Bi(d),t)));var t}),d:r(function(){return Bi(N)}),e:t(function(e,n){return{$:"Perform",a:a(Ai,e,n.a)}}),f:void 0},ye("Task"),un={RuleGraph:{init:Qe({init:Yt(ii),subscriptions:function(){return ai},update:ui,view:function(e){return{body:y([function(e){var n=a(_i,y(["target","parentElement","attributes"]),u(si,t(function(e,n){switch(e){case"node":return ci(n);case"edge":return{$:"SelectEdge",a:n};default:return ci("")}}),a(_i,y(["class","value"]),Yi),a(_i,y(["id","value"]),Yi)));return a(hi,y([pi("RuleGraph")]),y([a(hi,d,y([gi("Rules Visualizer"),a(bi,d,a(In,function(n){return a(di,y([(t=function(n){return y([j("Rule",!0),j("Rule--selected",S(n,e.selectedRule))])}(n),pi(a(Dr," ",a(In,br,a(vi,mi,t))))),(r=ci(n),a($i,"click",li(r)))]),y([gi(n)]));var t,r},kn(e.rules)))])),a(hi,y([wi("graph"),pi("Graph"),a($i,"click",n)]),y([gi("loading")]))]))}(e)]),title:"Subway Graph"}}})(li({}))(0)}},e.Elm?function e(n,t,r){for(var o in r)o in t?"init"==o?B(6,n):e(n+"."+o,t[o],r[o]):t[o]=r[o]}("Elm",e.Elm,un):e.Elm=un}(this)}});