!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){t(1),t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10);const{Elm:r}=t(11),o="#debug"===location.hash,i=r.Main.init({node:document.getElementById("main"),flags:{selectScene:o}});var a=t(12).keys();a.length||c(),a.map((function(n){var e=new Image;return e.src="img/"+n,e.onload=s,console.log("loading",e.src),e}));var u=0;function s(){++u===a.length&&c()}function c(){i.ports.loaded.send(!0),console.log("loaded")}document.addEventListener("keydown",(function(n){i.ports.keyPress.send(n.key)," "!=n.key&&"Backspace"!==n.key||n.preventDefault()}))},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){!function(n){"use strict";function e(n,e,t){return t.a=n,t.f=e,t}function t(n){return e(2,n,(function(e){return function(t){return n(e,t)}}))}function r(n){return e(3,n,(function(e){return function(t){return function(r){return n(e,t,r)}}}))}function o(n){return e(4,n,(function(e){return function(t){return function(r){return function(o){return n(e,t,r,o)}}}}))}function i(n){return e(5,n,(function(e){return function(t){return function(r){return function(o){return function(i){return n(e,t,r,o,i)}}}}}))}function a(n,e,t){return 2===n.a?n.f(e,t):n(e)(t)}function u(n,e,t,r){return 3===n.a?n.f(e,t,r):n(e)(t)(r)}function s(n,e,t,r,o){return 4===n.a?n.f(e,t,r,o):n(e)(t)(r)(o)}function c(n,e,t,r,o,i){return 5===n.a?n.f(e,t,r,o,i):n(e)(t)(r)(o)(i)}console.warn("Compiled in DEV mode. Follow the advice at https://elm-lang.org/0.19.0/optimize for better performance and smaller assets.");var f=r((function(n,e,t){for(var r=Array(n),o=0;n>o;o++)r[o]=t(e+o);return r})),l=t((function(n,e){for(var t=Array(n),r=0;n>r&&e.b;r++)t[r]=e.a,e=e.b;return t.length=r,B(t,e)})),h=t((function(n,e){return e[n]})),d=r((function(n,e,t){for(var r=t.length-1;r>=0;r--)e=a(n,t[r],e);return e})),g={$:"[]"};function p(n,e){return{$:"::",a:n,b:e}}var b=t(p);function m(n){for(var e=g,t=n.length;t--;)e=p(n[t],e);return e}function E(n){for(var e=[];n.b;n=n.b)e.push(n.a);return e}var v=r((function(n,e,t){for(var r=[];e.b&&t.b;e=e.b,t=t.b)r.push(a(n,e.a,t.a));return m(r)})),_=t((function(n,e){return m(E(e).sort((function(e,t){return C(n(e),n(t))})))})),y=t((function(n,e){return console.log(n+": "+R(e)),e}));function R(n){return function n(e,t){if("function"==typeof t)return w(e,"<function>");if("boolean"==typeof t)return T(e,t?"True":"False");if("number"==typeof t)return function(n,e){return n?"[95m"+e+"[0m":e}(e,t+"");if(t instanceof String)return function(n,e){return n?"[92m"+e+"[0m":e}(e,"'"+S(t,!0)+"'");if("string"==typeof t)return function(n,e){return n?"[93m"+e+"[0m":e}(e,'"'+S(t,!1)+'"');if("object"==typeof t&&"$"in t){var r=t.$;if("number"==typeof r)return w(e,"<internals>");if("#"===r[0]){var o=[];for(var i in t)"$"!==i&&o.push(n(e,t[i]));return"("+o.join(",")+")"}if("Set_elm_builtin"===r)return T(e,"Set")+k(e,".fromList")+" "+n(e,xe(t));if("RBNode_elm_builtin"===r||"RBEmpty_elm_builtin"===r)return T(e,"Dict")+k(e,".fromList")+" "+n(e,Ce(t));if("Array_elm_builtin"===r)return T(e,"Array")+k(e,".fromList")+" "+n(e,$e(t));if("::"===r||"[]"===r){for(o="[",t.b&&(o+=n(e,t.a),t=t.b);t.b;t=t.b)o+=","+n(e,t.a);return o+"]"}for(var a in o="",t)if("$"!==a){var u=n(e,t[a]),s=u[0];o+=" "+("{"===s||"("===s||"["===s||"<"===s||'"'===s||0>u.indexOf(" ")?u:"("+u+")")}return T(e,r)+o}if("object"==typeof t){for(var c in o=[],t){var f="_"===c[0]?c.slice(1):c;o.push(k(e,f)+" = "+n(e,t[c]))}return 0===o.length?"{}":"{ "+o.join(", ")+" }"}return w(e,"<internals>")}(!1,n)}function S(n,e){var t=n.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?t.replace(/\'/g,"\\'"):t.replace(/\"/g,'\\"')}function T(n,e){return n?"[96m"+e+"[0m":e}function k(n,e){return n?"[37m"+e+"[0m":e}function w(n,e){return n?"[94m"+e+"[0m":e}function L(n,e,t,r,o){switch(n){case 0:throw Error('What node should I take over? In JavaScript I need something like:\n\n    Elm.Main.init({\n        node: document.getElementById("elm-node")\n    })\n\nYou need to do this with any Browser.sandbox or Browser.element program.');case 1:throw Error("Browser.application programs cannot handle URLs like this:\n\n    "+document.location.href+"\n\nWhat is the root? The root of your file system? Try looking at this program with `elm reactor` or some other server.");case 2:throw Error("Problem with the flags given to your Elm program on initialization.\n\n"+e);case 3:throw Error("There can only be one port named `"+e+"`, but your program has multiple.");case 4:throw Error("Trying to send an unexpected type of value through port `"+e+"`:\n"+t);case 5:throw Error('Trying to use `(==)` on functions.\nThere is no way to know if functions are "the same" in the Elm sense.\nRead more about this at https://package.elm-lang.org/packages/elm/core/latest/Basics#== which describes why it is this way and what the better version will look like.');case 6:throw Error("Your page is loading multiple Elm scripts with a module named "+e+". Maybe a duplicate script is getting loaded accidentally? If not, rename one of them so I know which is which!");case 8:var i=r;throw Error("TODO in module `"+e+"` "+I(t)+"\n\n"+i);case 9:var a=r;throw i=o,Error("TODO in module `"+e+"` from the `case` expression "+I(t)+"\n\nIt received the following value:\n\n    "+R(a).replace("\n","\n    ")+"\n\nBut the branch that handles it says:\n\n    "+i.replace("\n","\n    "));case 10:throw Error("Bug in https://github.com/elm/virtual-dom/issues");case 11:throw Error("Cannot perform mod 0. Division by zero error.")}}function I(n){return n.start.line===n.end.line?"on line "+n.start.line:"on lines "+n.start.line+" through "+n.end.line}function A(n,e){for(var t,r=[],o=$(n,e,0,r);o&&(t=r.pop());o=$(t.a,t.b,0,r));return o}function $(n,e,t,r){if(t>100)return r.push(B(n,e)),!0;if(n===e)return!0;if("object"!=typeof n||null===n||null===e)return"function"==typeof n&&L(5),!1;for(var o in"Set_elm_builtin"===n.$&&(n=xe(n),e=xe(e)),"RBNode_elm_builtin"!==n.$&&"RBEmpty_elm_builtin"!==n.$||(n=Ce(n),e=Ce(e)),n)if(!$(n[o],e[o],t+1,r))return!1;return!0}var O=t(A),N=t((function(n,e){return!A(n,e)}));function C(n,e,t){if("object"!=typeof n)return n===e?0:e>n?-1:1;if(n instanceof String){var r=n.valueOf(),o=e.valueOf();return r===o?0:o>r?-1:1}if("#"===n.$[0])return(t=C(n.a,e.a))?t:(t=C(n.b,e.b))?t:C(n.c,e.c);for(;n.b&&e.b&&!(t=C(n.a,e.a));n=n.b,e=e.b);return t||(n.b?1:e.b?-1:0)}var x=t((function(n,e){var t=C(n,e);return 0>t?Ie:t?Oe:Le})),P={$:"#0"};function B(n,e){return{$:"#2",a:n,b:e}}function M(n,e,t){return{$:"#3",a:n,b:e,c:t}}function Y(n){return new String(n)}function D(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function H(n,e){if("string"==typeof n)return n+e;if(!n.b)return e;var t=p(n.a,e);n=n.b;for(var r=t;n.b;n=n.b)r=r.b=p(n.a,e);return t}var F=t((function(n,e){return n+e})),j=Math.ceil,W=Math.floor,U=Math.log,G=i((function(n,e,t,r,o){for(var i=n.length,a=o.length>=e+i,u=0;a&&i>u;){var s=o.charCodeAt(e);a=n[u++]===o[e++]&&(10===s?(t++,r=1):(r++,55296==(63488&s)?n[u++]===o[e++]:1))}return M(a?e:-1,t,r)})),J=r((function(n,e,t){return t.length>e?55296==(63488&t.charCodeAt(e))?n(Y(t.substr(e,2)))?e+2:-1:n(Y(t[e]))?"\n"===t[e]?-2:e+1:-1:-1})),q=i((function(n,e,t,r,o){for(var i=o.indexOf(n,e),a=0>i?o.length:i+n.length;a>e;){var u=o.charCodeAt(e++);10===u?(r=1,t++):(r++,55296==(63488&u)&&e++)}return M(i,t,r)})),K=t((function(n,e){return e.split(n)})),z=t((function(n,e){return e.join(n)})),V=r((function(n,e,t){return t.slice(n,e)})),Q=t((function(n,e){for(var t=e.length;t--;){var r=e[t],o=e.charCodeAt(t);if(56320>o||o>57343||(r=e[--t]+r),!n(Y(r)))return!1}return!0}));function X(n){return{$:2,b:n}}X((function(n){return"number"!=typeof n?cn("an INT",n):n>-2147483647&&2147483647>n&&(0|n)===n?br(n):!isFinite(n)||n%1?cn("an INT",n):br(n)}));var Z=X((function(n){return"boolean"==typeof n?br(n):cn("a BOOL",n)})),nn=(X((function(n){return"number"==typeof n?br(n):cn("a FLOAT",n)})),X((function(n){return br(dn(n))})),X((function(n){return"string"==typeof n?br(n):n instanceof String?br(n+""):cn("a STRING",n)}))),en=t((function(n,e){return{$:6,d:n,b:e}})),tn=t((function(n,e){return{$:10,b:e,h:n}})),rn=t((function(n,e){return on(n,gn(e))}));function on(n,e){switch(n.$){case 2:return n.b(e);case 5:return null===e?br(n.c):cn("null",e);case 3:return un(e)?an(n.b,e,m):cn("a LIST",e);case 4:return un(e)?an(n.b,e,sn):cn("an ARRAY",e);case 6:var t=n.d;if("object"!=typeof e||null===e||!(t in e))return cn("an OBJECT with a field named `"+t+"`",e);var r=on(n.b,e[t]);return Bi(r)?r:pr(a(Fi,t,r.a));case 7:var o=n.e;return un(e)?e.length>o?(r=on(n.b,e[o]),Bi(r)?r:pr(a(ji,o,r.a))):cn("a LONGER array. Need index "+o+" but only see "+e.length+" entries",e):cn("an ARRAY",e);case 8:if("object"!=typeof e||null===e||un(e))return cn("an OBJECT",e);var i=g;for(var u in e)if(e.hasOwnProperty(u)){if(r=on(n.b,e[u]),!Bi(r))return pr(a(Fi,u,r.a));i=p(B(u,r.a),i)}return br(lr(i));case 9:for(var s=n.f,c=n.g,f=0;c.length>f;f++){if(r=on(c[f],e),!Bi(r))return r;s=s(r.a)}return br(s);case 10:return r=on(n.b,e),Bi(r)?on(n.h(r.a),e):r;case 11:for(var l=g,h=n.g;h.b;h=h.b){if(r=on(h.a,e),Bi(r))return r;l=p(r.a,l)}return pr(Wi(lr(l)));case 1:return pr(a(Hi,n.a,dn(e)));case 0:return br(n.a)}}function an(n,e,t){for(var r=e.length,o=Array(r),i=0;r>i;i++){var u=on(n,e[i]);if(!Bi(u))return pr(a(ji,i,u.a));o[i]=u.a}return br(t(o))}function un(n){return Array.isArray(n)||"function"==typeof FileList&&n instanceof FileList}function sn(n){return a(Di,n.length,(function(e){return n[e]}))}function cn(n,e){return pr(a(Hi,"Expecting "+n,dn(e)))}function fn(n,e){if(n===e)return!0;if(n.$!==e.$)return!1;switch(n.$){case 0:case 1:return n.a===e.a;case 2:return n.b===e.b;case 5:return n.c===e.c;case 3:case 4:case 8:return fn(n.b,e.b);case 6:return n.d===e.d&&fn(n.b,e.b);case 7:return n.e===e.e&&fn(n.b,e.b);case 9:return n.f===e.f&&ln(n.g,e.g);case 10:return n.h===e.h&&fn(n.b,e.b);case 11:return ln(n.g,e.g)}}function ln(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;t>r;r++)if(!fn(n[r],e[r]))return!1;return!0}var hn=t((function(n,e){return JSON.stringify(gn(e),null,n)+""}));function dn(n){return{$:0,a:n}}function gn(n){return n.a}function pn(n){return{$:0,a:n}}function bn(n){return{$:2,b:n,c:null}}dn(null);var mn=t((function(n,e){return{$:3,b:n,d:e}})),En=0;function vn(n){var e={$:0,e:En++,f:n,g:null,h:[]};return Rn(e),e}var _n=!1,yn=[];function Rn(n){if(yn.push(n),!_n){for(_n=!0;n=yn.shift();)Sn(n);_n=!1}}function Sn(n){for(;n.f;){var e=n.f.$;if(0===e||1===e){for(;n.g&&n.g.$!==e;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===e)return void(n.f.c=n.f.b((function(e){n.f=e,Rn(n)})));if(5===e){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===e?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}var Tn={};function kn(n,e){var t={g:e,h:void 0},r=n.c,o=n.d,i=n.e,c=n.f;return t.h=vn(a(mn,(function n(e){return a(mn,n,{$:5,b:function(n){var a=n.a;return 0===n.$?u(o,t,a,e):i&&c?s(r,t,a.i,a.j,e):u(r,t,i?a.i:a.j,e)}})}),n.b))}var wn=t((function(n,e){return bn((function(t){n.g(e),t(pn(P))}))}));function Ln(n){return function(e){return{$:1,k:n,l:e}}}function In(n){return{$:2,m:n}}function An(n,e,t){var r,o={};for(var i in $n(!0,e,o,null),$n(!1,t,o,null),n)(r=n[i]).h.push({$:"fx",a:o[i]||{i:g,j:g}}),Rn(r)}function $n(n,e,t,r){switch(e.$){case 1:var o=e.k,i=function(n,t,r){return a(n?Tn[t].e:Tn[t].f,(function(n){for(var e=r;e;e=e.q)n=e.p(n);return n}),e.l)}(n,o,r);return void(t[o]=function(n,e,t){return t=t||{i:g,j:g},n?t.i=p(e,t.i):t.j=p(e,t.j),t}(n,i,t[o]));case 2:for(var u=e.m;u.b;u=u.b)$n(n,u.a,t,r);return;case 3:return void $n(n,e.o,t,{p:e.n,q:r})}}function On(n,e){return function(n){Tn[n]&&L(3,n)}(n),Tn[n]={f:Cn,r:e,a:xn},Ln(n)}var Nn,Cn=t((function(n,e){return function(t){return n(e(t))}}));function xn(n,e){var t=g,o=Tn[n].r,i=pn(null);return Tn[n].b=i,Tn[n].c=r((function(n,e){return t=e,i})),{send:function(r){var i=a(rn,o,dn(r));Bi(i)||L(4,n,i.a);for(var u=i.a,s=t;s.b;s=s.b)e(s.a(u))}}}var Pn="undefined"!=typeof document?document:{};function Bn(n,e){n.appendChild(e)}function Mn(n){return{$:0,a:n}}var Yn,Dn=t((function(n,e){return t((function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b||0,o.push(a)}return i+=o.length,{$:1,c:e,d:Un(t),e:o,f:n,b:i}}))}))(void 0),Hn=t((function(n,e){return t((function(t,r){for(var o=[],i=0;r.b;r=r.b){var a=r.a;i+=a.b.b||0,o.push(a)}return i+=o.length,{$:2,c:e,d:Un(t),e:o,f:n,b:i}}))}))(void 0),Fn=t((function(n,e){return{$:"a0",n:n,o:e}})),jn=t((function(n,e){return{$:"a2",n:n,o:e}})),Wn=t((function(n,e){return{$:"a3",n:n,o:e}}));function Un(n){for(var e={};n.b;n=n.b){var t=n.a,r=t.$,o=t.n,i=t.o;if("a2"!==r){var a=e[r]||(e[r]={});"a3"===r&&"class"===o?Gn(a,o,i):a[o]=i}else"className"===o?Gn(e,o,gn(i)):e[o]=gn(i)}return e}function Gn(n,e,t){var r=n[e];n[e]=r?r+" "+t:t}function Jn(n,e){var t=n.$;if(5===t)return Jn(n.k||(n.k=n.m()),e);if(0===t)return Pn.createTextNode(n.a);if(4===t){for(var r=n.k,o=n.j;4===r.$;)"object"!=typeof o?o=[o,r.j]:o.push(r.j),r=r.k;var i={j:o,p:e};return(a=Jn(r,i)).elm_event_node_ref=i,a}if(3===t)return qn(a=n.h(n.g),e,n.d),a;var a=n.f?Pn.createElementNS(n.f,n.c):Pn.createElement(n.c);Nn&&"a"==n.c&&a.addEventListener("click",Nn(a)),qn(a,e,n.d);for(var u=n.e,s=0;u.length>s;s++)Bn(a,Jn(1===t?u[s]:u[s].b,e));return a}function qn(n,e,t){for(var r in t){var o=t[r];"a1"===r?Kn(n,o):"a0"===r?Qn(n,e,o):"a3"===r?zn(n,o):"a4"===r?Vn(n,o):("value"!==r||"checked"!==r||n[r]!==o)&&(n[r]=o)}}function Kn(n,e){var t=n.style;for(var r in e)t[r]=e[r]}function zn(n,e){for(var t in e){var r=e[t];r?n.setAttribute(t,r):n.removeAttribute(t)}}function Vn(n,e){for(var t in e){var r=e[t],o=r.f,i=r.o;i?n.setAttributeNS(o,t,i):n.removeAttributeNS(o,t)}}function Qn(n,e,t){var r=n.elmFs||(n.elmFs={});for(var o in t){var i=t[o],a=r[o];if(i){if(a){if(a.q.$===i.$){a.q=i;continue}n.removeEventListener(o,a)}a=Xn(e,i),n.addEventListener(o,a,Yn&&{passive:2>Eu(i)}),r[o]=a}else n.removeEventListener(o,a),r[o]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Yn=!0}}))}catch(n){}function Xn(n,e){function t(e){var r=t.q,o=on(r.a,e);if(Bi(o)){for(var i,a=Eu(r),u=o.a,s=a?3>a?u.a:u.message:u,c=1==a?u.b:3==a&&u.stopPropagation,f=(c&&e.stopPropagation(),(2==a?u.b:3==a&&u.preventDefault)&&e.preventDefault(),n);i=f.j;){if("function"==typeof i)s=i(s);else for(var l=i.length;l--;)s=i[l](s);f=f.p}f(s,c)}}return t.q=e,t}function Zn(n,e){return n.$==e.$&&fn(n.a,e.a)}function ne(n,e,t,r){var o={$:e,r:t,s:r,t:void 0,u:void 0};return n.push(o),o}function ee(n,e,t,r){if(n!==e){var o=n.$,i=e.$;if(o!==i){if(1!==o||2!==i)return void ne(t,0,r,e);e=function(n){for(var e=n.e,t=e.length,r=Array(t),o=0;t>o;o++)r[o]=e[o].b;return{$:1,c:n.c,d:n.d,e:r,f:n.f,b:n.b}}(e),i=1}switch(i){case 5:for(var a=n.l,u=e.l,s=a.length,c=s===u.length;c&&s--;)c=a[s]===u[s];if(c)return void(e.k=n.k);e.k=e.m();var f=[];return ee(n.k,e.k,f,0),void(f.length>0&&ne(t,1,r,f));case 4:for(var l=n.j,h=e.j,d=!1,g=n.k;4===g.$;)d=!0,"object"!=typeof l?l=[l,g.j]:l.push(g.j),g=g.k;for(var p=e.k;4===p.$;)d=!0,"object"!=typeof h?h=[h,p.j]:h.push(p.j),p=p.k;return d&&l.length!==h.length?void ne(t,0,r,e):((d?function(n,e){for(var t=0;n.length>t;t++)if(n[t]!==e[t])return!1;return!0}(l,h):l===h)||ne(t,2,r,h),void ee(g,p,t,r+1));case 0:return void(n.a!==e.a&&ne(t,3,r,e.a));case 1:return void te(n,e,t,r,oe);case 2:return void te(n,e,t,r,ie);case 3:if(n.h!==e.h)return void ne(t,0,r,e);var b=re(n.d,e.d);b&&ne(t,4,r,b);var m=e.i(n.g,e.g);return void(m&&ne(t,5,r,m))}}}function te(n,e,t,r,o){if(n.c===e.c&&n.f===e.f){var i=re(n.d,e.d);i&&ne(t,4,r,i),o(n,e,t,r)}else ne(t,0,r,e)}function re(n,e,t){var r;for(var o in n)if("a1"!==o&&"a0"!==o&&"a3"!==o&&"a4"!==o)if(o in e){var i=n[o],a=e[o];i===a&&"value"!==o&&"checked"!==o||"a0"===t&&Zn(i,a)||((r=r||{})[o]=a)}else(r=r||{})[o]=t?"a1"===t?"":"a0"===t||"a3"===t?void 0:{f:n[o].f,o:void 0}:"string"==typeof n[o]?"":null;else{var u=re(n[o],e[o]||{},o);u&&((r=r||{})[o]=u)}for(var s in e)s in n||((r=r||{})[s]=e[s]);return r}function oe(n,e,t,r){var o=n.e,i=e.e,a=o.length,u=i.length;a>u?ne(t,6,r,{v:u,i:a-u}):u>a&&ne(t,7,r,{v:a,e:i});for(var s=u>a?a:u,c=0;s>c;c++){var f=o[c];ee(f,i[c],t,++r),r+=f.b||0}}function ie(n,e,t,r){for(var o=[],i={},a=[],u=n.e,s=e.e,c=u.length,f=s.length,l=0,h=0,d=r;c>l&&f>h;){var g=(w=u[l]).a,p=(L=s[h]).a,b=w.b,m=L.b;if(g!==p){var E=u[l+1],v=s[h+1];if(E)var _=E.a,y=E.b,R=p===_;if(v)var S=v.a,T=v.b,k=g===S;if(k&&R)ee(b,T,o,++d),ue(i,o,g,m,h,a),d+=b.b||0,se(i,o,g,y,++d),d+=y.b||0,l+=2,h+=2;else if(k)d++,ue(i,o,p,m,h,a),ee(b,T,o,d),d+=b.b||0,l+=1,h+=2;else if(R)se(i,o,g,b,++d),d+=b.b||0,ee(y,m,o,++d),d+=y.b||0,l+=2,h+=1;else{if(!E||_!==S)break;se(i,o,g,b,++d),ue(i,o,p,m,h,a),d+=b.b||0,ee(y,T,o,++d),d+=y.b||0,l+=2,h+=2}}else ee(b,m,o,++d),d+=b.b||0,l++,h++}for(;c>l;){var w;se(i,o,(w=u[l]).a,b=w.b,++d),d+=b.b||0,l++}for(;f>h;){var L,I=I||[];ue(i,o,(L=s[h]).a,L.b,void 0,I),h++}(o.length>0||a.length>0||I)&&ne(t,8,r,{w:o,x:a,y:I})}var ae="_elmW6BL";function ue(n,e,t,r,o,i){var a=n[t];if(!a)return i.push({r:o,A:a={c:0,z:r,r:o,s:void 0}}),void(n[t]=a);if(1===a.c){i.push({r:o,A:a}),a.c=2;var u=[];return ee(a.z,r,u,a.r),a.r=o,void(a.s.s={w:u,A:a})}ue(n,e,t+ae,r,o,i)}function se(n,e,t,r,o){var i=n[t];if(i){if(0===i.c){i.c=2;var a=[];return ee(r,i.z,a,o),void ne(e,9,o,{w:a,A:i})}se(n,e,t+ae,r,o)}else{var u=ne(e,9,o,void 0);n[t]={c:1,z:r,r:o,s:u}}}function ce(n,e){for(var t=0;e.length>t;t++){var r=e[t],o=r.t,i=fe(o,r);o===n&&(n=i)}return n}function fe(n,e){switch(e.$){case 0:return function(n){var t=n.parentNode,r=Jn(e.s,e.u);return r.elm_event_node_ref||(r.elm_event_node_ref=n.elm_event_node_ref),t&&r!==n&&t.replaceChild(r,n),r}(n);case 4:return qn(n,e.u,e.s),n;case 3:return n.replaceData(0,n.length,e.s),n;case 1:return ce(n,e.s);case 2:return n.elm_event_node_ref?n.elm_event_node_ref.j=e.s:n.elm_event_node_ref={j:e.s,p:e.u},n;case 6:for(var t=e.s,r=0;t.i>r;r++)n.removeChild(n.childNodes[t.v]);return n;case 7:for(var o=(t=e.s).e,i=n.childNodes[r=t.v];o.length>r;r++)n.insertBefore(Jn(o[r],e.u),i);return n;case 9:if(!(t=e.s))return n.parentNode.removeChild(n),n;var a=t.A;return void 0!==a.r&&n.parentNode.removeChild(n),a.s=ce(n,t.w),n;case 8:return function(n,e){var t=e.s,r=function(n,e){if(n){for(var t=Pn.createDocumentFragment(),r=0;n.length>r;r++){var o=n[r].A;Bn(t,2===o.c?o.s:Jn(o.z,e.u))}return t}}(t.y,e);n=ce(n,t.w);for(var o=t.x,i=0;o.length>i;i++){var a=o[i],u=a.A,s=2===u.c?u.s:Jn(u.z,e.u);n.insertBefore(s,n.childNodes[a.r])}return r&&Bn(n,r),n}(n,e);case 5:return e.s(n);default:L(10)}}var le=r((function(n,e,t){return function(n,e,t,r){return{$:3,d:Un(n),g:e,h:t,i:r}}(e,{a:n,b:t},he,de)}));function he(n){return a(be,n,Pn.createElement("div"))}function de(n,e){return(n.b!==e.b||n.a!==e.a)&&be(e)}var ge,pe,be=t((function(n,e){return e.innerHTML=me(n.b,{highlight:function(n,e){return!e&&Yu(t.defaultHighlighting)&&(e=t.defaultHighlighting.a),"undefined"!=typeof hljs&&e&&hljs.listLanguages().indexOf(e)>=0?hljs.highlight(e,n,!0).value:n},gfm:r=(t=n.a).githubFlavored.a,tables:r&&r.tables,breaks:r&&r.breaks,sanitize:t.sanitize,smartypants:t.smartypants}),e;var t,r})),me=(pe=(ge={}).exports={},function(){var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function e(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=n.normal,this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=u(n.item,"gm")(/bull/g,n.bullet)(),n.list=u(n.list)(/bull/g,n.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+n.def.source+")")(),n.blockquote=u(n.blockquote)("def",n.def)(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",n.html=u(n.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,n._tag)(),n.paragraph=u(n.paragraph)("hr",n.hr)("heading",n.heading)("lheading",n.lheading)("blockquote",n.blockquote)("tag","<"+n._tag)("def",n.def)(),n.normal=c({},n),n.gfm=c({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=u(n.paragraph)("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|")(),n.tables=c({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=n,e.lex=function(n,t){return new e(t).lex(n)},e.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)},e.prototype.token=function(e,t,r){var o,i,a,u,s,c,f,l,h;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},l=0;c.align.length>l;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;c.cells.length>l;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t,!0),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),this.tokens.push({type:"list_start",ordered:(u=a[2]).length>1}),o=!1,h=(a=a[0].match(this.rules.item)).length,l=0;h>l;l++)f=(c=a[l]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(f-=c.length,c=c.replace(this.options.pedantic?/^ {1,4}/gm:RegExp("^ {1,"+f+"}","gm"),"")),this.options.smartLists&&l!==h-1&&(u===(s=n.bullet.exec(a[l+1])[0])||u.length>1&&s.length>1||(e=a.slice(l+1).join("\n")+e,l=h-1)),i=o||/\n\n(?!\s*$)/.test(c),l!==h-1&&(o="\n"===c.charAt(c.length-1),i||(i=o)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(c,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(!r&&t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),this.tokens.links[a[1].toLowerCase()]={href:a[2],title:a[3]};else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;c.align.length>l;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;c.cells.length>l;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^_\_([\s\S]+?)_\_(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|_\_)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function r(n,e){if(this.options=e||f.defaults,this.links=n,this.rules=t.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?t.breaks:t.gfm:this.options.pedantic&&(this.rules=t.pedantic)}function o(n){this.options=n||{}}function i(n){this.tokens=[],this.token=null,this.options=n||f.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(n,e){return n.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(n,e){return n=n.source,e=e||"",function t(r,o){return r?(o=(o=o.source||o).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,o),t):RegExp(n,e)}}function s(){}function c(n){for(var e,t,r=1;arguments.length>r;r++)for(t in e=arguments[r])Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function f(n,t,r){if(r||"function"==typeof t){r||(r=t,t=null);var o,u,s=(t=c({},f.defaults,t||{})).highlight,l=0;try{o=e.lex(n,t)}catch(n){return r(n)}u=o.length;var h=function(n){if(n)return t.highlight=s,r(n);var e;try{e=i.parse(o,t)}catch(e){n=e}return t.highlight=s,n?r(n):r(null,e)};if(!s||3>s.length)return h();if(delete t.highlight,!u)return h();for(;o.length>l;l++)!function(n){"code"!==n.type?--u||h():s(n.text,n.lang,(function(e,t){return e?h(e):null==t||t===n.text?--u||h():(n.text=t,n.escaped=!0,void(--u||h()))}))}(o[l])}else try{return t&&(t=c({},f.defaults,t)),i.parse(e.lex(n,t),t)}catch(n){if(n.message+="\nPlease report this to https://github.com/chjj/marked.",(t||f.defaults).silent)return"<p>An error occured:</p><pre>"+a(n.message+"",!0)+"</pre>";throw n}}t._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,t._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,t.link=u(t.link)("inside",t._inside)("href",t._href)(),t.reflink=u(t.reflink)("inside",t._inside)(),t.normal=c({},t),t.pedantic=c({},t.normal,{strong:/^_\_(?=\S)([\s\S]*?\S)_\_(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),t.gfm=c({},t.normal,{escape:u(t.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(t.text)("]|","~]|")("|","|https?://|")()}),t.breaks=c({},t.gfm,{br:u(t.br)("{2,}","*")(),text:u(t.gfm.text)("{2,}","*")()}),r.rules=t,r.output=function(n,e,t){return new r(e,t).output(n)},r.prototype.output=function(n){for(var e,t,r,o,i="";n;)if(o=this.rules.escape.exec(n))n=n.substring(o[0].length),i+=o[1];else if(o=this.rules.autolink.exec(n))n=n.substring(o[0].length),"@"===o[2]?(t=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),r=this.mangle("mailto:")+t):r=t=a(o[1]),i+=this.renderer.link(r,null,t);else if(this.inLink||!(o=this.rules.url.exec(n))){if(o=this.rules.tag.exec(n))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),n=n.substring(o[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):a(o[0]):o[0];else if(o=this.rules.link.exec(n))n=n.substring(o[0].length),this.inLink=!0,i+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(n))||(o=this.rules.nolink.exec(n))){if(n=n.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){i+=o[0].charAt(0),n=o[0].substring(1)+n;continue}this.inLink=!0,i+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(n))n=n.substring(o[0].length),i+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(n))n=n.substring(o[0].length),i+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(n))n=n.substring(o[0].length),i+=this.renderer.codespan(a(o[2],!0));else if(o=this.rules.br.exec(n))n=n.substring(o[0].length),i+=this.renderer.br();else if(o=this.rules.del.exec(n))n=n.substring(o[0].length),i+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(n))n=n.substring(o[0].length),i+=this.renderer.text(a(this.smartypants(o[0])));else if(n)throw Error("Infinite loop on byte: "+n.charCodeAt(0))}else n=n.substring(o[0].length),t=a(o[1]),i+=this.renderer.link(r=t,null,t);return i},r.prototype.outputLink=function(n,e){var t=a(e.href),r=e.title?a(e.title):null;return"!"!==n[0].charAt(0)?this.renderer.link(t,r,this.output(n[1])):this.renderer.image(t,r,a(n[1]))},r.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):n},r.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var e,t="",r=n.length,o=0;r>o;o++)e=n.charCodeAt(o),Math.random()>.5&&(e="x"+e.toString(16)),t+="&#"+e+";";return t},o.prototype.code=function(n,e,t){if(this.options.highlight){var r=this.options.highlight(n,e);null!=r&&r!==n&&(t=!0,n=r)}return e?'<pre><code class="'+this.options.langPrefix+a(e,!0)+'">'+(t?n:a(n,!0))+"\n</code></pre>\n":"<pre><code>"+(t?n:a(n,!0))+"\n</code></pre>"},o.prototype.blockquote=function(n){return"<blockquote>\n"+n+"</blockquote>\n"},o.prototype.html=function(n){return n},o.prototype.heading=function(n,e,t){return"<h"+e+' id="'+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(n,e){var t=e?"ol":"ul";return"<"+t+">\n"+n+"</"+t+">\n"},o.prototype.listitem=function(n){return"<li>"+n+"</li>\n"},o.prototype.paragraph=function(n){return"<p>"+n+"</p>\n"},o.prototype.table=function(n,e){return"<table>\n<thead>\n"+n+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(n){return"<tr>\n"+n+"</tr>\n"},o.prototype.tablecell=function(n,e){var t=e.header?"th":"td";return(e.align?"<"+t+' style="text-align:'+e.align+'">':"<"+t+">")+n+"</"+t+">\n"},o.prototype.strong=function(n){return"<strong>"+n+"</strong>"},o.prototype.em=function(n){return"<em>"+n+"</em>"},o.prototype.codespan=function(n){return"<code>"+n+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(n){return"<del>"+n+"</del>"},o.prototype.link=function(n,e,t){if(this.options.sanitize){try{var r=decodeURIComponent((o=n,o.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,(function(n,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})))).replace(/[^\w:]/g,"").toLowerCase()}catch(n){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return""}var o,i='<a href="'+n+'"';return e&&(i+=' title="'+e+'"'),i+">"+t+"</a>"},o.prototype.image=function(n,e,t){var r='<img src="'+n+'" alt="'+t+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},o.prototype.text=function(n){return n},i.parse=function(n,e,t){return new i(e,t).parse(n)},i.prototype.parse=function(n){this.inline=new r(n.links,this.options,this.renderer),this.tokens=n.reverse();for(var e="";this.next();)e+=this.tok();return e},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var n=this.token.text;"text"===this.peek().type;)n+="\n"+this.next().text;return this.inline.output(n)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var n,e,t,r,o="",i="";for(t="",n=0;this.token.header.length>n;n++)t+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(o+=this.renderer.tablerow(t),n=0;this.token.cells.length>n;n++){for(e=this.token.cells[n],t="",r=0;e.length>r;r++)t+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(t)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a);case"list_item_start":for(i="";"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,f.options=f.setOptions=function(n){return c(f.defaults,n),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},f.Parser=i,f.parser=i.parse,f.Renderer=o,f.Lexer=e,f.lexer=e.lex,f.InlineLexer=r,f.inlineLexer=r.output,f.parse=f,void 0!==ge&&"object"==typeof pe?ge.exports=f:"function"==typeof define&&define.amd?define((function(){return f})):this.marked=f}.call(function(){return this||("undefined"!=typeof window?window:global)}()),ge.exports),Ee=o((function(n,e,t,r){return function(e,t,r,o,i){var s=a(rn,e,dn(t?t.flags:void 0));Bi(s)||L(2,Xi(s.a));var c={},f=(s=r(s.a)).a,l=function(e,t){var r=n.setup&&n.setup(e),o=n.view,i=Pn.title,s=Pn.body,c=function n(e){if(3===e.nodeType)return Mn(e.textContent);if(1!==e.nodeType)return Mn("");for(var t=g,r=e.attributes,o=r.length;o--;){var i=r[o];t=p(a(Wn,i.name,i.value),t)}var s=e.tagName.toLowerCase(),c=g,f=e.childNodes;for(o=f.length;o--;)c=p(n(f[o]),c);return u(Dn,s,t,c)}(s);return function(n,e){e(n);var t=0;function r(){t=1===t?0:(ve(r),e(n),1)}return function(o,i){n=o,i?(e(n),2===t&&(t=1)):(0===t&&ve(r),t=2)}}(t,(function(n){Nn=r;var t=o(n),a=Dn("body")(g)(t.body),u=function(n,e){var t=[];return ee(n,e,t,0),t}(c,a);s=function(n,e,t,r){return 0===t.length?n:(function n(e,t,r,o){!function e(t,r,o,i,a,u,s){for(var c=o[i],f=c.r;f===a;){var l=c.$;if(1===l)n(t,r.k,c.s,s);else if(8===l)c.t=t,c.u=s,(h=c.s.w).length>0&&e(t,r,h,0,a,u,s);else if(9===l){c.t=t,c.u=s;var h,d=c.s;d&&(d.A.s=t,(h=d.w).length>0&&e(t,r,h,0,a,u,s))}else c.t=t,c.u=s;if(!(c=o[++i])||(f=c.r)>u)return i}var g=r.$;if(4===g){for(var p=r.k;4===p.$;)p=p.k;return e(t,p,o,i,a+1,u,t.elm_event_node_ref)}for(var b=r.e,m=t.childNodes,E=0;b.length>E;E++){a++;var v=1===g?b[E]:b[E].b,_=a+(v.b||0);if(!(a>f||f>_||(c=o[i=e(m[E],v,o,i,a,_,s)])&&(f=c.r)<=u))return i;a=_}return i}(e,t,r,0,0,t.b,o)}(n,e,t,r),ce(n,t))}(s,c,u,e),c=a,Nn=0,i!==t.title&&(Pn.title=i=t.title)}))}(d,f),h=function(n,e){var t;for(var r in Tn){var o=Tn[r];o.a&&((t=t||{})[r]=o.a(r,e)),n[r]=kn(o,e)}return t}(c,d);function d(n,e){l(f=(s=a(o,n,f)).a,e),An(c,s.b,i(f))}return An(c,s.b,i(f)),h?{ports:h}:{}}(e,r,n.init,n.update,n.subscriptions)})),ve="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(n){setTimeout(n,1e3/60)};"undefined"!=typeof document&&document,"undefined"!=typeof window&&window;var _e,ye,Re,Se=function(n){return{$:"Title",a:n}},Te=r((function(n,e,t){return e(n(t))})),ke=d,we=r((function(n,e,r){var o=r.c,i=r.d,a=t((function(e,t){return u(ke,"SubTree"===e.$?a:n,t,e.a)}));return u(ke,a,u(ke,n,e,i),o)})),Le={$:"EQ"},Ie={$:"LT"},Ae=b,$e=function(n){return u(we,Ae,g,n)},Oe={$:"GT"},Ne=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.d,o=n,i=u(n,t.b,t.c,u(Ne,n,e,t.e));n=o,e=i,t=r}})),Ce=function(n){return u(Ne,r((function(n,e,t){return a(Ae,B(n,e),t)})),g,n)},xe=function(n){return function(n){return u(Ne,r((function(n,e,t){return a(Ae,n,t)})),g,n)}(n.a)},Pe=x,Be=function(n){return{$:"Just",a:n}},Me={$:"Nothing"},Ye=t((function(n,e){n:for(;;){if("RBEmpty_elm_builtin"===e.$)return Me;var t=e.c,r=e.d,o=e.e;switch(a(Pe,n,e.b).$){case"LT":n=n,e=r;continue n;case"EQ":return Be(t);default:n=n,e=o;continue n}}})),De=t((function(n,e){return"Just"===e.$?n(e.a):Me})),He=r((function(n,e,t){return a(De,a(Te,(function(n){return n.stats}),Ye(e)),a(Ye,n,t))})),Fe=function(n){var e=u(He,"PLAYER","day",n);n:for(;"Just"===e.$;)switch(e.a){case 1:return"Monday morning";case 2:return"Tuesday morning";case 3:return"Wednesday morning";case 4:return"Thursday morning";case 5:return"Friday morning";default:break n}return"ERROR can't get PLAYER.day"},je=t((function(n,e){return B(e.a,{links:e.b.links,name:n,stats:e.b.stats,tags:e.b.tags})})),We=O,Ue=function(n){return""===n},Ge=t((function(n,e){return n(e)})),Je=function(n){return n},qe=t((function(n,e){return{$:"Bad",a:n,b:e}})),Ke=function(n){return{$:"Parser",a:n}},ze=t((function(n,e){return{$:"AddRight",a:n,b:e}})),Ve=o((function(n,e,t,r){return{col:e,contextStack:r,problem:t,row:n}})),Qe={$:"Empty"},Xe=t((function(n,e){return a(ze,Qe,s(Ve,n.row,n.col,e,n.context))})),Ze=function(n){return e={$:"Problem",a:n},Ke((function(n){return a(qe,!1,a(Xe,n,e))}));var e},nt=r((function(n,e,t){return{$:"Good",a:n,b:e,c:t}})),et=function(n){return Ke((function(e){return u(nt,!1,n,e)}))},tt=function(n){return Ue(n)?Ze("cannot be empty"):et(n)},rt=function(n){var e=n.charCodeAt(0);return 55296>e||e>56319?e:1024*(e-55296)+n.charCodeAt(1)-56320+65536},ot=function(n){var e=rt(n);return e>=97&&122>=e},it=function(n){var e=rt(n);return 90>=e&&e>=65},at=function(n){return ot(n)||it(n)},ut=function(n){var e=rt(n);return 57>=e&&e>=48},st=function(n){return ot(n)||it(n)||ut(n)},ct=t((function(n,e){for(;;){if(!e.b)return!1;var t=e.b;if(n(e.a))return!0;n=n,e=t}})),ft=t((function(n,e){return a(ct,(function(e){return A(e,n)}),e)})),lt=t((function(n,e){var t=e.a;return Ke((function(e){var r=t(e);if("Bad"===r.$)return a(qe,r.a,f=r.b);var o=r.a,i=r.c,s=(0,n(r.b).a)(i);if("Bad"===s.$){var c=s.a,f=s.b;return a(qe,o||c,f)}return c=s.a,u(nt,o||c,s.b,s.c)}))})),ht=F,dt=J,gt=t((function(n,e){return Ke((function(t){var r=u(dt,n,t.offset,t.src);return A(r,-1)?a(qe,!1,a(Xe,t,e)):A(r,-2)?u(nt,!0,P,{col:1,context:t.context,indent:t.indent,offset:t.offset+1,row:t.row+1,src:t.src}):u(nt,!0,P,{col:t.col+1,context:t.context,indent:t.indent,offset:r,row:t.row,src:t.src})}))})),pt=i((function(n,e,t,r,o){for(;;){var i=u(dt,n,e,o.src);if(A(i,-1))return u(nt,0>C(o.offset,e),P,{col:r,context:o.context,indent:o.indent,offset:e,row:t,src:o.src});A(i,-2)?(n=n,e+=1,t+=1,r=1,o=o):(n=n,e=i,t=t,r+=1,o=o)}})),bt=function(n){return Ke((function(e){return c(pt,n,e.offset,e.row,e.col,e)}))},mt=bt,Et=t((function(n){return n})),vt=V,_t=t((function(n,e){var t=e.a;return Ke((function(e){var r=t(e);if("Bad"===r.$)return a(qe,r.a,r.b);var o=r.b,i=r.c;return u(nt,r.a,a(n,u(vt,e.offset,i.offset,e.src),o),i)}))})),yt=function(n){return a(_t,Et,n)},Rt=r((function(n,e,t){var r=e.a,o=t.a;return Ke((function(e){var t=r(e);if("Bad"===t.$)return a(qe,t.a,l=t.b);var i=t.a,s=t.b,c=o(t.c);if("Bad"===c.$){var f=c.a,l=c.b;return a(qe,i||f,l)}f=c.a;var h=c.c;return u(nt,i||f,a(n,s,c.b),h)}))})),St=t((function(n,e){return u(Rt,Et,n,e)})),Tt=a(lt,tt,yt(a(St,a(St,et(P),a(gt,at,{$:"UnexpectedChar"})),mt((function(n){return st(n)||a(ft,n,m([Y("_"),Y("-"),Y(":"),Y("#"),Y("+")]))}))))),kt={$:"Black"},wt=i((function(n,e,t,r,o){return{$:"RBNode_elm_builtin",a:n,b:e,c:t,d:r,e:o}})),Lt={$:"RBEmpty_elm_builtin"},It={$:"Red"},At=i((function(n,e,t,r,o){if("RBNode_elm_builtin"===o.$&&"Red"===o.a.$){var i=o.b,a=o.c,u=o.d,s=o.e;return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(wt,It,e,t,c(wt,kt,r.b,r.c,r.d,l=r.e),c(wt,kt,i,a,u,s)):c(wt,n,i,a,c(wt,It,e,t,r,u),s)}if("RBNode_elm_builtin"===r.$&&"Red"===r.a.$&&"RBNode_elm_builtin"===r.d.$&&"Red"===r.d.a.$){var f=r.d,l=r.e;return c(wt,It,r.b,r.c,c(wt,kt,f.b,f.c,f.d,f.e),c(wt,kt,e,t,l,o))}return c(wt,n,e,t,r,o)})),$t=r((function(n,e,t){if("RBEmpty_elm_builtin"===t.$)return c(wt,It,n,e,Lt,Lt);var r=t.a,o=t.b,i=t.c,s=t.d,f=t.e;switch(a(Pe,n,o).$){case"LT":return c(At,r,o,i,u($t,n,e,s),f);case"EQ":return c(wt,r,o,e,s,f);default:return c(At,r,o,i,s,u($t,n,e,f))}})),Ot=r((function(n,e,t){var r=u($t,n,e,t);return"RBNode_elm_builtin"===r.$&&"Red"===r.a.$?c(wt,kt,r.b,r.c,r.d,r.e):r})),Nt=function(n){return{$:"Set_elm_builtin",a:n}},Ct=t((function(n,e){return Nt(u(Ot,n,P,e.a))})),xt=t((function(n,e){return D(e,{tags:a(Ct,n,e.tags)})})),Pt=Lt,Bt=Pt,Mt=Pt,Yt=Nt(Pt),Dt=r((function(n,e,t){return D(t,{links:u(Ot,n,e,t.links)})})),Ht=r((function(n,e,t){return D(t,{stats:u(Ot,n,e,t.stats)})})),Ft=t((function(n,e){return"Just"===e.$?Be(n(e.a)):Me})),jt=t((function(n,e){return"Just"===e.$?e.a:n})),Wt=t((function(n,e){return u(Rt,Ge,n,e)})),Ut=t((function(n,e){return{$:"Append",a:n,b:e}})),Gt=r((function(n,e,t){for(;;){if(!t.b)return a(qe,!1,e);var r=t.b,o=(0,t.a.a)(n);if("Good"===o.$)return o;var i,u=(i=o).b;if(i.a)return i;n=n,e=a(Ut,e,u),t=r}})),Jt=function(n){return Ke((function(e){return u(Gt,e,Qe,n)}))},qt=t((function(n,e){return{$:"Token",a:n,b:e}})),Kt=function(n){return!n},zt=G,Vt=function(n){return function(n){var e=n.a,t=n.b,r=!Ue(e);return Ke((function(n){var o=c(zt,e,n.offset,n.row,n.col,n.src),i=o.a,s=o.b,f=o.c;return A(i,-1)?a(qe,!1,a(Xe,n,t)):u(nt,r,P,{col:f,context:n.context,indent:n.indent,offset:i,row:s,src:n.src})}))}(a(qt,n,{$:"ExpectingSymbol",a:n}))},Qt=(_e=a(lt,a(Te,(function(n){for(var e=0,t=n.charCodeAt(0),r=43==t||45==t?1:0,o=r;n.length>o;++o){var i=n.charCodeAt(o);if(48>i||i>57)return Me;e=10*e+i-48}return o==r?Me:Be(45==t?-e:e)}),a(Te,Ft(et),jt(Ze("not an int")))),yt(mt(ut))),Jt(m([a(Wt,a(St,et((function(n){return-n})),Vt("-")),_e),_e]))),Xt=a(lt,tt,yt(a(St,et(P),mt((function(n){return st(n)||a(ft,n,m([Y("_"),Y(":"),Y("#")]))}))))),Zt=function(n){return{$:"Done",a:n}},nr=function(n){return{$:"Loop",a:n}},er=t((function(n,e){var t=e.a;return Ke((function(e){var r=t(e);if("Good"===r.$){var o=r.c;return u(nt,r.a,n(r.b),o)}return a(qe,r.a,r.b)}))})),tr=function(n){return"Loop"===n.$?{$:"Loop",a:n.a}:{$:"Done",a:n.a}},rr=o((function(n,e,t,r){n:for(;;){var o=(0,t(e).a)(r);if("Good"===o.$){var i=o.a,s=o.b,c=o.c;if("Loop"===s.$){n=n||i,e=s.a,t=t,r=c;continue n}return u(nt,n||i,s.a,c)}return i=o.a,a(qe,n||i,o.b)}})),or=t((function(n,e){return Ke((function(t){return s(rr,!1,n,e,t)}))})),ir=t((function(n,e){return a(or,n,(function(n){return a(er,tr,e(n))}))})),ar=bt((function(n){return A(n,Y(" "))||A(n,Y("\n"))||A(n,Y("\r"))})),ur=(ye=t((function(n,e){return e(n)})),a(ir,{links:Bt,stats:Mt,tags:Yt},(function(n){return Jt(m([a(Wt,a(Wt,a(St,a(St,et(ye),ar),Vt(".")),Xt),Jt(m([a(Wt,a(St,et(Je),Vt("=")),Jt(m([a(er,(function(e){return function(t){return nr(u(Dt,t,e,n))}}),Tt),a(er,(function(e){return function(t){return nr(u(Ht,t,e,n))}}),Qt)]))),et((function(e){return nr(a(xt,e,n))}))]))),et(Zt(n))]))}))),sr=(Re={$:"ExpectingEnd"},Ke((function(n){return A(n.src.length,n.offset)?u(nt,!1,P,n):a(qe,!1,a(Xe,n,Re))}))),cr=a(Wt,a(Wt,et(t((function(n,e){return B(n,e)}))),Tt),a(St,ur,sr)),fr=r((function(n,e,t){for(;;){if(!t.b)return e;var r=t.b,o=n,i=a(n,t.a,e);n=o,e=i,t=r}})),lr=function(n){return u(fr,Ae,g,n)},hr=o((function(n,e,t,r){if(r.b){var o=r.a,i=r.b;if(i.b){var c=i.a,f=i.b;if(f.b){var l=f.a,h=f.b;if(h.b){var d=h.b;return a(n,o,a(n,c,a(n,l,a(n,h.a,t>500?u(fr,n,e,lr(d)):s(hr,n,e,t+1,d)))))}return a(n,o,a(n,c,a(n,l,e)))}return a(n,o,a(n,c,e))}return a(n,o,e)}return e})),dr=r((function(n,e,t){return s(hr,n,e,0,t)})),gr=t((function(n,e){return u(dr,t((function(e,t){return a(Ae,n(e),t)})),g,e)})),pr=function(n){return{$:"Err",a:n}},br=function(n){return{$:"Ok",a:n}},mr=r((function(n,e,t){return{col:e,problem:t,row:n}})),Er=function(n){return u(mr,n.row,n.col,n.problem)},vr=t((function(n,e){n:for(;;)switch(n.$){case"Empty":return e;case"AddRight":var t=n.b;n=n.a,e=a(Ae,t,e);continue n;default:var r=n.b;n=n.a,e=a(vr,r,e);continue n}})),_r=t((function(n,e){var t=(0,n.a)({col:1,context:g,indent:1,offset:0,row:1,src:e});return"Good"===t.$?br(t.b):pr(a(vr,t.b,g))})),yr=t((function(n,e){var t=a(_r,n,e);return"Ok"===t.$?br(t.a):pr(a(gr,Er,t.a))})),Rr=t((function(n,e){return"Ok"===e.$?br(n(e.a)):pr(e.a)})),Sr=t((function(n,e){return"Ok"===e.$?br(e.a):pr(n(e.a))})),Tr=t((function(n,e){return a(Sr,(function(e){return B("Entity def: "+n,e)}),a(Rr,je(e),a(yr,cr,n)))})),kr={$:"Blue"},wr={$:"Green"},Lr={$:"Orange"},Ir={$:"Purple"},Ar={$:"Red"},$r={$:"Yellow"},Or=o((function(n,e,t,r){return{alpha:r,blue:t,green:e,red:n}})),Nr=s(Or,52,101,164,1),Cr=s(Or,115,210,22,1),xr=s(Or,245,121,0,1),Pr=s(Or,117,80,123,1),Br=s(Or,204,0,0,1),Mr=s(Or,237,212,0,1),Yr=function(n){switch(n.$){case"Red":return{color:Br,id:"RED_LINE",name:"Red Line",number:1,stations:m(["WEST_MULBERRY","EAST_MULBERRY","CHURCH_STREET","BROADWAY_STREET","CONVENTION_CENTER","SPRING_HILL","TWIN_BROOKS"])};case"Yellow":return{color:Mr,id:"YELLOW_LINE",name:"Yellow Line",number:2,stations:m(["RIVERSIDE","ST_MARKS","BROADWAY_STREET","CONVENTION_CENTER","CAPITOL_HEIGHTS","MACARTHURS_PARK"])};case"Green":return{color:Cr,id:"GREEN_LINE",name:"Green Line",number:3,stations:m(["BURLINGTON","SAMUAL_STREET","CAPITOL_HEIGHTS","CONVENTION_CENTER"])};case"Orange":return{color:xr,id:"ORANGE_LINE",name:"Orange Line",number:4,stations:m(["IRIS_LAKE","NORWOOD","ST_MARKS","UNIVERSITY","SPRING_HILL","CAPITOL_HEIGHTS","SEVENTY_THIRD_STREET","ONE_HUNDRED_FOURTH_STREET"])};case"Blue":return{color:Nr,id:"BLUE_LINE",name:"Blue Line",number:5,stations:m(["ONE_HUNDRED_FOURTH_STREET","SEVENTY_THIRD_STREET","FOURTY_SECOND_STREET","MUSEUM","BROADWAY_STREET","ST_MARKS","PARK_AVE","WESTGATE"])};default:return{color:Pr,id:"PURPLE_LINE",name:"Purple Line",number:6,stations:m(["HIGHLAND","FAIRVIEW","EAST_MULBERRY","CHURCH_STREET","MUSEUM","CONVENTION_CENTER","UNIVERSITY","WALTER_HILL"])}}},Dr=a(gr,(function(n){return B(n,Yr(n).stations)}),m([Ar,wr,$r,Lr,kr,Ir])),Hr=function(n){return n.a},Fr=a(gr,a(Te,Yr,(function(n){return a(Tr,n.id+".line",n.name)})),a(gr,Hr,Dr)),jr=function(n){return u(fr,t((function(n,e){return u(Ot,n.a,n.b,e)})),Pt,n)},Wr=jr(m([B("ONE_HUNDRED_FOURTH_STREET",{name:"104th Street"}),B("FOURTY_SECOND_STREET",{name:"42nd Street"}),B("SEVENTY_THIRD_STREET",{name:"73rd Street"}),B("BROADWAY_STREET",{name:"Broadway Street"}),B("BURLINGTON",{name:"Burlington"}),B("CAPITOL_HEIGHTS",{name:"Capitol Heights"}),B("CHURCH_STREET",{name:"Church Street"}),B("CONVENTION_CENTER",{name:"Convention Center"}),B("EAST_MULBERRY",{name:"East Mulberry"}),B("FAIRVIEW",{name:"Fairview"}),B("HIGHLAND",{name:"Highland"}),B("IRIS_LAKE",{name:"Iris Lake"}),B("MACARTHURS_PARK",{name:"MacArthur's Park"}),B("MUSEUM",{name:"Museum"}),B("NORWOOD",{name:"Norwood"}),B("PARK_AVE",{name:"Park Street"}),B("RIVERSIDE",{name:"Riverside"}),B("SAMUAL_STREET",{name:"Samual Street"}),B("SPRING_HILL",{name:"Spring Hill"}),B("ST_MARKS",{name:"St. Mark's"}),B("TWIN_BROOKS",{name:"Twin Brooks"}),B("UNIVERSITY",{name:"University"}),B("WALTER_HILL",{name:"Walter Hill"}),B("WESTGATE",{name:"Westgate"}),B("WEST_MULBERRY",{name:"West Mulberry"})])),Ur=a(gr,(function(n){var e=n.b.name;return a(Tr,function(n){return n+".station"+("BROADWAY_STREET"===n?".steves_work":"")}(n.a),e)}),Ce(Wr)),Gr=H(m([a(Tr,"PLAYER.chapter=1.day=1.location=WEST_MULBERRY.destination=BROADWAY_STREET","Steve"),a(Tr,"BRIEFCASE.item.location=PLAYER","Briefcase"),a(Tr,"RED_LINE_PASS.item.location=PLAYER.valid_on=RED_LINE","Red Line metro pass"),a(Tr,"CELL_PHONE.item.location=PLAYER.unread","Cell phone"),a(Tr,"MAP.item.map.silent","Subway map"),a(Tr,"CENTRAL_GUARD_OFFICE.location","Central Guard Office"),a(Tr,"LOBBY.location","Station Lobby"),a(Tr,"COFFEE_CART.character.location=WEST_MULBERRY","Coffee cart"),a(Tr,"COFFEE.item.location=offscreen","Coffee"),a(Tr,"COMMUTER_1.character.location=WEST_MULBERRY","Plainly dressed commuter"),a(Tr,"LOUD_PAYPHONE_LADY.character.location=WEST_MULBERRY","Loud woman on pay phone"),a(Tr,"TRASH_DIGGER.character.location=offscreen","Man digging in the trash"),a(Tr,"SKATER_DUDE.character.location=offscreen","Skater dude"),a(Tr,"GRAFFITI.item.location=WEST_MULBERRY","Graffiti on the wall"),a(Tr,"BENCH_BUM.character.location=offscreen","Guy sleeping on a bench"),a(Tr,"SODA_MACHINE.item.broken.location=WEST_MULBERRY","Soda vending machine"),a(Tr,"SAFETY_WARNING_POSTER.item.location=TWIN_BROOKS","Safety message poster"),a(Tr,"MAP_POSTER.item.map.location=TWIN_BROOKS","Map on the wall"),a(Tr,"MUSICIAN.character.location=BROADWAY_STREET","Man playing violin")]),H(Fr,Ur)),Jr=t((function(n,e){var t=e.b;return B(n(e.a),t)})),qr=t((function(n,e){return B(e.a,n(e.b))})),Kr=u(fr,t((function(n,e){if("Ok"===n.$){var t=n.a;return a(Jr,a(Ot,t.a,t.b),e)}return a(qr,Ae(n.a),e)})),B(Pt,g),Gr),zr=Vt("|"),Vr=Vt("}"),Qr=function(n){return Ue(n)?Ze("string is empty"):et(n)},Xr=Vt("{"),Zr=function(n){return"Ok"===n.$?et(n.a):Ze(n.a)},no=t((function(n,e){return a(z,n,E(e))})),eo=t((function(n,e){return m(a(K,n,e))})),to=r((function(n,e,t){return a(no,e,a(eo,n,t))})),ro=a(lt,Qr,yt(a(St,et(P),mt((function(n){return!a(ft,n,m([Y("{"),Y("}"),Y("|")]))}))))),oo=o((function(n,e,t,r){return A(a(Pe,a(jt,0,a(Ye,n,r.stats)),t),e)})),io=t((function(n,e){return"Just"===a(Ye,n,e).$})),ao=t((function(n,e){return a(io,n,e.a)})),uo=t((function(n,e){return a(ao,n,e.tags)})),so=r((function(n,e,t){return n(e(t))})),co=t((function(n,e){return!a(ct,a(so,Kt,n),e)})),fo=function(n){return!n.b},lo=r((function(n,e,t){return a(jt,g,a(Ft,(function(r){return a(co,(function(n){return u(go,n,t,r)}),e)?m([B(n,r)]):g}),a(Ye,n,t)))})),ho=o((function(n,e,t,r){return a(jt,!1,a(Ft,(function(n){if("Match"===e.$){var r=e.b;return A(e.a,n)&&!fo(u(lo,n,r,t))}return!fo(u(lo,n,r=e.a,t))}),a(Ye,n,r.links)))})),go=t((function(n,e){switch(n.$){case"HasTag":return uo(n.a);case"HasStat":return u(oo,n.a,n.b,n.c);case"HasLink":return u(ho,n.a,n.b,e);default:return a(so,Kt,a(go,n.a,e))}})),po=r((function(n,e,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return e;var r=t.e,o=n,i=u(n,t.b,t.c,u(po,n,e,t.d));n=o,e=i,t=r}})),bo=t((function(n,e){return u(po,r((function(e,t,r){return a(n,e,t)?u(Ot,e,t,r):r})),Pt,e)})),mo=t((function(n,e){return Ce(a(bo,t((function(t,r){return a(co,(function(n){return u(go,n,e,r)}),n)})),e))})),Eo=t((function(n,e){return"Match"===n.$?u(lo,n.a,n.b,e):a(mo,n.a,e)})),vo=t((function(n,e){return{$:"HasLink",a:n,b:e}})),_o=t((function(n,e){return{$:"Match",a:n,b:e}})),yo=function(n){return{$:"MatchAny",a:n}},Ro=t((function(n,e){var t=function(e){return"HasLink"===e.$&&"Match"===e.b.$&&"$"===e.b.a?a(vo,e.a,a(_o,n,e.b.b)):e};if("MatchAny"===e.$)return yo(a(gr,t,r=e.a));var r=e.b;return a(_o,function(e){return"$"===e?n:e}(e.a),a(gr,t,r))})),So=t((function(n,e){if(e.b){var r=e.b;return a(Ae,e.a,u(dr,t((function(e,t){return a(Ae,n,a(Ae,e,t))})),g,r))}return g})),To=function(n){return n+""},ko=function(n){return a(no,"",a(So,"; ",a(gr,(function(n){return function(n){switch(n.$){case"Expecting":return"expecting '"+n.a+"'";case"ExpectingInt":return"expecting int";case"ExpectingHex":return"expecting hex";case"ExpectingOctal":return"expecting octal";case"ExpectingBinary":return"expecting binary";case"ExpectingFloat":return"expecting float";case"ExpectingNumber":return"expecting number";case"ExpectingVariable":return"expecting variable";case"ExpectingSymbol":return"expecting symbol '"+n.a+"'";case"ExpectingKeyword":return"expecting keyword '"+n.a+"'";case"ExpectingEnd":return"expecting end";case"UnexpectedChar":return"unexpected char";case"Problem":return"problem "+n.a;default:return"bad repeat"}}(n.problem)+" at row "+To(n.row)+", col "+To(n.col)}),n)))},wo=r((function(n,e,t){return{$:"HasStat",a:n,b:e,c:t}})),Lo=function(n){return{$:"HasTag",a:n}},Io=function(n){return{$:"Not",a:n}},Ao=Jt(m([a(er,Et(yo),Vt("*")),a(er,Et(_o("$")),Vt("$")),a(er,_o,Tt)]));function $o(){return a(Wt,a(Wt,et(t((function(n,e){return n(e)}))),Ao),Oo())}function Oo(){var n=o((function(n,e,t,r){return nr(a(Ae,e?Io(r(t)):r(t),n))}));return a(ir,g,(function(e){return Jt(m([a(Wt,a(Wt,a(Wt,a(St,a(St,et(n(e)),mt(We(Y(" ")))),Vt(".")),Jt(m([a(er,Et(!0),Vt("!")),et(!1)]))),Xt),Jt(m([a(Wt,a(St,et(Je),Vt(">")),a(er,(function(n){return function(e){return u(wo,e,Oe,n)}}),Qt)),a(Wt,a(St,et(Je),Vt("<")),a(er,(function(n){return function(e){return u(wo,e,Ie,n)}}),Qt)),a(Wt,a(St,et(Je),Vt("=")),Jt(m([a(er,(function(n){return function(e){return u(wo,e,Le,n)}}),Qt),a(er,(function(){return function(n){return a(vo,n,a(_o,"$",g))}}),Vt("$")),a(er,(function(n){return function(e){return a(vo,e,a(_o,n,g))}}),Tt),a(Wt,a(St,et(Je),Vt("(")),a(St,a(er,(function(n){return function(e){return a(vo,e,n)}}),$o()),Vt(")")))]))),et((function(n){return Lo(n)}))]))),et(Zt(e))]))}))}try{var No=$o();$o=function(){return No};var Co=Oo();Oo=function(){return Co}}catch(n){throw"Some top-level definitions from `Rules.Parser` are causing infinite recursion:\n\n  ┌─────┐\n  │    matcherParser\n  │     ↓\n  │    queriesParser\n  └─────┘\n\nThese errors are very tricky, so read https://elm-lang.org/0.19.0/halting-problem to learn how to fix it!"}var xo,Po=function(n){return a(yr,a(St,No,sr),n)},Bo=t((function(n,e){return r=a(gr,n,e),u(fr,t((function(n,e){return"Ok"===n.$?a(Rr,Ae(n.a),e):pr(n.a)})),br(g),r);var r})),Mo=o((function(n,e,t,r){return{$:"Array_elm_builtin",a:n,b:e,c:t,d:r}})),Yo=j,Do=t((function(n,e){return U(e)/U(n)})),Ho=Yo(a(Do,2,32)),Fo=[],jo=s(Mo,0,Ho,Fo,Fo),Wo=function(n){return{$:"Leaf",a:n}},Uo=l,Go=t((function(n,e){for(;;){var t=a(Uo,32,n),r=t.b,o=a(Ae,{$:"SubTree",a:t.a},e);if(!r.b)return lr(o);n=r,e=o}})),Jo=t((function(n,e){for(;;){var t=Yo(e/32);if(1===t)return a(Uo,32,n).a;n=a(Go,n,g),e=t}})),qo=W,Ko=t((function(n,e){return C(n,e)>0?n:e})),zo=function(n){return n.length},Vo=t((function(n,e){if(e.nodeListSize){var t=32*e.nodeListSize,r=qo(a(Do,32,t-1)),o=n?lr(e.nodeList):e.nodeList,i=a(Jo,o,e.nodeListSize);return s(Mo,zo(e.tail)+t,a(Ko,5,r*Ho),i,e.tail)}return s(Mo,zo(e.tail),Ho,Fo,e.tail)})),Qo=r((function(n,e,t){for(;;){var r=a(Uo,32,n),o=r.a,i=r.b;if(0>C(zo(o),32))return a(Vo,!0,{nodeList:e,nodeListSize:t,tail:o});n=i,e=a(Ae,Wo(o),e),t+=1}})),Xo=function(n){return n.b?u(Qo,n,g,0):jo},Zo=4294967295>>>32-Ho,ni=h,ei=r((function(n,e,t){for(;;){var r=a(ni,Zo&e>>>n,t);if("SubTree"!==r.$)return a(ni,Zo&e,r.a);n-=Ho,e=e,t=r.a}})),ti=t((function(n,e){var t=e.a,r=e.b,o=e.c,i=e.d;return 0>n||C(n,t)>-1?Me:C(n,function(n){return n>>>5<<5}(t))>-1?Be(a(ni,Zo&n,i)):Be(u(ei,r,n,o))})),ri=t((function(n,e){return 0>C(n,e)?n:e})),oi=function(n){return u(fr,t((function(n,e){return e+1})),0,n)},ii=function(n){return n.trim()},ai=function(n){var e=n.a;return Ke((function(n){var t=e(n);return"Bad"===t.$?a(qe,!1,t.b):u(nt,!1,t.b,t.c)}))},ui=q,si=o((function(n,e,t,r){return a(ze,Qe,s(Ve,n,e,t,r))})),ci=function(n){return Ke((function(e){return(0,n(P).a)(e)}))},fi=function(n){var e=Jt(m([a(Wt,a(St,et(Je),Xr),Jt(m([ai(function(n){var e=function(e){return!fo(a(Eo,e,n.worldModel))};return a(lt,(function(t){var r,o,i=t.a,s=t.b,c=t.c;return"Ok"===(r=a(Rr,co(a(Te,Ro(n.trigger),e)),a(Bo,Po,a(gr,ii,a(eo,"&",i))))).$?(o=r.a?s:c,Ke((function(n){return u(nt,!0,o,n)}))):Ze(ko(r.a))}),a(Wt,a(Wt,a(Wt,et(r((function(n,e,t){return M(n,e,t)}))),a(St,a(lt,Qr,yt(function(n){var e=n.a,t=n.b;return Ke((function(n){var r=c(ui,e,n.offset,n.row,n.col,n.src),o=r.a,i=r.b,f=r.c;return A(o,-1)?a(qe,!1,s(si,i,f,t,n.context)):u(nt,0>C(n.offset,o),P,{col:f,context:n.context,indent:n.indent,offset:o,row:i,src:n.src})}))}(a(qt,"?",{$:"Expecting",a:"?"})))),Vt("?"))),ci((function(){return fi(n)}))),Jt(m([a(Wt,a(St,et(Je),zr),a(St,ci((function(){return fi(n)})),Vr)),a(er,Et(""),Vr)]))))}(n)),ai(function(n){var e=a(gr,(function(n){var e,t=n.a;return a(St,et(n.b),function(n){var e=n.a,t=n.b,r=!Ue(e);return Ke((function(n){var o=c(zt,e,n.offset,n.row,n.col,n.src),i=o.a,s=o.b,f=o.c;return A(i,-1)||u(dt,(function(n){return st(n)||A(n,Y("_"))}),i,n.src)>=0?a(qe,!1,a(Xe,n,t)):u(nt,r,P,{col:f,context:n.context,indent:n.indent,offset:i,row:s,src:n.src})}))}(a(qt,e=t,{$:"ExpectingKeyword",a:e})))}),Ce(n.propKeywords));return a(lt,Zr,a(Wt,a(Wt,et(t((function(e,t){return t(u(to,"$",n.trigger,e))}))),a(St,a(lt,Qr,yt(mt((function(n){return!a(ft,n,m([Y("{"),Y("."),Y("|"),Y("}")]))})))),Vt("."))),a(St,Jt(e),Vr)))}(n)),ai(function(n){return a(er,(function(e){return a(jt,"ERROR finding correct cycling text",a(ti,a(ri,oi(e)-1,n.cycleIndex),Xo(e)))}),a(ir,g,(function(e){return Jt(m([a(er,Et(nr(a(Ae,"",e))),zr),a(er,Et(Zt(lr(a(Ae,"",e)))),Vr),a(Wt,a(Wt,et(t((function(n,e){return e(n)}))),ci((function(){return fi(n)}))),Jt(m([a(er,Et((function(n){return nr(a(Ae,n,e))})),zr),a(er,Et((function(n){return Zt(lr(a(Ae,n,e)))})),Vr)])))]))})))}(n))]))),ro])),o=t((function(n,e){return nr(H(n,e))}));return a(Wt,et(Je),a(ir,"",(function(n){return Jt(m([a(er,o(n),e),et(Zt(n))]))})))},li=t((function(n,e){var t=a(St,fi(n),sr);return a(Rr,Et(P),a(yr,t,e))})),hi=Ot,di=u(hi,"jumpTurnstileFail","{I've never jumped a turnstile in my life, and I'm not about to start now.|I don't want to get caught.|Better to stick to the lines I have passes for.}",u(hi,"ridingTheTrain","The train hurtles through the dark tunnel towards the next stop.",u(hi,"SAFETY_WARNING_POSTER","It says to watch out for pickpockets and report any suspicious activity.",u(hi,"COFFEE","\n{PLAYER.day=1?  Carl's Coffee has been fueling me for years. Can't imagine surviving a Monday without it.}\n{PLAYER.day=2?  Mmm, that's good coffee.}\n{PLAYER.day=3?  I'm going to need a barrel of this if I'm going to get this proposal done by Friday. What is Mr. Harris thinking?  }\n{PLAYER.day=4?  It tastes bitter.}\n",u(hi,"GRAFFITI","That's just vulgar.  Why do people have to mess things up?",u(hi,"RED_LINE_PASS","This gets me anywhere on the Red Line, but I really only use it to get to work and back home.",u(hi,"BRIEFCASE","My portable office, all my work is in it.",Pt))))))),gi=u(hi,"getMap",'\n{I might need the full subway map.  They have a printed one I can take.\n\n(Press "M" to view the map)|}\n',u(hi,"fallAsleep","\nToday's the day.  I busted my ass, but I think it will work.  I better get my damn promotion.\n\nI just wish I wasn't so tired.\n---\nThree more stops. Maybe I can steal a wink or two before I get to the station. I'll just close my eyes for a minute.\n---\n...\n---\n\"Sir. Sir!\"\n---\nWhoa... what?  What's going on?\n\nA janitor is shaking my shoulder.\n\n\"We're almost at the end of the line, sir. You have to wake up.\"\n---\nEnd of the line?\n\nShit, I feel asleep!  I missed my stop!  What station is this?\n\nOh my God, I'm in so much trouble!  I have to get back to my stop.\n",u(hi,"endThursday","\nI'm so tired.  I've been up all night working on this damn proposal, and there's still a lot more work to be done. I hope Mr. Harris appreciates it.\n",u(hi,"endWednesday","\nThis train is two minutes late again.  This is becoming more and more of a problem lately.  They've got to do something about it.\n---\nI'm not looking forward to talking to Mr. Harris this morning.  This proposal is going to be a disaster.  Figures I get stuck with it.\n---\nBut I've got to make it work.\n",u(hi,"endTuesday","\nIt's going to be tough getting this proposal put together by Friday, but I've got to do it.  I just wish I had more time to make it good.\n---\nAlso, It would be great to see Henry again. I've got to remember to get back to him.  \n",u(hi,"endMonday","\nI'm curious what my boss has in mind for this proposal.  It's nice he thought of me.  Maybe this will finally get me the promotion he's been promising.\n",u(hi,"forcePlayerToReadEmails","\n{I have a few minutes before my train arrives.  I could check my emails while I wait.|It's kind of my routine to reread my emails before heading in.}\n",u(hi,"notGoingToWork","\n { That's not my station. |}I have to go to {the office|work}{ at Broadway Street Station|}.\n ",u(hi,"firstMeetSkaterDude","\nI've seen this young punk before, riding his skateboard up and down the platform.  He almost ran into me once.  The signs clearly say \"No skateboarding allowed.\"\n---\nOh great, now he's jumping the turnstile.  He probably doesn't even have a ticket.  You know, we've got rules for a reason.  When people like him disrespect them, it's the rest of us who have to pay.\n",u(hi,"BENCH_BUM","\n{Some college kid is sprawled out across the whole bench. I wished he'd move. I'd like to just sit down.\n---\n\"Hi there. Could you sit up please? I'd like to sit while I wait for my train.\"\n---\nHe just ignores me.  Maybe he didn't hear me?\n|\n\"Hey!  I'd like to sit down, please.\"\n---\n\"Fuck off... I.. arghhh...\"\n---\nHe must be drunk.  I don't think he's getting up.\n|\nI guess I'm standing.\n}\n",u(hi,"TRASH_DIGGER","\n{\"Spare some change?\"\n---\nI've seen that guy almost every day for years.  He always asks for money.  I used to give him some, but eventually stopped.  I work very hard to make a living.\n|\nHe's still at it.  Wonder what he thinks he'll find.\n}\n",u(hi,"get_caffeinated_plot_3","\nNo thank you.\n",u(hi,"get_caffeinated_plot_achievement","\n_Achievement unlocked:_  \nGet caffeinated\n",u(hi,"get_caffeinated_plot_2","\n{This thing stole my quarters.  I want my soda!\n\nI know it's dumb, but I kick the machine so hard my foot hurts.\n---\nOK, calm down Steve.  The hard part is done, just focus on the getting to work.\n---\nWait, I think I hear something...\n---\nA soda dropped out!  Yes!\n\nUgh, this tastes disgusting.  How long has it been in there?\n}\n",u(hi,"get_caffeinated_plot_1",'\n{The "Out of Order" sign is gone. Maybe it will work?\n\nSince I can\'t get my coffee, I might as well get my caffeine fix from somewhere.\n---\nGreat, the button doesn\'t work and it\'s not giving my change back. Damn.\n|\nThe "Out of Order" sign might be gone, but I know better.\n}\n',u(hi,"sodaMachineFixed",'\nWow, the "Out of Order" sign is gone. Did they actually fix it?\n',u(hi,"sodaMachineBroken","\n{An \"Out of Order\" sign is stuck to the front.  This thing has been broken since I moved here.\n\nNot that I've had a real hankering for a soda, but it's just kind of annoying.\n|\nIt's out of order.\n}\n",u(hi,"SODA_MACHINE","\nI wonder how long the cans have been in that old thing?\n",u(hi,"LOUD_PAYPHONE_LADY",'\n{\n"I\'ve been here for 30 damn minutes!  When the hell are you going to help me out?!"\n---\nShe sure seems upset.\n---\n"HOW THE FUCK ARE YOU GOING TO CALL ME BACK?! I\'M ON A FUCKING PAYPHONE, YOU IDIOT!"\n---\nWow, you\'d think people would try to take care of these matters at home. Yeesh.\n|\nI want to stay very far away from her.\n}\n',u(hi,"COFFEE_CART","\nIt's closed. I hope Carl comes back.\n",u(hi,"coffeeCartFriday","\nHuh, that's strange.  It's closed.  I really need my coffee.  Today of all days!\n",u(hi,"coffeeCartThursday",'\n{Instead of Carl, there\'s some young lady behind the stand, looking at her phone.\n---\n"You\'re not Carl."\n\n"Nope. Was called in last minute. Guess his wife just went into labor or somethin\'. Can I get you anything?"\n\n"Carl\'s married?"\n\n"Guess so,  I don\'t know the guy. You getting something or not?"\n\n"Sure. Coffee. Black."\n\n"Here you go. See ya."\n|I miss Carl.}\n',u(hi,"coffeeCartWednesday",'\n{"Morning Steve.  You alright?"\n\n"Fill it up to the top, Carl. I\'m going to need every last drop today."\n\n"You got it.  Take it easy Steve. Don\'t want to work too hard."\n\n"Easy for you to say, Carl. But I\'ll try. Thanks!"\n|I\'ve got plenty already, and plenty of work to do too.}\n',u(hi,"coffeeCartTuesday",'\n{"The usual for you today, Steve?"\n\n"Yes please."\n\n"Enjoy."\n|"Need anything else?"\n\n"No, I\'m fine."}\n',u(hi,"coffeeCartMonday",'\n{Carl runs the little coffee stand at my local station.  The coffee is decent, and it\'s nice to see his smiling face each morning.\n\n"Morning, Carl! Can I just get the usual?"\n\n"Sure thing, Steve. That\'ll be a buck twenty five."\n\n"Here you go, Carl, exact change. Thanks. Have a good one."\n|"See you tomorrow."|"See you tomorrow."|"Don\'t miss your train."}\n',u(hi,"checkEmails","\n{There's no service, but I can view my emails.\n---\n|}\n{PLAYER.day=1?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Sunday, 4:00 pm\n    Subject: I've Got a Job for You\n\n    Steve,\n    Just got word that some very important clients are coming in in the next few weeks.\n    The boys up stairs want me to put together a new proposal to bring to them. \n    Steve, you're one of our senior agents and you've been in the department for, what, 6 years?\n    I need you to work on this and really make it shine.\n    Be at my office at 6:30 am Monday and we can talk over the details.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply -\n\n    From: Steve Perkins\n    To: Jason Harris\n    Sent: Sunday, 4:01 pm\n    Subject: RE: I've Got a Job for You\n    \n    Dear Mr. Harris,\n    I've actually been with the company for eight years, but no need to worry, sir. I'm happy for the \n    opportunity. I've got a few big ideas that I've been wanting to try out.\n    I'll be there bright and early, sir.\n    \n    Steve Perkins\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Janice Franz\n    To: Steve Perkins\n    Sent: Monday, 6:05am\n    Subject: Job Opportunity\n    \n    Hi Mr. Steve Perkins\n\n    My name is Janis and I'm reaching out on behalf of Embrace Insurance. I came across your resume\n    in our system and I believe you would make a perfect fit for our team here at Embrace Insurance.\n    If you're looking for a job change or would just simply like to see what your options are we would\n    love to set up a meeting with you and see what your future could hold.\n\n    We look forward to your response!\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n{PLAYER.day=2?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Monday, 6:26pm\n    Subject: Good Things!\n\n    Steve,\n\n    I like a few of the ideas that you brought to me this morning.  But I just got word that our clients are\n    pushing up the meeting and will be here on Friday! You're going to have to put this thing in high gear, Steve.\n    I can't hand them half assed work.\n\n    Don't let me down.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply-\n\n    From: Steve Perkins\n    To: Jason Harris\n    Sent: Monday, 6:32pm\n    Subject: RE: Good Things!\n\n    eear Mr. Harris,\n\n    Thank you for the update.  I'll do my best, but Friday is a little soon isn't it? I just want to be able to\n    put together something that will really help our customers.  I'll have to cut a lot of the ideas we spoke about.\n    But I'll do my best, sir.\n\n    See you tomorrow, Mr. Harris\n\n    Steve Perkins\n    Insurance Agent\n    In Your Hands Insurance\n---\n    From: Henry Thorne\n    To: Steve Perkins\n    Sent: Monday, 8:25pm\n    Subject: Stevey!\n\n    Hey Steve!\n\n    How's it going? Long time no talk! Just checking in with you and letting you know I'm going to be\n    in the city in a few days. It's supposed to be a business trip and it's just for a day, but I\n    thought it's be nice to drop by and see how things were and maybe grab a few drinks somewhere.\n    I know things have been difficult since we last talked. Just let me know when you're free and I'll\n    make something work.\n\n    See you soon!\n\n    Henry\n\n}\n{PLAYER.day=3?\n\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Tuesday, 4:48pm\n    Subject: No good\n\n    Steve,\n\n    What you handed me today WON'T work. The Premiums we offer will NOT cover these plans. Half of these\n    seem like life quality expenses. We need to think about the bottom dollar here, Steve. \"Pet Insurance\n    Plan\", \"Kidnap/Ransom Insurance\", \"Divorce Insurance\"? These benefits not only expose us to\n    unwarranted risk of loss, but also far out weigh our customers premiums. You've got to do better than\n    this, Steve. We're two two days from the proposal meeting. Do NOT fuck this up.\n\n    Put something better together tonight and get it to me in the morning. You're running out of time.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    -Reply- (unsent)\n\n    From: Steve Perkins\n    To: Jason Harris\n    Sent: Tuesday, 5:00pm\n    Subject: RE: No good\n\n    Dear Mr. Harris,\n\n    Sir, I have to disagree. I feel that these plans are essential for our customers. If you'd just\n    look over the papers I sent you about the\n}\n{PLAYER.day=4?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Wednesday, 4:27pm\n    Subject: (Subject)\n\n    Steve, our clients are going to be here tomorrow whether you're ready or not. You're going to need\n    to push harder. I don't care what you have to do to put this thing together, just get it done.\n\n    Bring me what you have in the morning.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Henry Thorne\n    To: Steve Perkins\n    Sent: Thursday, 5:45am\n    Subject: Today?\n\n    Hey Steve,\n    I'm in the city today and I haven't heard back from you. I'm sure you're busy, but it would \n    really be nice to see you while I'm down. My plane leaves tomorrow, so today is probably it. You \n    can call me at my old number if you get this in time and we can plan something out. It hasn't \n    changed.\n\n    Hope to talk to you soon.\n}\n{PLAYER.day=5?\n    From: Jason Harris\n    To: Steve Perkins\n    Sent: Friday, 6:00am\n    Subject: where the hell are you?\n\n    I want to run through the presentation once before the clients are here.\n    Get your ass down here right away.\n\n    Jason Harris\n    District Sales Manager\n    In Your Hands Insurance, Inc.  All rights reserved.\n---\n    From: Janice Franz\n    To: Steve Perkins\n    Sent: Friday, 6:09am\n    Subject: RE: Job Opportunity\n\n    Hi Steve!\n\n    Hope you're having a great day!  I didn't hear back from you.  I just wanted to reach out to you\n    one more time to set up a quick chat.  How's Tuesday morning next week?  Let me know either\n    way.  I'm excited to talk to you!\n\n    Have a wonderful weekend.\n    \n    Janis Franz\n    Assistant Director\n    Embrace Insurance\n}\n",u(hi,"COMMUTER_1","\n{Another commuter waiting on the train.  I say hello and she says hello back.\n|I think one hello is enough when talking to complete strangers.}\n",Pt))))))))))))))))))))))))))),pi=u(hi,"checkMap","",u(hi,"goToLinePlatform","",u(hi,"goToLineTurnstile","",u(hi,"goToLobby","",Pt)))),bi=u(fr,t((function(n,e){return u(po,Ot,e,n)})),Pt,m([pi,di,gi])),mi={cycleIndex:0,propKeywords:Pt,trigger:"",worldModel:Pt},Ei=u(po,r((function(n,e,t){var r=a(li,mi,e);return"Err"===r.$?a(Ae,B("Narrative content: "+n+" "+e+" ",r.a),t):t})),g,bi),vi=t((function(n,e){return{$:"DecStat",a:n,b:e}})),_i=t((function(n,e){return{$:"IncStat",a:n,b:e}})),yi=t((function(n,e){return{$:"SetLink",a:n,b:e}})),Ri=t((function(n,e){return{$:"SetStat",a:n,b:e}})),Si=(xo=r((function(n,e,t){return nr(a(Ae,t(e),n))})),a(ir,g,(function(n){return Jt(m([a(Wt,a(St,a(St,et(Je),mt(We(Y(" ")))),Vt(".")),Jt(m([a(Wt,a(St,et((function(e){return nr(a(Ae,{$:"RemoveTag",a:e},n))})),Vt("-")),Xt),a(Wt,a(Wt,et(xo(n)),Xt),Jt(m([a(Wt,a(St,et(Je),Vt("+")),a(er,(function(n){return function(e){return a(_i,e,n)}}),Qt)),a(Wt,a(St,et(Je),Vt("-")),a(er,(function(n){return function(e){return a(vi,e,n)}}),Qt)),a(Wt,a(St,et(Je),Vt("=")),Jt(m([a(er,(function(n){return function(e){return a(Ri,e,n)}}),Qt),a(er,(function(){return function(n){return a(yi,n,"$")}}),Vt("$")),a(er,(function(n){return function(e){return a(yi,e,n)}}),Tt)]))),et((function(n){return{$:"AddTag",a:n}}))])))]))),et(Zt(n))]))}))),Ti=t((function(n,e){return{$:"Update",a:n,b:e}})),ki=t((function(n,e){return{$:"UpdateAll",a:n,b:e}})),wi=Jt(m([a(er,Et(Ti("$")),Vt("$")),a(er,Ti,Tt),a(Wt,a(St,a(St,et(Je),Vt("(")),Vt("*")),a(St,a(er,(function(n){return ki(n)}),Co),Vt(")")))])),Li=a(Wt,a(Wt,et(t((function(n,e){return n(e)}))),wi),Si),Ii=function(n){return a(yr,a(St,Li,sr),n)},Ai=o((function(n,e,t,r){if("Err"===e.$)return pr(e.a);var o=e.a;if("Err"===t.$)return pr(t.a);var i=t.a;return"Err"===r.$?pr(r.a):br(u(n,o,i,r.a))})),$i=t((function(n,e){return B(n,e)})),Oi=H(g,m([a($i,"ridingTheTrain",{changes:m(["PLAYER.location=$"]),conditions:g,trigger:"*.station"}),a($i,"goToLobby",{changes:m(["PLAYER.-at_turnstile"]),conditions:g,trigger:"LOBBY"}),a($i,"goToLineTurnstile",{changes:m(["PLAYER.line=$","PLAYER.at_turnstile"]),conditions:m(["PLAYER.!at_turnstile"]),trigger:"*.line"}),a($i,"goToLinePlatform",{changes:m(["PLAYER.-at_turnstile"]),conditions:m(["PLAYER.at_turnstile","*.valid_on=$.location=PLAYER"]),trigger:"*.line"}),a($i,"jumpTurnstileFail",{changes:m(["PLAYER.-at_turnstile"]),conditions:g,trigger:"*.line"}),a($i,"checkMap",{changes:g,conditions:g,trigger:"*.map"})])),Ni=H(g,m([a($i,"notGoingToWork",{changes:g,conditions:m(["PLAYER.destination=BROADWAY_STREET.chapter=1"]),trigger:"*.station"}),a($i,"checkEmails",{changes:m(["CELL_PHONE.-unread"]),conditions:g,trigger:"CELL_PHONE"}),a($i,"forcePlayerToReadEmails",{changes:g,conditions:m(["CELL_PHONE.unread","PLAYER.chapter=1"]),trigger:"*.line"}),a($i,"coffeeCartMonday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=1"]),trigger:"COFFEE_CART"}),a($i,"coffeeCartTuesday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=2"]),trigger:"COFFEE_CART"}),a($i,"coffeeCartWednesday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=3"]),trigger:"COFFEE_CART"}),a($i,"coffeeCartThursday",{changes:m(["COFFEE.location=PLAYER"]),conditions:m(["PLAYER.day=4"]),trigger:"COFFEE_CART"}),a($i,"coffeeCartFriday",{changes:m(["SODA_MACHINE.get_caffeinated_plot=1"]),conditions:m(["PLAYER.day=5.chapter=1","SODA_MACHINE.get_caffeinated_plot<1"]),trigger:"COFFEE_CART"}),a($i,"sodaMachineBroken",{changes:g,conditions:g,trigger:"SODA_MACHINE.broken"}),a($i,"sodaMachineFixed",{changes:g,conditions:m(["PLAYER.chapter=1"]),trigger:"SODA_MACHINE.!broken"}),a($i,"get_caffeinated_plot_1",{changes:m(["$.get_caffeinated_plot+1"]),conditions:m(["PLAYER.chapter=1"]),trigger:"SODA_MACHINE.!broken.get_caffeinated_plot=1"}),a($i,"get_caffeinated_plot_2",{changes:m(["$.get_caffeinated_plot+1","PLAYER.persistent+1"]),conditions:m(["PLAYER.chapter=1"]),trigger:"SODA_MACHINE.!broken.get_caffeinated_plot=2"}),a($i,"get_caffeinated_plot_3",{changes:g,conditions:m(["PLAYER.chapter=1"]),trigger:"SODA_MACHINE.!broken.get_caffeinated_plot=3"}),a($i,"firstMeetSkaterDude",{changes:m(["$.location=offscreen"]),conditions:m(["PLAYER.chapter=1"]),trigger:"SKATER_DUDE"}),a($i,"endMonday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","COMMUTER_1.location=offscreen","LOUD_PAYPHONE_LADY.location=offscreen","TRASH_DIGGER.location=WEST_MULBERRY"]),conditions:m(["PLAYER.day=1"]),trigger:"BROADWAY_STREET"}),a($i,"endTuesday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","TRASH_DIGGER.location=offscreen","SKATER_DUDE.location=WEST_MULBERRY"]),conditions:m(["PLAYER.day=2"]),trigger:"BROADWAY_STREET"}),a($i,"endWednesday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","SKATER_DUDE.location=offscreen","TRASH_DIGGER.location=WEST_MULBERRY","BENCH_BUM.location=WEST_MULBERRY"]),conditions:m(["PLAYER.day=3"]),trigger:"BROADWAY_STREET"}),a($i,"endThursday",{changes:m(["PLAYER.location=WEST_MULBERRY.day+1","CELL_PHONE.unread","COFFEE.location=offscreen","TRASH_DIGGER.location=offscreen","BENCH_BUM.location=offscreen","SODA_MACHINE.-broken"]),conditions:m(["PLAYER.day=4"]),trigger:"BROADWAY_STREET"}),a($i,"fallAsleep",{changes:m(["PLAYER.location=TWIN_BROOKS.chapter+1.destination=xxx","COFFEE.location=offscreen"]),conditions:m(["PLAYER.day=5.chapter=1"]),trigger:"BROADWAY_STREET"}),a($i,"getMap",{changes:m(["MAP.location=PLAYER"]),conditions:m(["MAP.!location=PLAYER"]),trigger:"MAP_POSTER"})])),Ci=u(fr,t((function(n,e){var t=n.a,o=n.b,i=function(){var n=o.trigger,e=o.conditions,t=o.changes;return s(Ai,r((function(n,e,t){return{changes:t,conditions:e,trigger:n}})),Po(n),a(Bo,Po,e),a(Bo,Ii,t))}();if("Ok"===i.$)return a(Jr,a(Ot,t,i.a),e);var u,c,f=i.a;return a(qr,Ae(B("Rule: "+t+" "+(c=(u=o).changes,u.trigger+" | "+a(no,", ",u.conditions)+" | "+a(no,", ",c)+" "),f)),e)})),B(Pt,g),H(Ni,Oi)),xi=function(n){return n.b},Pi=Ci.b,Bi=function(n){return"Ok"===n.$},Mi=f,Yi=i((function(n,e,t,r,o){for(;;){if(0>e)return a(Vo,!1,{nodeList:r,nodeListSize:t/32|0,tail:o});var i=Wo(u(Mi,32,e,n));n=n,e-=32,t=t,r=a(Ae,i,r),o=o}})),Di=t((function(n,e){if(n>0){var t=n%32;return c(Yi,e,n-t-32,n,g,u(Mi,t,n-t,e))}return jo})),Hi=t((function(n,e){return{$:"Failure",a:n,b:e}})),Fi=t((function(n,e){return{$:"Field",a:n,b:e}})),ji=t((function(n,e){return{$:"Index",a:n,b:e}})),Wi=function(n){return{$:"OneOf",a:n}},Ui=v,Gi=r((function(n,e,t){for(;;){if(C(n,e)>=1)return t;var r=n,o=e-1,i=a(Ae,e,t);n=r,e=o,t=i}})),Ji=t((function(n,e){return u(Gi,n,e,g)})),qi=t((function(n,e){return u(Ui,n,a(Ji,0,oi(e)-1),e)})),Ki=Q,zi=function(n){return a(no,"\n    ",a(eo,"\n",n))},Vi=hn,Qi=t((function(n,e){return"\n\n("+To(n+1)+") "+zi(Xi(e))})),Xi=function(n){return a(Zi,n,g)},Zi=t((function(n,e){n:for(;;)switch(n.$){case"Field":var t=n.a,r=n.b,o=function(){var n,e,r=(e=(n=t).charCodeAt(0))?Be(55296>e||e>56319?B(Y(n[0]),n.slice(1)):B(Y(n[0]+n[1]),n.slice(2))):Me;if("Nothing"===r.$)return!1;var o=r.a,i=o.b;return at(o.a)&&a(Ki,st,i)}();n=r,e=a(Ae,o?"."+t:"['"+t+"']",e);continue n;case"Index":r=n.b;var i="["+To(n.a)+"]";n=r,e=a(Ae,i,e);continue n;case"OneOf":var u=n.a;if(u.b){if(u.b.b){var s=(e.b?"The Json.Decode.oneOf at json"+a(no,"",lr(e)):"Json.Decode.oneOf")+" failed in the following "+To(oi(u))+" ways:";return a(no,"\n\n",a(Ae,s,a(qi,Qi,u)))}n=r=u.a,e=e;continue n}return"Ran into a Json.Decode.oneOf with no possibilities"+(e.b?" at json"+a(no,"",lr(e)):"!");default:var c=n.a,f=n.b;return(s=e.b?"Problem with the value at json"+a(no,"",lr(e))+":\n\n    ":"Problem with the given value:\n\n")+zi(a(Vi,4,f))+"\n\n"+c}})),na=In,ea=na(g),ta={$:"Loaded"},ra={$:"Continue"},oa=function(n){return{$:"Interact",a:n}},ia={$:"NoOp"},aa={$:"ToggleMap"},ua=t((function(n,e){var t="Title"===n.scene.$;if(!n.loaded||n.selectScene)return ia;switch(e){case" ":return t?oa("LOBBY"):n.showMap?aa:fo(n.story)?ia:ra;case"m":return aa;default:return ia}})),sa=On("keyPress",nn),ca=Z,fa=On("loaded",ca),la=In,ha={$:"Arriving"},da={$:"Disembark"},ga={$:"InTransit"},pa={$:"Lobby"},ba=function(n){return{$:"Train",a:n}},ma=r((function(n,e,t){return a(De,(function(n){return a(io,n,t)?Be(n):Me}),a(De,a(Te,(function(n){return n.links}),Ye(e)),a(Ye,n,t)))})),Ea=function(n){switch(n){case"RED_LINE":return Be(Ar);case"YELLOW_LINE":return Be($r);case"GREEN_LINE":return Be(wr);case"ORANGE_LINE":return Be(Lr);case"BLUE_LINE":return Be(kr);case"PURPLE_LINE":return Be(Ir);default:return Me}},va=function(n){return a(De,Ea,u(ma,"PLAYER","line",n))},_a=function(n){return bn((function(e){var t=setTimeout((function(){e(pn(P))}),n);return function(){clearTimeout(t)}}))},ya=function(n){return{$:"Perform",a:n}},Ra=pn,Sa=Ra(P),Ta=mn,ka=t((function(n,e){return a(Ta,(function(e){return Ra(n(e))}),e)})),wa=r((function(n,e,t){return a(Ta,(function(e){return a(Ta,(function(t){return Ra(a(n,e,t))}),t)}),e)})),La=wn,Ia=t((function(n,e){var t=e.a;return function(n){return bn((function(e){e(pn(vn(n)))}))}(a(Ta,La(n),t))}));Tn.Task={b:Sa,c:r((function(n,e){return a(ka,(function(){return P}),(t=a(gr,Ia(n),e),u(dr,wa(Ae),Ra(g),t)));var t})),d:r((function(){return Ra(P)})),e:t((function(n,e){return ya(a(ka,n,e.a))})),f:void 0};var Aa,$a=Ln("Task"),Oa=t((function(n,e){return $a(ya(a(ka,n,e)))})),Na=t((function(n,e){switch(n){case"checkMap":return B(D(e,{showMap:!e.showMap}),ea);case"goToLineTurnstile":return B(D(e,{scene:(r=a(jt,Ar,va(e.worldModel)),{$:"Turnstile",a:r})}),ea);case"goToLobby":return B(D(e,{scene:pa}),ea);case"get_caffeinated_plot_2":return B(e,a(Oa,(function(){return{$:"Achievement",a:"get_caffeinated_plot_achievement"}}),_a(300)));default:var t=n;return a(ft,t,m(["goToLinePlatform"]))?B(D(e,{scene:{$:"Platform",a:a(jt,Ar,va(e.worldModel))}}),ea):a(ft,t,m(["endMonday","endTuesday","endWednesday","endThursday"]))?B(D(e,{scene:Se(Fe(e.worldModel))}),ea):B(e,ea)}var r})),Ca=t((function(n,e){var t=e.b;return a(qr,(function(n){return na(m([n,t]))}),n(e.a))})),xa=r((function(n,e,t){return D(t,{stats:u(Ot,n,a(jt,0,a(Ye,n,t.stats))-e,t.stats)})})),Pa=r((function(n,e,t){return D(t,{stats:u(Ot,n,a(jt,0,a(Ye,n,t.stats))+e,t.stats)})})),Ba=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.e.d.$&&"Red"===n.e.d.a.$){var e=n.d,t=n.e,r=t.b,o=t.c,i=(l=t.d).d,a=l.e,u=t.e;return c(wt,It,l.b,l.c,c(wt,kt,n.b,n.c,c(wt,It,e.b,e.c,e.d,e.e),i),c(wt,kt,r,o,a,u))}var s=n.d,f=n.e,l=(r=f.b,o=f.c,f.d);return u=f.e,c(wt,kt,n.b,n.c,c(wt,It,s.b,s.c,s.d,s.e),c(wt,It,r,o,l,u))}return n},Ma=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$&&"RBNode_elm_builtin"===n.e.$){if("RBNode_elm_builtin"===n.d.d.$&&"Red"===n.d.d.a.$){var e=n.b,t=n.c,r=n.d,o=r.d,i=r.e,a=n.e,u=a.b,s=a.c,f=a.d,l=a.e;return c(wt,It,r.b,r.c,c(wt,kt,o.b,o.c,o.d,o.e),c(wt,kt,e,t,i,c(wt,It,u,s,f,l)))}var h=n.d,d=n.e;return u=d.b,s=d.c,f=d.d,l=d.e,c(wt,kt,e=n.b,t=n.c,c(wt,It,h.b,h.c,h.d,i=h.e),c(wt,It,u,s,f,l))}return n},Ya=e(7,Aa=function(n,e,t,r,o,i,a){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return c(wt,t,i.b,i.c,i.d,c(wt,It,r,o,i.e,a));n:for(;;){if("RBNode_elm_builtin"===a.$&&"Black"===a.a.$){if("RBNode_elm_builtin"===a.d.$){if("Black"===a.d.a.$)return Ma(e);break n}return Ma(e)}break n}return e},(function(){return function(n){return function(e){return function(t){return function(r){return function(o){return function(i){return Aa(0,n,e,t,r,o,i)}}}}}}})),Da=function(n){if("RBNode_elm_builtin"===n.$&&"RBNode_elm_builtin"===n.d.$){var e=n.a,t=n.b,r=n.c,o=n.d,i=o.d,a=n.e;if("Black"===o.a.$){if("RBNode_elm_builtin"===i.$&&"Red"===i.a.$)return c(wt,e,t,r,Da(o),a);var u=Ba(n);if("RBNode_elm_builtin"===u.$){var s=u.e;return c(At,u.a,u.b,u.c,Da(u.d),s)}return Lt}return c(wt,e,t,r,Da(o),a)}return Lt},Ha=t((function(n,e){if("RBEmpty_elm_builtin"===e.$)return Lt;var t,r,o,i,u,s,f,l,h=e.a,d=e.b,g=e.c,p=e.d,b=e.e;if(0>C(n,d)){if("RBNode_elm_builtin"===p.$&&"Black"===p.a.$){var m=p.d;if("RBNode_elm_builtin"===m.$&&"Red"===m.a.$)return c(wt,h,d,g,a(Ha,n,p),b);var E=Ba(e);if("RBNode_elm_builtin"===E.$){var v=E.e;return c(At,E.a,E.b,E.c,a(Ha,n,E.d),v)}return Lt}return c(wt,h,d,g,a(Ha,n,p),b)}return a(Fa,n,(r=n,o=e,i=h,u=d,s=g,f=p,l=b,7===(t=Ya).a?t.f(r,o,i,u,s,f,l):t(r)(o)(i)(u)(s)(f)(l)))})),Fa=t((function(n,e){if("RBNode_elm_builtin"===e.$){var t=e.a,r=e.b,o=e.c,i=e.d,u=e.e;if(A(n,r)){var s=function(n){for(;;){if("RBNode_elm_builtin"!==n.$||"RBNode_elm_builtin"!==n.d.$)return n;n=n.d}}(u);return"RBNode_elm_builtin"===s.$?c(At,t,s.b,s.c,i,Da(u)):Lt}return c(At,t,r,o,i,a(Ha,n,u))}return Lt})),ja=t((function(n,e){var t=a(Ha,n,e);return"RBNode_elm_builtin"===t.$&&"Red"===t.a.$?c(wt,kt,t.b,t.c,t.d,t.e):t})),Wa=t((function(n,e){return Nt(a(ja,n,e.a))})),Ua=t((function(n,e){return D(e,{tags:a(Wa,n,e.tags)})})),Ga=r((function(n,e,t){var r=e(a(Ye,n,t));return"Just"===r.$?u(Ot,n,r.a,t):a(ja,n,t)})),Ja=r((function(n,e,t){return u(Ga,n,Ft(e),t)})),qa=r((function(n,e,o){var i=function(n){return"$"===n?e:n},s=r((function(n,e,t){switch(e.$){case"AddTag":return u(Ja,n,xt(e.a),t);case"RemoveTag":return u(Ja,n,Ua(e.a),t);case"SetStat":return u(Ja,n,a(Ht,e.a,e.b),t);case"IncStat":return u(Ja,n,a(Pa,e.a,e.b),t);case"DecStat":return u(Ja,n,a(xa,e.a,e.b),t);default:return u(Ja,n,a(Dt,e.a,i(e.b)),t)}})),c=function(n){return fr(s(n))};return u(fr,t((function(n,e){if("Update"===n.$){var r=n.b;return u(c,i(n.a),e,r)}var o=n.a;return r=n.b,u(fr,t((function(n,e){return u(c,n.a,e,r)})),e,a(Eo,yo(o),e))})),o,n)})),Ka=function(n){var e=n.pendingChanges;if("Just"===e.$){var t=e.a,r=t.a,o=t.b;return a(Ca,Na(t.c),B(D(n,{pendingChanges:Me,worldModel:u(qa,o,r,n.worldModel)}),ea))}return B(n,ea)},za=t((function(n,e){return D(e,{status:n})})),Va=t((function(n,e){return a(Oa,Et(e),_a(n))})),Qa=function(n){return B(n,ea)},Xa=y,Za=t((function(n,e){return u(dr,t((function(e,t){return n(e)?a(Ae,e,t):t})),g,e)})),nu=t((function(n,e){var t=a(St,fi(n),sr),r=a(yr,t,e);if("Ok"===r.$){var o=r.a;return a(Za,a(so,Kt,Ue),a(eo,"---",o))}return m(["ERROR could not parse: "+e+"\n(see console for specific error)"])})),eu=function(n){return a(jt,"ERROR: can't find content for key "+n,a(Ye,n,bi))},tu=t((function(n,e){return"Just"===e.$?br(e.a):pr(n)})),ru=o((function(n,e,t,r){var o=function(n){return"$"===n?t:n},i=jr(m([B("name",a(Te,o,(function(e){return a(Rr,(function(n){return n.name}),a(tu,"Unable to find entity for id: "+e,a(Ye,e,n.worldModel)))}))),B("description",a(Te,o,a(Te,eu,br)))])),s=u(Ga,e,(function(n){return Be(a(jt,1,a(Ft,ht(1),n)))}),n.ruleMatchCounts);return B(a(nu,{cycleIndex:a(jt,0,a(Ye,e,n.ruleMatchCounts)),propKeywords:i,trigger:t,worldModel:n.worldModel},r),s)})),ou=r((function(n,e,t){return!fo(a(Eo,a(Ro,n,t),e))})),iu=r((function(n,e,t){return"Match"===(r=a(Ro,e,t)).$?A(r.a,e)&&!fo(a(Eo,r,n)):!fo(a(Eo,a(_o,e,r.a),n));var r})),au=function(n){var e=n.trigger,r=n.conditions,o=function(n){return oi("Match"===n.$?n.b:n.a)},i="Match"===e.$?100+o(e):0+o(e);return u(fr,t((function(n,e){return"Match"===n.$?10+o(n)+e:0+o(n)+e})),0,r)+i},uu=function(n){return n.b?Be(n.a):Me},su=_,cu=r((function(n,e,r){return uu(lr(a(su,a(Te,xi,au),Ce(a(bo,t((function(e,t){return u(iu,r,n,t.trigger)&&a(co,a(ou,n,r),t.conditions)})),e)))))})),fu=Ci.a,lu=t((function(n,e){return t="Ok"===(o=Po(r=n)).$?o.a:a(Xa,"ERROR parsing matcher:"+r+"\n"+ko(o.a),a(_o,"PARSING_ERROR",g)),a(Eo,t,e);var t,r,o})),hu=t((function(n,e){return!fo(a(lu,n,e))})),du=t((function(n,e){var t=u(cu,n,fu,e.worldModel);if("Nothing"===t.$){var r=a(hu,n+".silent",e.worldModel)?B(g,e.ruleMatchCounts):s(ru,e,n,n,eu(n));return B(D(e,{ruleMatchCounts:h=r.b,story:o=r.a}),ea)}var o,i=t.a,c=i.a,f=i.b,l=s(ru,e,c,n,eu(c)),h=l.b;return a(Ca,fo(o=l.a)?Ka:Qa,B(D(e,{pendingChanges:Be(M(n,f.changes,c)),ruleMatchCounts:h,story:o}),ea))})),gu=t((function(n,e){n:for(;;){if(n>0){if(e.b){n-=1,e=e.b;continue n}return e}return e}})),pu=t((function(n,e){if(e.gameOver)return Qa(e);switch(n.$){case"NoOp":return Qa(e);case"Loaded":return B(D(e,{loaded:!0}),ea);case"LoadScene":var r=n.a,o=r.a,i=r.b;return u(fr,t((function(n,e){return a(Ca,Ka,a(Ca,pu(oa(n)),e))})),B(D(o,{selectScene:!1}),ea),i);case"Interact":var s=n.a;return a(Ca,du(s),B(D(e,{history:a(Xa,"history\n",H(e.history,m([s])))}),ea));case"Delay":var c=n.a;return B(e,a(Oa,Et(n.b),_a(c)));case"ToggleMap":return B(a(hu,"MAP.location=PLAYER",e.worldModel)?D(e,{showMap:!e.showMap}):e,ea);case"Go":return B(D(e,{scene:n.a}),ea);case"BoardTrain":var f=n.b;return B(D(e,{scene:ba({line:n.a,status:ga})}),a(Va,800,oa(f)));case"Continue":return oi(e.story)>1?B(D(e,{story:a(gu,1,e.story)}),ea):a(Ca,(function(n){var e=n.scene;return"Train"===e.$?B(D(n,{scene:ba(a(za,ha,e.a))}),a(Va,900,da)):B(n,ea)}),a(Ca,Ka,B(D(e,{story:g}),ea)));case"Achievement":return B(D(e,{story:m([eu(n.a)])}),ea);default:return B(D(e,{scene:pa}),ea)}})),bu={$:"CentralGuardOffice"},mu=function(n){return{$:0,a:n}},Eu=function(n){switch(n.$){case"Normal":return 0;case"MayStopPropagation":return 1;case"MayPreventDefault":return 2;default:return 3}},vu=Dn("div"),_u=Dn("img"),yu=dn,Ru=t((function(n,e){return a(jn,n,yu(e))})),Su=Ru("className"),Tu=Fn,ku=t((function(n,e){return a(Tu,n,{$:"Normal",a:e})})),wu=function(n){return a(ku,"click",mu(n))},Lu=a(vu,m([wu(aa),Su("map")]),m([a(_u,m([Su("map__image"),("img/subway-map-full.jpg",a(Ru,"src",/^\s*(javascript:|data:text\/html)/i.test("img/subway-map-full.jpg")?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':"img/subway-map-full.jpg"))]),g)])),Iu=r((function(n,e,t){n:for(;;){if(n>0){if(e.b){var r=e.a;n-=1,e=e.b,t=a(Ae,r,t);continue n}return t}return t}})),Au=t((function(n,e){return lr(u(Iu,n,e,g))})),$u=r((function(n,e,t){if(e>0){var r=B(e,t);n:for(;;){e:for(;;){if(!r.b.b)return t;if(!r.b.b.b){if(1===r.a)break n;break e}switch(r.a){case 1:break n;case 2:var o=r.b;return m([o.a,o.b.a]);case 3:if(r.b.b.b.b){var i=r.b,s=i.b;return m([i.a,s.a,s.b.a])}break e;default:if(r.b.b.b.b&&r.b.b.b.b.b){var c=r.b,f=c.b,l=f.b,h=l.b,d=h.b;return a(Ae,c.a,a(Ae,f.a,a(Ae,l.a,a(Ae,h.a,n>1e3?a(Au,e-4,d):u($u,n+1,e-4,d)))))}break e}}return t}return m([r.b.a])}return g})),Ou=t((function(n,e){return u($u,0,n,e)})),Nu=Dn("h1"),Cu=Dn("li"),xu=Mn,Pu=Dn("ul"),Bu=Dn("span"),Mu=function(n){return Hn(function(n){return"script"==n?"p":n}(n))},Yu=function(n){return"Just"===n.$},Du=le({defaultHighlighting:Me,githubFlavored:Be({breaks:!1,tables:!1}),sanitize:!0,smartypants:!1}),Hu=Dn("a"),Fu=Dn("h2"),ju=Dn("p"),Wu=function(n){return a(Ru,"href",/^javascript:/i.test((e=n).replace(/\s/g,""))?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':e);var e},Uu=Xo(m([B("The daily grind",m(["Go to work"])),B("Deadline",m(["Get back to the office in time","Give your presentation"]))])),Gu=m([{chapters:Xo(m(["Who was that girl in the yellow dress?"])),id:"down_the_rabbit_hole",name:"Down the rabbit hole"}]),Ju=function(n){return a(jt,{name:"ERRORR getting station: "+n},a(Ye,n,Wr))},qu=t((function(n,e){return u(fr,t((function(n,t){var r=n.a;return a(ft,e,n.b)?a(Ae,r,t):t})),g,n)})),Ku=function(n){var e=Yr(n);return a(vu,m([Su("Connection "+e.id),wu(oa(e.id))]),m([xu(To(e.number))]))},zu=t((function(n,e){return a(vu,m([Su("Connections")]),a(gr,Ku,a(su,a(Te,Yr,(function(n){return n.number})),a(qu,n,e))))})),Vu=r((function(n,e,t){var r=n(e);return"Just"===r.$?a(Ae,r.a,t):t})),Qu=t((function(n,e){return u(dr,Vu(n),g,e)})),Xu=r((function(n,e,r){var o=Ju(r).name+" Station",i=t((function(n,e){return fo(e)?xu(""):a(vu,m([Su("Sign__section")]),m([a(vu,m([Su("Sign__header3")]),m([xu(n)])),a(Pu,m([Su("Sign__list")]),e)]))})),s=function(n){return a(Cu,m([Su("Sign__item Sign__item--list")]),m([xu(n)]))},c=a(lu,"*.item.location="+r,e),f=a(lu,"*.item.location=PLAYER",e),l=a(vu,m([Su("Sign Sign--inventory")]),m([a(vu,m([Su("Sign__header2")]),m([xu("Inventory")])),a(vu,m([Su("Inventory")]),a(gr,(function(n){var e=n.a;return a(vu,m([Su("Inventory__item icon--"+e),wu(oa(e))]),g)}),f))])),h=a(Qu,(function(n){return a(Ft,Et(n.name),u(He,"PLAYER",n.id,e))}),Gu),d=a(lu,"*.character.location="+r,e),p=a(vu,m([Su("Sign Sign--station")]),m([a(vu,m([Su("Sign__header1")]),m([xu(o)])),a(vu,m([Su("Sign__split")]),m([a(vu,m([Su("Sign__left")]),m([a(zu,n,r)])),a(vu,m([Su("Sign__right")]),a(gr,a(Te,qr((function(n){return n.name})),(function(n){var e=n.a,t=n.b;return a(vu,m([Su("Sign__item Sign__item--interactable"),wu(oa(e))]),m([xu(t)]))})),H(d,c)))]))])),b=a(jt,M(0,"Error, can't find current chapter",g),a(De,(function(n){return a(Ft,(function(e){return M(n,e.a,e.b)}),a(ti,n-1,Uu))}),u(He,"PLAYER","chapter",e))),E=b.b,v=b.c,_="Chapter "+To(b.a)+": "+E,y=a(vu,m([Su("Sign Sign--chapter")]),m([a(vu,m([Su("Sign__header2")]),m([xu(_)])),a(i,"Goals:",a(gr,s,v)),a(i,"Distractions:",a(gr,s,h))]));return a(vu,m([Su("Scene Lobby")]),m([a(vu,m([Su("Lobby__scene")]),m([p,y,l]))]))})),Zu=t((function(n,e){return{$:"BoardTrain",a:n,b:e}})),ns=N,es=function(n){return Su(a(no," ",a(gr,Hr,a(Za,xi,n))))},ts=o((function(n,e,r,o){var i,u=Yr(r),s=a(vu,m([Su("Line_map__info")]),m([Ku(r),xu(u.name)])),c=t((function(t,i){return a(vu,m([Su("Stop"),wu(A(i,e)?ia:A(o,Me)?a(Zu,r,i):A(o,Be(i))?a(Zu,r,i):oa(i))]),m([a(vu,m([Su("Stop__connections")]),a(gr,Ku,a(Za,ns(t),function(e){return a(su,a(Te,Yr,(function(n){return n.number})),a(qu,n,e))}(i)))),a(vu,m([es(m([B("Stop__dot",!0),B(Yr(r).id,!0),B("Stop__dot--current",A(i,e))]))]),g),a(vu,m([es(m([B("Stop__name",!0),B("Stop__name--current",A(i,e))]))]),m([xu(Ju(i).name)]))]))}));return a(vu,m([Su("Scene Platform")]),m([(i=oa("LOBBY"),a(vu,m([Su("Exit"),wu(i)]),m([a(vu,m([Su("Arrow")]),m([xu(" ")])),a(vu,m([Su("Exit__text")]),m([xu("Exit")]))]))),a(vu,m([Su("Line_map")]),m([s,a(vu,m([Su("Line_map__stops")]),H(m([a(vu,m([Su("Line_map__line "+u.id)]),g)]),a(gr,c(r),u.stations)))]))]))})),rs=t((function(n,e){var t=Yr(e),r=!fo(a(lu,"*.valid_on="+t.id+".location=PLAYER",n));return a(vu,m([Su("Scene Turnstile")]),m([a(vu,m([Su("Turnstile__dialog")]),m(r?[a(vu,m([Su("Turnstile__status")]),m([a(vu,m([Su("Turnstile__icon icon--enter")]),g),a(vu,m([Su("Turnstile__status_text")]),m([xu("Please proceed")]))])),a(vu,m([Su("Turnstile__buttons")]),m([a(vu,m([Su("Turnstile__button"),wu(oa(t.id))]),m([xu("Continue")]))]))]:[a(vu,m([Su("Turnstile__status")]),m([a(vu,m([Su("Turnstile__icon icon--no-enter")]),g),a(vu,m([Su("Turnstile__status_text")]),m([xu("Invalid ticket")]))])),a(vu,m([Su("Turnstile__buttons")]),m([a(vu,m([Su("Turnstile__button"),wu(oa("LOBBY"))]),m([xu("Go back")])),a(vu,m([Su("Turnstile__button"),wu(oa(t.id))]),m([xu("Jump turnstile")]))]))]))]))})),os=Dn("code"),is=Dn("pre"),as=tn,us=en;!function(e){n.Elm?function n(e,t,r){for(var o in r)o in t?"init"==o?L(6,e):n(e+"."+o,t[o],r[o]):t[o]=r[o]}("Elm",n.Elm,e):n.Elm=e}({Main:{init:Ee({init:function(n){var e=Kr.a;return B({gameOver:!1,history:g,loaded:!1,parseErrors:H(Kr.b,H(Pi,Ei)),pendingChanges:Me,ruleMatchCounts:Pt,scene:Se(Fe(e)),selectScene:n.selectScene,showMap:!1,story:g,worldModel:e},ea)},subscriptions:function(n){return la(m([fa(Et(ta)),sa(ua(n))]))},update:pu,view:function(n){return{body:m([function(n){var e,t,r=a(hu,"PLAYER.caught",n.worldModel)?bu:n.scene,o=Dr,i=a(jt,"ERROR getting the current location of player from worldmodel",u(ma,"PLAYER","location",n.worldModel));return n.loaded?fo(n.parseErrors)?n.selectScene?function(n){var e=m(["LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY"]),t=function(t){return B(n,a(Ou,t,e))},r=m([B("Beginning",B(n,g)),B("Tuesday",t(6)),B("Wednesday",t(11)),B("Thursday",t(16)),B("Friday",t(21)),B("Arrive at Twin Brooks",B(n,e))]);return m(["LOBBY","BRIEFCASE","RED_LINE_PASS","RED_LINE_PASS","RED_LINE","CELL_PHONE","CELL_PHONE","CELL_PHONE","COFFEE_CART","COFFEE","COFFEE_CART","COMMUTER_1","COMMUTER_1","LOUD_PAYPHONE_LADY","COFFEE_CART","LOUD_PAYPHONE_LADY","GRAFFITI","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","RED_LINE_PASS","COFFEE_CART","COFFEE_CART","TRASH_DIGGER","TRASH_DIGGER","GRAFFITI","COFFEE","CELL_PHONE","CELL_PHONE","RED_LINE","RED_LINE","CONVENTION_CENTER","BROADWAY_STREET","LOBBY","RED_LINE","SKATER_DUDE","COFFEE_CART","COFFEE_CART","COFFEE","CELL_PHONE","CELL_PHONE","COFFEE","RED_LINE","RED_LINE","BROADWAY_STREET","LOBBY","CELL_PHONE","COFFEE_CART","COFFEE_CART","COFFEE_CART","COFFEE","RED_LINE","RED_LINE","CHURCH_STREET","BROADWAY_STREET","LOBBY","CELL_PHONE","COFFEE_CART","RED_LINE","RED_LINE","LOBBY","RED_LINE","RED_LINE","BROADWAY_STREET","MAP_POSTER","MAP","MAP_POSTER","SAFETY_WARNING_POSTER","RED_LINE","RED_LINE","CONVENTION_CENTER","MAP","GREEN_LINE","GREEN_LINE","LOBBY","RED_LINE","RED_LINE","LOBBY","YELLOW_LINE","LOBBY","CELL_PHONE","BRIEFCASE","RED_LINE_PASS"]),a(vu,m([Su("SelectScene")]),m([a(Nu,g,m([xu("Select a scene to jump to:")])),a(Pu,g,a(gr,(function(n){var e,t=n.a;return a(Cu,m([wu((e=n.b,{$:"LoadScene",a:e}))]),m([xu(t)]))}),r))]))}(n):u(Mu,"div",m([Su("game")]),m([function(){switch(r.$){case"Title":return B("title",(t=r.a,a(vu,m([Su("Scene TitleScene")]),m([a(vu,m([Su("TitleContent")]),m([a(Nu,m([Su("Title")]),m([xu(t)])),a(Bu,m([Su("StoryLine__continue"),wu(oa("LOBBY"))]),m([xu("Continue...")]))]))]))));case"CentralGuardOffice":return B("centralGuardOffice",a(vu,m([Su("Scene CentralGuardOffice")]),m([a(Fu,m([Su("CentralGuardOffice--top")]),m([xu("Central Guard Office")])),a(ju,m([Su("CentralGuardOffice--content")]),m([a(ju,g,m([xu("You are caught! ")])),a(ju,g,m([xu("End of demo, thanks for playing!")])),a(ju,g,m([xu("Made on the "),a(Hu,m([Wu("http://elmnarrativeengine.com")]),m([xu("Elm Narrative Engine")]))])),a(ju,g,m([xu("Contact "),a(Hu,m([Wu("mailto:jeff@elmnarrativeengine.com")]),m([xu("jeff@elmnarrativeengine.com")]))]))]))])));case"Lobby":return B("lobby",u(Xu,o,n.worldModel,i));case"Platform":return B("platform",s(ts,o,i,e=r.a,u(ma,"PLAYER","destination",n.worldModel)));case"Turnstile":return B("turnstile",a(rs,n.worldModel,e=r.a));default:var e=r.a.line;return B("train",(f=(c={arrivingAtStation:A(r.a.status,ha)?Be(i):Me,line:e}).arrivingAtStation,l=a(jt,Yr(c.line).name,a(Ft,(function(n){return"Arriving at: "+Ju(n).name}),f)),h=a(vu,m([Su("train__ticker")]),m([a(vu,m([Su("train__info")]),m([xu(l)]))])),m([Su("train__foreground")]),m([a(vu,m([Su("train__top")]),m([a(vu,m([Su("train__ticker")]),m([a(vu,m([Su("train__info")]),m([xu(l)]))]))])),a(vu,m([Su("train__doors")]),m([a(vu,m([Su("train__door train__door--left")]),g),a(vu,m([Su("train__door train__door--right")]),g)]))]),m([Su("train__background")]),a(vu,m([Su("Scene train")]),m([h]))))}var t,c,f,l,h}(),B("story",(e=a(jt,"",uu(n.story)),Ue(e)?xu(""):(t=e,u(Mu,"div",m([Su("StoryLine")]),m([B(t,a(vu,m([Su("StoryLine__content")]),m([a(Du,g,t),a(Bu,m([Su("StoryLine__continue"),wu(ra)]),m([xu("Continue...")]))])))]))))),B("map",n.showMap?Lu:xu(""))])):a(vu,m([Su("SelectScene Errors")]),m([a(Nu,g,m([xu("Errors when parsing!  Please fix:")])),a(Pu,g,a(gr,(function(n){var e=n.b;return a(Cu,g,m([a(is,g,m([a(os,g,m([xu(n.a)]))])),xu(ko(e))]))}),n.parseErrors))])):a(vu,m([Su("Loading")]),m([xu("Loading...")]))}(n)]),title:"Subway!"}}})(a(as,(function(n){return mu({selectScene:n})}),a(us,"selectScene",ca)))(0)}})}(this)},function(n,e,t){var r={"./gurad-office.jpg":13,"./map-red-yellow-green.jpg":14,"./riding-train.jpg":15,"./subway-lobby.jpg":16,"./subway-map-full.jpg":17,"./subway-turnstile.jpg":18,"./train.jpg":19};function o(n){var e=i(n);return t(e)}function i(n){if(!t.o(r,n)){var e=Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}o.keys=function(){return Object.keys(r)},o.resolve=i,n.exports=o,o.id=12},function(n){n.exports="../../img/gurad-office.jpg"},function(n){n.exports="../../img/map-red-yellow-green.jpg"},function(n){n.exports="../../img/riding-train.jpg"},function(n){n.exports="../../img/subway-lobby.jpg"},function(n){n.exports="../../img/subway-map-full.jpg"},function(n){n.exports="../../img/subway-turnstile.jpg"},function(n){n.exports="../../img/train.jpg"}]);